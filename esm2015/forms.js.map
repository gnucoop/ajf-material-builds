{"version":3,"file":"forms.js","sources":["../../../src/material/forms/forms-module.ts","../../../src/material/forms/form.ts","../../../src/material/forms/field.ts","../../../src/material/forms/field-warning-dialog.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport {MatToolbarModule} from '@angular/material/toolbar';\n\nimport {TranslateModule} from '@ngx-translate/core';\n\nimport {AjfFormsModule as AjfCoreFormsModule} from '@ajf/core/forms';\nimport {AjfCommonModule} from '@ajf/core/common';\nimport {AjfCalendarModule} from '@ajf/material/calendar';\nimport {AjfCheckboxGroupModule} from '@ajf/material/checkbox-group';\nimport {AjfPageSliderModule} from '@ajf/material/page-slider';\nimport {AjfTimeModule} from '@ajf/material/time';\n\nimport {AjfFormField} from './field';\nimport {AjfFormFieldWarningDialog} from './field-warning-dialog';\nimport {AjfFormRenderer} from './form';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    MatButtonModule,\n    MatCardModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatInputModule,\n    MatRadioModule,\n    MatSelectModule,\n    MatSlideToggleModule,\n    MatToolbarModule,\n    TranslateModule,\n    AjfCoreFormsModule,\n    AjfCalendarModule,\n    AjfCheckboxGroupModule,\n    AjfPageSliderModule,\n    AjfTimeModule,\n    AjfCommonModule\n  ],\n  declarations: [\n    AjfFormField,\n    AjfFormFieldWarningDialog,\n    AjfFormRenderer\n  ],\n  exports: [\n    AjfFormField,\n    AjfFormRenderer\n  ],\n  entryComponents: [\n    AjfFormFieldWarningDialog\n  ]\n})\nexport class AjfFormsModule { }\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  ChangeDetectorRef, ChangeDetectionStrategy, Component, Input,\n  ViewChild, ViewChildren, ViewEncapsulation\n} from '@angular/core';\n\nimport {AjfFormRenderer as AjfCoreFormRenderer, AjfFormRendererService} from '@ajf/core/forms';\n\nimport {AjfFormField} from './field';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-form',\n  templateUrl: 'form.html',\n  styleUrls: ['form.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: [\n    'hasStartMessage',\n    'hasEndMessage',\n    'form',\n    'formSchema',\n    'saveDisabled',\n    'title',\n    'hideTopToolbar',\n    'hideBottomToolbar',\n    'hideNavigationButtons',\n    'orientation',\n    'fixedOrientation',\n  ],\n  outputs: [\n    'formSave',\n    'formAction',\n    'orientationChange',\n  ],\n  queries: {\n    formSlider: new ViewChild('formSlider'),\n    fields: new ViewChildren(AjfFormField)\n  }\n})\n/**\n * This class will define an ajf form renderer\n * @implements : AfterViewInit\n * @implements : AfterViewInit\n */\nexport class AjfFormRenderer extends AjfCoreFormRenderer {\n  @Input() topBar: boolean = false;\n\n  constructor(\n    rendererService: AjfFormRendererService,\n    changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(rendererService, changeDetectorRef);\n  }\n\n  scrollToSlide(slide: any): void {\n    this.formSlider.slide({to: slide.position - 1});\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  ChangeDetectionStrategy, ChangeDetectorRef, Component,\n  OnDestroy, OnInit, ViewChild, ViewEncapsulation\n} from '@angular/core';\nimport {MatDialog} from '@angular/material/dialog';\n\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nimport {\n  AjfFormField as AjfCoreFormField, AjfFormFieldWarningAlertResult, AjfFormRendererService\n} from '@ajf/core/forms';\n\nimport {AjfFormFieldWarningDialog} from './field-warning-dialog';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-form-field',\n  templateUrl: 'field.html',\n  styleUrls: ['field.css'],\n  encapsulation: ViewEncapsulation.None,\n  inputs: [\n    'fieldInstance'\n  ],\n  outputs: [\n    'valueChanged'\n  ],\n  queries: {\n    singleChoiceSelect: new ViewChild('singleChoiceSelect'),\n    multipleChoiceSelect: new ViewChild('multipleChoiceSelect')\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFormField extends AjfCoreFormField implements OnDestroy, OnInit {\n  constructor(\n    _rendererService: AjfFormRendererService,\n    _changeDetectionRef: ChangeDetectorRef,\n    private _dialog: MatDialog\n  ) {\n    super(_rendererService, _changeDetectionRef);\n  }\n\n  showWarningAlertPrompt(messagesWarning: string[]): Observable<AjfFormFieldWarningAlertResult> {\n    const dialog = this._dialog.open(AjfFormFieldWarningDialog);\n    dialog.componentInstance.message = messagesWarning.join('<br>');\n    return dialog.afterClosed().pipe(\n      map((result: boolean) => ({result}))\n    );\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, ViewEncapsulation} from '@angular/core';\n\n\n@Component({\n  moduleId: module.id,\n  templateUrl: 'field-warning-dialog.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class AjfFormFieldWarningDialog {\n  message: string;\n}\n"],"names":["AjfCoreFormsModule","AjfCoreFormRenderer","AjfCoreFormField"],"mappings":"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"}