{"version":3,"file":"material-form-builder.umd.js","sources":["../../src/material/form-builder/form-builder-module.ts","../../src/material/form-builder/node-type-entry.ts","../../src/material/form-builder/node-properties.ts","../../src/material/form-builder/warning-condition-editor-dialog.ts","../../src/material/form-builder/validation-condition-editor-dialog.ts","../../src/material/form-builder/node-entry.ts","../../src/material/form-builder/form-builder.ts","../../src/material/form-builder/condition-editor-dialog.ts","../../src/material/form-builder/condition-editor.ts","../../src/material/form-builder/choices-origin-editor-dialog.ts","../../src/material/form-builder/form-builder-service.ts","../../src/material/form-builder/choices-origin-editor.ts","../../src/material/form-builder/choices-origin-data-source.ts","../../src/material/form-builder/branch-line.ts","../../node_modules/tslib/tslib.es6.js"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {DragDropModule} from '@angular/cdk/drag-drop';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatListModule} from '@angular/material/list';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatSidenavModule} from '@angular/material/sidenav';\nimport {MatSliderModule} from '@angular/material/slider';\nimport {MatTableModule} from '@angular/material/table';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {MatTooltipModule} from '@angular/material/tooltip';\n\nimport {TranslateModule} from '@ngx-translate/core';\n\nimport {AjfMonacoEditorModule} from '@ajf/material/monaco-editor';\nimport {AjfNodeIconModule} from '@ajf/material/node-icon';\n\nimport {AjfFbBranchLine} from './branch-line';\nimport {AjfFbChoicesOriginEditorDialog} from './choices-origin-editor-dialog';\nimport {AjfFbChoicesOriginEditor} from './choices-origin-editor';\nimport {AjfFbConditionEditorDialog} from './condition-editor-dialog';\nimport {AjfFbConditionEditor} from './condition-editor';\nimport {AjfFormBuilder} from './form-builder';\nimport {AjfFormBuilderService} from './form-builder-service';\nimport {AjfFbNodeEntry} from './node-entry';\nimport {AjfFbNodeProperties} from './node-properties';\nimport {AjfFbNodeTypeEntry} from './node-type-entry';\nimport {AjfFbValidationConditionEditorDialog} from './validation-condition-editor-dialog';\nimport {AjfFbWarningConditionEditorDialog} from './warning-condition-editor-dialog';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    DragDropModule,\n    MatButtonModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatInputModule,\n    MatListModule,\n    MatMenuModule,\n    MatSelectModule,\n    MatSidenavModule,\n    MatSliderModule,\n    MatTableModule,\n    MatToolbarModule,\n    MatTooltipModule,\n    TranslateModule,\n    AjfMonacoEditorModule,\n    AjfNodeIconModule,\n  ],\n  declarations: [\n    AjfFbBranchLine,\n    AjfFbChoicesOriginEditorDialog,\n    AjfFbChoicesOriginEditor,\n    AjfFbConditionEditorDialog,\n    AjfFbConditionEditor,\n    AjfFbNodeEntry,\n    AjfFbNodeProperties,\n    AjfFbNodeTypeEntry,\n    AjfFbValidationConditionEditorDialog,\n    AjfFbWarningConditionEditorDialog,\n    AjfFormBuilder,\n  ],\n  exports: [\n    AjfFormBuilder,\n  ],\n  entryComponents: [\n    AjfFbChoicesOriginEditorDialog,\n    AjfFbConditionEditorDialog,\n    AjfFbValidationConditionEditorDialog,\n    AjfFbWarningConditionEditorDialog,\n  ],\n  providers: [\n    AjfFormBuilderService\n  ]\n})\nexport class AjfFormBuilderModule { }\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, ViewEncapsulation\n} from '@angular/core';\n\nimport {AjfFormBuilderNodeTypeEntry} from './form-builder-service';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-fb-node-type-entry',\n  templateUrl: 'node-type-entry.html',\n  styleUrls: ['node-type-entry.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFbNodeTypeEntry {\n  private _nodeType: AjfFormBuilderNodeTypeEntry;\n  get nodeType(): AjfFormBuilderNodeTypeEntry { return this._nodeType; }\n  @Input()\n  set nodeType(nodeType: AjfFormBuilderNodeTypeEntry) {\n    this._nodeType = nodeType;\n    this._cdr.markForCheck();\n  }\n\n  constructor(private _cdr: ChangeDetectorRef) { }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  ChangeDetectionStrategy, Component, EventEmitter, OnDestroy, ViewEncapsulation\n} from '@angular/core';\nimport {AbstractControl, FormBuilder, FormGroup, ValidatorFn, Validators} from '@angular/forms';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\n\nimport {Observable, Subscription} from 'rxjs';\nimport {\n  distinctUntilChanged, filter, map, publishReplay, refCount, withLatestFrom\n} from 'rxjs/operators';\n\nimport {AjfCondition} from '@ajf/core/models';\nimport {\n  AjfField, AjfFieldWithChoices, AjfNode, AjfNumberField, IAjfChoicesOrigin,\n} from '@ajf/core/forms';\n\nimport {AjfFbConditionEditorDialog} from './condition-editor-dialog';\nimport {\n  AjfFormBuilderNodeEntry, AjfFormBuilderService,\n  AjfRepeatingContainerNode, isRepeatingContainerNode\n} from './form-builder-service';\nimport {AjfFbValidationConditionEditorDialog} from './validation-condition-editor-dialog';\nimport {AjfFbWarningConditionEditorDialog} from './warning-condition-editor-dialog';\n\n\nfunction checkRepsValidity(c: AbstractControl): {[key: string]: any} | null {\n  const minReps = c.value.minReps;\n  const maxReps = c.value.maxReps;\n  if (minReps != null && maxReps != null && minReps > maxReps) {\n    return {\n      reps: 'Min repetions cannot be greater than max repetitions'\n    };\n  }\n  return null;\n}\n\nfunction checkValueLimitsValidity(c: AbstractControl): {[key: string]: any} | null {\n  const minValue = c.value.minValue;\n  const maxValue = c.value.maxValue;\n  if (minValue != null && maxValue != null && minValue > maxValue) {\n    return {\n      valueLimit: 'Min value cannot be greater than max value'\n    };\n  }\n  return null;\n}\n\nfunction checkDigitsValidity(c: AbstractControl): {[key: string]: any} | null {\n  const minDigits = c.value.minDigits;\n  const maxDigits = c.value.maxDigits;\n  if (minDigits != null && maxDigits != null && minDigits > maxDigits) {\n    return {\n      digits: 'Min digits cannot be greater than max digits'\n    };\n  }\n  return null;\n}\n\nexport interface ValidationCondition {\n  condition: string;\n  errorMessage: string;\n}\n\nexport interface WarningCondition {\n  condition: string;\n  warningMessage: string;\n}\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-fb-node-properties',\n  templateUrl: 'node-properties.html',\n  styleUrls: ['node-properties.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFbNodeProperties implements OnDestroy {\n  private _fieldSizes: {label: string, value: string}[] = [\n    {label: 'Normal', value: 'normal'},\n    {label: 'Small', value: 'small'},\n    {label: 'Smaller', value: 'smaller'},\n    {label: 'Tiny', value: 'tiny'},\n    {label: 'Mini', value: 'mini'}\n  ];\n  get fieldSizes(): {label: string, value: string}[] { return this._fieldSizes; }\n\n  private _nodeEntry: Observable<AjfFormBuilderNodeEntry | null>;\n  get nodeEntry(): Observable<AjfFormBuilderNodeEntry | null> { return this._nodeEntry; }\n\n  private _choicesOrigins: IAjfChoicesOrigin[] = [];\n  get choicesOrigins(): IAjfChoicesOrigin[] { return this._choicesOrigins; }\n\n  private _enabled: Observable<boolean>;\n  get enabled(): Observable<boolean> { return this._enabled; }\n\n  private _propertiesForm: Observable<FormGroup>;\n  get propertiesForm(): Observable<FormGroup> { return this._propertiesForm; }\n\n  private _hasChoices: Observable<boolean>;\n  get hasChoices(): Observable<boolean> { return this._hasChoices; }\n\n  private _curVisibility: string | null;\n  get curVisibility(): string | null { return this._curVisibility; }\n\n  private _curFormulaReps: string | null;\n  get curFormulaReps(): string | null { return this._curFormulaReps; }\n\n  private _curChoicesFilter: string;\n  get curChoicesFilter(): string { return this._curChoicesFilter; }\n\n  private _curForceValue: string | null;\n  get curForceValue(): string | null { return this._curForceValue; }\n\n  private _curFormula: string | null;\n  get curFormula(): string | null { return this._curFormula; }\n\n  private _conditionalBranches: string[] = [];\n  get conditionalBranches(): string[] { return this._conditionalBranches; }\n\n  private _validationConditions: ValidationCondition[] = [];\n  get validationConditions(): ValidationCondition[] { return this._validationConditions; }\n\n  private _warningConditions: WarningCondition[] = [];\n  get warningConditions(): WarningCondition[] { return this._warningConditions; }\n\n  private _nextSlideCondition: string;\n  get nextSlideCondition(): string { return this._nextSlideCondition; }\n\n  private _triggerConditions: string[];\n  get triggerConditions(): string[] { return this._triggerConditions; }\n\n  isRepeatingContainerNode: (node: AjfNode) => boolean = isRepeatingContainerNode;\n\n  private _visibilitySub: Subscription = Subscription.EMPTY;\n  private _conditionalBranchesSub = Subscription.EMPTY;\n  private _formulaRepsSub = Subscription.EMPTY;\n  private _choicesFilterSub = Subscription.EMPTY;\n  private _formulaSub = Subscription.EMPTY;\n  private _forceValueSub = Subscription.EMPTY;\n  private _validationConditionsSub = Subscription.EMPTY;\n  private _warningConditionsSub = Subscription.EMPTY;\n  private _nextSlideConditionSub = Subscription.EMPTY;\n  private _choicesOriginsSub = Subscription.EMPTY;\n  private _triggerConditionsSub = Subscription.EMPTY;\n\n  private _editConditionDialog: MatDialogRef<AjfFbConditionEditorDialog> | null;\n  private _editConditionDialogSub: Subscription = Subscription.EMPTY;\n  private _editValidationConditionDialog: MatDialogRef<AjfFbValidationConditionEditorDialog> | null;\n  private _editValidationConditionDialogSub: Subscription = Subscription.EMPTY;\n  private _editWarningConditionDialog: MatDialogRef<AjfFbWarningConditionEditorDialog> | null;\n  private _editWarningConditionDialogSub: Subscription = Subscription.EMPTY;\n\n  private _editVisibilityEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _editVisibilitySub = Subscription.EMPTY;\n\n  private _editConditionalBranchEvt: EventEmitter<number> = new EventEmitter<number>();\n  private _editConditionalBranchSub = Subscription.EMPTY;\n\n  private _editFormulaRepsEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _editFormulaRepsSub = Subscription.EMPTY;\n\n  private _editChoicesFilterEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _editChoicesFilterSub = Subscription.EMPTY;\n\n  private _editFormulaEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _editFormulaSub = Subscription.EMPTY;\n\n  private _editForceValueEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _editForceValueSub = Subscription.EMPTY;\n\n  private _editValidationConditionEvt: EventEmitter<number> = new EventEmitter<number>();\n  private _editValidationConditionSub = Subscription.EMPTY;\n\n  private _addValidationConditionEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _addValidationConditionSub = Subscription.EMPTY;\n\n  private _removeValidationConditionEvt: EventEmitter<number> = new EventEmitter<number>();\n  private _removeValidationConditionSub = Subscription.EMPTY;\n\n  private _editWarningConditionEvt: EventEmitter<number> = new EventEmitter<number>();\n  private _editWarningConditionSub = Subscription.EMPTY;\n\n  private _addWarningConditionEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _addWarningConditionSub = Subscription.EMPTY;\n\n  private _removeWarningConditionEvt: EventEmitter<number> = new EventEmitter<number>();\n  private _removeWarningConditionSub = Subscription.EMPTY;\n\n  private _editNextSlideConditionEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _editNextSlideConditionSub = Subscription.EMPTY;\n\n  private _editTriggerConditionEvt: EventEmitter<number> = new EventEmitter<number>();\n  private _editTriggerConditionSub = Subscription.EMPTY;\n\n  private _addTriggerConditionEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _addTriggerConditionSub = Subscription.EMPTY;\n\n  private _removeTriggerConditionEvt: EventEmitter<number> = new EventEmitter<number>();\n  private _removeTriggerConditionSub = Subscription.EMPTY;\n\n  private _saveEvt: EventEmitter<void> = new EventEmitter<void>();\n  private _saveSub = Subscription.EMPTY;\n\n  constructor(\n    private _service: AjfFormBuilderService,\n    private _dialog: MatDialog,\n    private _fb: FormBuilder\n  ) {\n    this._nodeEntry = _service.editedNodeEntry;\n    this._choicesOriginsSub = _service.choicesOrigins\n      .subscribe((c) => this._choicesOrigins = c || []);\n\n    this._enabled = this._nodeEntry.pipe(map((n) => n != null));\n\n    this._initForm();\n    this._initVisibilityEdit();\n    this._initConditionalBranchEdit();\n    this._initFormulaRepsEdit();\n    this._initChoicesFilterEdit();\n    this._initFormulaEdit();\n    this._initForceValueEdit();\n    this._initValidationConditionEdit();\n    this._initAddValidationCondition();\n    this._initRemoveValidationCondition();\n    this._initWarningConditionEdit();\n    this._initAddWarningCondition();\n    this._initRemoveWarningCondition();\n    this._initNextSlideConditionEdit();\n    this._initTriggerConditionEdit();\n    this._initAddTriggerCondition();\n    this._initRemoveTriggerCondition();\n    this._initSave();\n  }\n\n  editVisibility(): void {\n    this._editVisibilityEvt.emit();\n  }\n\n  editConditionalBranch(idx: number): void {\n    if (idx < 0 || idx >= this._conditionalBranches.length) { return; }\n    this._editConditionalBranchEvt.emit(idx);\n  }\n\n  editFormulaReps(): void {\n    this._editFormulaRepsEvt.emit();\n  }\n\n  editChoicesFilter(): void {\n    this._editChoicesFilterEvt.emit();\n  }\n\n  editFormula(): void {\n    this._editFormulaEvt.emit();\n  }\n\n  editForceValue(): void {\n    this._editForceValueEvt.emit();\n  }\n\n  editValidationCondition(idx: number): void {\n    if (idx < 0 || idx >= this._validationConditions.length) { return; }\n    this._editValidationConditionEvt.emit(idx);\n  }\n\n  addValidationCondition(): void {\n    this._addValidationConditionEvt.emit();\n  }\n\n  removeValidationCondition(idx: number): void {\n    if (idx < 0 || idx >= this._validationConditions.length) { return; }\n    this._removeValidationConditionEvt.emit(idx);\n  }\n\n  editWarningCondition(idx: number): void {\n    if (idx < 0 || idx >= this._warningConditions.length) { return; }\n    this._editWarningConditionEvt.emit(idx);\n  }\n\n  addWarningCondition(): void {\n    this._addWarningConditionEvt.emit();\n  }\n\n  removeWarningCondition(idx: number): void {\n    if (idx < 0 || idx >= this._warningConditions.length) { return; }\n    this._removeWarningConditionEvt.emit(idx);\n  }\n\n  editNextSlideCondition(): void {\n    this._editNextSlideConditionEvt.emit();\n  }\n\n  editTriggerCondition(idx: number): void {\n    if (idx < 0 || idx >= this._triggerConditions.length) { return; }\n    this._editTriggerConditionEvt.emit(idx);\n  }\n\n  addTriggerCondition(): void {\n    this._addTriggerConditionEvt.emit();\n  }\n\n  removeTriggerCondition(idx: number): void {\n    if (idx < 0 || idx >= this._triggerConditions.length) { return; }\n    this._removeTriggerConditionEvt.emit(idx);\n  }\n\n  isField(node: AjfNode): boolean {\n    return node != null && node instanceof AjfField;\n  }\n\n  isNumericField(node: AjfNode): boolean {\n    return node != null && node instanceof AjfNumberField;\n  }\n\n  isFieldWithChoices(node: AjfNode): boolean {\n    return node != null && node instanceof AjfFieldWithChoices;\n  }\n\n  save(): void {\n    this._saveEvt.emit();\n  }\n\n  cancel(): void {\n    this._service.cancelNodeEntryEdit();\n  }\n\n  ngOnDestroy(): void {\n    this._choicesOriginsSub.unsubscribe();\n\n    this._visibilitySub.unsubscribe();\n    this._formulaRepsSub.unsubscribe();\n    this._choicesFilterSub.unsubscribe();\n    this._formulaSub.unsubscribe();\n    this._forceValueSub.unsubscribe();\n    this._validationConditionsSub.unsubscribe();\n    this._warningConditionsSub.unsubscribe();\n    this._triggerConditionsSub.unsubscribe();\n\n    this._editConditionDialogSub.unsubscribe();\n    this._editValidationConditionDialogSub.unsubscribe();\n    this._editWarningConditionDialogSub.unsubscribe();\n\n    this._editChoicesFilterSub.unsubscribe();\n    this._editConditionalBranchSub.unsubscribe();\n    this._editVisibilitySub.unsubscribe();\n    this._editFormulaRepsSub.unsubscribe();\n    this._editFormulaSub.unsubscribe();\n    this._editForceValueSub.unsubscribe();\n    this._editValidationConditionSub.unsubscribe();\n    this._editWarningConditionSub.unsubscribe();\n    this._nextSlideConditionSub.unsubscribe();\n\n    this._addTriggerConditionSub.unsubscribe();\n    this._addValidationConditionSub.unsubscribe();\n    this._addWarningConditionSub.unsubscribe();\n    this._editNextSlideConditionSub.unsubscribe();\n    this._editTriggerConditionSub.unsubscribe();\n    this._removeTriggerConditionSub.unsubscribe();\n    this._removeValidationConditionSub.unsubscribe();\n    this._removeWarningConditionSub.unsubscribe();\n\n    this._saveSub.unsubscribe();\n  }\n\n  private _initSave(): void {\n    this._saveSub = (<Observable<void>>this._saveEvt)\n      .pipe(withLatestFrom(this.propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        const fg = r[1];\n        const val = {...fg.value,\n          conditionalBranches: this._conditionalBranches\n        };\n        this._service.saveNodeEntry(val);\n      });\n  }\n\n  private _initForm(): void {\n    this._propertiesForm = this._nodeEntry.pipe(\n      filter((n) => n != null),\n      map((n) => {\n        if (this._visibilitySub != null) { this._visibilitySub.unsubscribe(); }\n        if (this._conditionalBranchesSub != null) { this._conditionalBranchesSub.unsubscribe(); }\n        n = n!;\n\n        const visibility = n.node.visibility != null ?\n          n.node.visibility.condition : null;\n        const visibilityOpt = n.node.visibility != null ?\n          this._guessVisibilityOpt(n.node.visibility) : null;\n        let controls: any = {\n          name: [n.node.name, Validators.required],\n          label: n.node.label,\n          visibilityOpt: [visibilityOpt, Validators.required],\n          visibility: [visibility, Validators.required],\n          conditionalBranchesNum: n.node.conditionalBranches.length\n        };\n        const validators: ValidatorFn[] = [];\n\n        if (isRepeatingContainerNode(n.node)) {\n          const rn = <AjfRepeatingContainerNode>n.node;\n\n          const formulaReps = rn.formulaReps != null ? rn.formulaReps.formula : null;\n\n          controls.formulaReps = [formulaReps, Validators.required];\n          controls.minReps = rn.minReps;\n          controls.maxReps = rn.maxReps;\n\n          this._curFormulaReps = formulaReps;\n\n          validators.push(checkRepsValidity);\n        }\n\n        if (this.isField(n.node)) {\n          const field = <AjfField>n.node;\n\n          let forceValue: string | null = null;\n          let notEmpty: boolean = false;\n          let validationConditions: ValidationCondition[] = [];\n          if (field.validation != null) {\n            if (field.validation.forceValue != null) {\n              forceValue = field.validation.forceValue.condition;\n            }\n            notEmpty = field.validation.notEmpty != null;\n            validationConditions = (field.validation.conditions || [])\n              .map(c => {\n                return {\n                  condition: c.condition,\n                  errorMessage: c.errorMessage\n                };\n              });\n          }\n\n          let notEmptyW: boolean = false;\n          let warningConditions: WarningCondition[] = [];\n          if (field.warning != null) {\n            notEmptyW = field.warning.notEmpty != null;\n            warningConditions = (field.warning.conditions || [])\n              .map(w => {\n                return {\n                  condition: w.condition,\n                  warningMessage: w.warningMessage\n                };\n              });\n          }\n          const formula = field.formula != null ? field.formula.formula : null;\n\n          controls.description = field.description;\n          controls.defaultValue = field.defaultValue;\n          controls.size = field.size;\n          controls.formula = formula;\n          controls.forceValue = forceValue;\n          controls.notEmpty = notEmpty;\n          controls.validationConditions = [validationConditions, []];\n          controls.notEmptyWarning = notEmptyW;\n          controls.warningConditions = [warningConditions, []];\n          controls.nextSlideCondition = [field.nextSlideCondition];\n\n          this._curForceValue = forceValue;\n          this._curFormula = formula;\n          this._validationConditions = validationConditions;\n          this._warningConditions = warningConditions;\n        }\n\n        if (this.isNumericField(n.node)) {\n          const numField = <AjfNumberField>n.node;\n\n          let minValue: any;\n          let maxValue: any;\n          let minDigits: any;\n          let maxDigits: any;\n          if (numField.validation != null) {\n            if (numField.validation.minValue != null) {\n              minValue = (numField.validation.minValue.condition || '').replace('$value >= ', '');\n            }\n            if (numField.validation.maxValue != null) {\n              maxValue = (numField.validation.maxValue.condition || '').replace('$value <= ', '');\n            }\n            if (numField.validation.minDigits != null) {\n              minDigits = (numField.validation.minDigits.condition || '')\n                .replace('$value.toString().length >= ', '');\n            }\n            if (numField.validation.maxDigits != null) {\n              maxDigits = (numField.validation.maxDigits.condition || '')\n                .replace('$value.toString().length <= ', '');\n            }\n          }\n\n          controls.minValue = minValue;\n          controls.maxValue = maxValue;\n          controls.minDigits = minDigits;\n          controls.maxDigits = maxDigits;\n\n          validators.push(checkValueLimitsValidity);\n          validators.push(checkDigitsValidity);\n        }\n\n        if (this.isFieldWithChoices(n.node)) {\n          const fieldWithChoices = <AjfFieldWithChoices>n.node;\n\n          let triggerConditions: string[] = (fieldWithChoices.triggerConditions || [])\n            .map((c) => c.condition);\n\n          controls.choicesOrigin = fieldWithChoices.choicesOrigin.getName();\n          controls.choicesFilter = fieldWithChoices.choicesFilter != null ?\n            fieldWithChoices.choicesFilter.formula : null;\n          controls.forceExpanded = fieldWithChoices.forceExpanded;\n          controls.forceNarrow = fieldWithChoices.forceNarrow;\n          controls.triggerConditions = triggerConditions;\n\n          this._triggerConditions = triggerConditions;\n        }\n\n        const fg = this._fb.group(controls);\n        fg.setValidators(validators);\n\n        this._conditionalBranches = n.node.conditionalBranches.map(c => c.condition);\n        this._curVisibility = n.node.visibility != null ? n.node.visibility.condition : null;\n\n        this._handleConditionalBranchesChange(fg);\n        this._handleVisibilityChange(fg);\n        this._handleFormulaRepsChange(fg);\n        this._handleChoicesFilterChange(fg);\n        this._handleFormulaChange(fg);\n        this._handleForceValueChange(fg);\n        this._handleValidationCondtionsChange(fg);\n        this._handleWarningCondtionsChange(fg);\n        this._handleNextSlideConditionChange(fg);\n        this._handleTriggerCondtionsChange(fg);\n\n        return fg;\n      }),\n      publishReplay(1),\n      refCount()\n    );\n  }\n\n  private _destroyConditionDialog(): void {\n    if (this._editConditionDialogSub != null) {\n      this._editConditionDialogSub.unsubscribe();\n      this._editConditionDialogSub = Subscription.EMPTY;\n    }\n    if (this._editConditionDialog != null) {\n      this._editConditionDialog.close();\n      this._editConditionDialog = null;\n    }\n  }\n\n  private _destroyValidationConditionDialog(): void {\n    if (this._editValidationConditionDialogSub != null) {\n      this._editValidationConditionDialogSub.unsubscribe();\n      this._editValidationConditionDialogSub = Subscription.EMPTY;\n    }\n    if (this._editValidationConditionDialog != null) {\n      this._editValidationConditionDialog.close();\n      this._editValidationConditionDialog = null;\n    }\n  }\n\n  private _destroyWarningConditionDialog(): void {\n    if (this._editWarningConditionDialogSub != null) {\n      this._editWarningConditionDialogSub.unsubscribe();\n      this._editWarningConditionDialogSub = Subscription.EMPTY;\n    }\n    if (this._editWarningConditionDialog != null) {\n      this._editWarningConditionDialog.close();\n      this._editWarningConditionDialog = null;\n    }\n  }\n\n  private _initRemoveTriggerCondition(): void {\n    this._removeTriggerConditionSub = (<Observable<number>>this._removeTriggerConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [number, FormGroup]) => {\n        const vcIdx = r[0];\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['triggerConditions'];\n        let vcs = (ctrl.value || []).slice(0);\n        if (vcIdx < 0 || vcIdx >= vcs.length) { return; }\n        vcs.splice(vcIdx, 1);\n        ctrl.setValue(vcs);\n      });\n  }\n\n  private _initAddTriggerCondition(): void {\n    this._addTriggerConditionSub = (<Observable<void>>this._addTriggerConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['triggerConditions'];\n        let vcs = (ctrl.value || []).slice(0);\n        vcs.push('');\n        ctrl.setValue(vcs);\n      });\n  }\n\n  private _initTriggerConditionEdit(): void {\n    this._editTriggerConditionSub = (<Observable<number>>this._editTriggerConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [number, FormGroup]) => {\n        this._destroyConditionDialog();\n        const vcIdx = r[0];\n        const fg = r[1];\n        if (vcIdx < 0 || vcIdx >= this._triggerConditions.length || fg == null) { return; }\n        this._editConditionDialog = this._dialog\n          .open(AjfFbConditionEditorDialog);\n        const cmp = this._editConditionDialog.componentInstance;\n        cmp.condition = this._triggerConditions[vcIdx];\n        this._editConditionDialogSub = this._editConditionDialog.afterClosed()\n          .subscribe((cond: string) => {\n            if (cond !== void 0) {\n              this._triggerConditions[vcIdx] = cond;\n            }\n            this._editConditionDialogSub.unsubscribe();\n            this._editConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _initRemoveWarningCondition(): void {\n    this._removeWarningConditionSub = (<Observable<number>>this._removeWarningConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [number, FormGroup]) => {\n        const vcIdx = r[0];\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['warningConditions'];\n        let vcs = (ctrl.value || []).slice(0);\n        if (vcIdx < 0 || vcIdx >= vcs.length) { return; }\n        vcs.splice(vcIdx, 1);\n        ctrl.setValue(vcs);\n      });\n  }\n\n  private _initAddWarningCondition(): void {\n    this._addWarningConditionSub = (<Observable<void>>this._addWarningConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['warningConditions'];\n        let vcs = (ctrl.value || []).slice(0);\n        vcs.push({condition: '', errorMessage: ''});\n        ctrl.setValue(vcs);\n      });\n  }\n\n  private _initWarningConditionEdit(): void {\n    this._editWarningConditionSub = (<Observable<number>>this._editWarningConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [number, FormGroup]) => {\n        this._destroyWarningConditionDialog();\n        const vcIdx = r[0];\n        const fg = r[1];\n        if (vcIdx < 0 || vcIdx >= this._warningConditions.length || fg == null) { return; }\n        this._editWarningConditionDialog = this._dialog\n          .open(AjfFbWarningConditionEditorDialog);\n        const cmp = this._editWarningConditionDialog.componentInstance;\n        const w = this._warningConditions[vcIdx];\n        cmp.condition = w.condition;\n        cmp.warningMessage = w.warningMessage;\n        this._editWarningConditionDialogSub = this._editWarningConditionDialog.afterClosed()\n          .subscribe((cond: WarningCondition) => {\n            if (cond !== void 0) {\n              this._warningConditions[vcIdx] = cond;\n            }\n            this._editWarningConditionDialogSub.unsubscribe();\n            this._editWarningConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _initRemoveValidationCondition(): void {\n    this._removeValidationConditionSub = (<Observable<number>>this._removeValidationConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [number, FormGroup]) => {\n        const vcIdx = r[0];\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['validationConditions'];\n        let vcs = (ctrl.value || []).slice(0);\n        if (vcIdx < 0 || vcIdx >= vcs.length) { return; }\n        vcs.splice(vcIdx, 1);\n        ctrl.setValue(vcs);\n      });\n  }\n\n  private _initAddValidationCondition(): void {\n    this._addValidationConditionSub = (<Observable<void>>this._addValidationConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['validationConditions'];\n        let vcs = (ctrl.value || []).slice(0);\n        vcs.push({condition: '', errorMessage: ''});\n        ctrl.setValue(vcs);\n      });\n  }\n\n  private _initValidationConditionEdit(): void {\n    this._editValidationConditionSub = (<Observable<number>>this._editValidationConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [number, FormGroup]) => {\n        this._destroyValidationConditionDialog();\n        const vcIdx = r[0];\n        const fg = r[1];\n        if (vcIdx < 0 || vcIdx >= this._validationConditions.length || fg == null) { return; }\n        this._editValidationConditionDialog = this._dialog\n          .open(AjfFbValidationConditionEditorDialog);\n        const cmp = this._editValidationConditionDialog.componentInstance;\n        const v = this._validationConditions[vcIdx];\n        cmp.condition = v.condition;\n        cmp.errorMessage = v.errorMessage;\n        this._editValidationConditionDialogSub = this._editValidationConditionDialog.afterClosed()\n          .subscribe((cond: ValidationCondition) => {\n            if (cond !== void 0) {\n              this._validationConditions[vcIdx] = cond;\n            }\n            this._editValidationConditionDialogSub.unsubscribe();\n            this._editValidationConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _initForceValueEdit(): void {\n    this._editForceValueSub = (<Observable<void>>this._editForceValueEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        this._destroyConditionDialog();\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['forceValue'];\n        this._editConditionDialog = this._dialog.open(AjfFbConditionEditorDialog);\n        this._editConditionDialog.componentInstance.condition = ctrl.value;\n        this._editConditionDialogSub = this._editConditionDialog.afterClosed()\n          .subscribe((cond: string) => {\n            if (cond !== void 0) {\n              ctrl.setValue(cond);\n            }\n            this._editConditionDialogSub.unsubscribe();\n            this._editConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _initNextSlideConditionEdit(): void {\n    this._editNextSlideConditionSub = (<Observable<void>>this._editNextSlideConditionEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        this._destroyConditionDialog();\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['nextSlideCondition'];\n        this._editConditionDialog = this._dialog.open(AjfFbConditionEditorDialog);\n        this._editConditionDialog.componentInstance.condition = ctrl.value;\n        this._editConditionDialogSub = this._editConditionDialog.afterClosed()\n          .subscribe((cond: string) => {\n            if (cond !== void 0) {\n              ctrl.setValue(cond);\n            }\n            this._editConditionDialogSub.unsubscribe();\n            this._editConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _initFormulaEdit(): void {\n    this._editFormulaSub = (<Observable<void>>this._editFormulaEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        this._destroyConditionDialog();\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['formula'];\n        this._editConditionDialog = this._dialog.open(AjfFbConditionEditorDialog);\n        this._editConditionDialog.componentInstance.condition = ctrl.value;\n        this._editConditionDialogSub = this._editConditionDialog.afterClosed()\n          .subscribe((cond: string) => {\n            if (cond !== void 0) {\n              ctrl.setValue(cond);\n            }\n            this._editConditionDialogSub.unsubscribe();\n            this._editConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _initFormulaRepsEdit(): void {\n    this._editFormulaRepsSub = (<Observable<void>>this._editFormulaRepsEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        this._destroyConditionDialog();\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['formulaReps'];\n        this._editConditionDialog = this._dialog.open(AjfFbConditionEditorDialog);\n        this._editConditionDialog.componentInstance.condition = ctrl.value;\n        this._editConditionDialogSub = this._editConditionDialog.afterClosed()\n          .subscribe((cond: string) => {\n            if (cond !== void 0) {\n              ctrl.setValue(cond);\n            }\n            this._editConditionDialogSub.unsubscribe();\n            this._editConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _initChoicesFilterEdit(): void {\n    this._editChoicesFilterSub = (<Observable<void>>this._editChoicesFilterEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        this._destroyConditionDialog();\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['choicesFilter'];\n        this._editConditionDialog = this._dialog.open(AjfFbConditionEditorDialog);\n        this._editConditionDialog.componentInstance.condition = ctrl.value;\n        this._editConditionDialogSub = this._editConditionDialog.afterClosed()\n          .subscribe((cond: string) => {\n            if (cond !== void 0) {\n              ctrl.setValue(cond);\n            }\n            this._editConditionDialogSub.unsubscribe();\n            this._editConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _initConditionalBranchEdit(): void {\n    this._editConditionalBranchSub = (<Observable<number>>this._editConditionalBranchEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [number, FormGroup]) => {\n        this._destroyConditionDialog();\n        const cbIdx = r[0];\n        const fg = r[1];\n        if (cbIdx < 0 || cbIdx >= this._conditionalBranches.length || fg == null) { return; }\n        this._editConditionDialog = this._dialog.open(AjfFbConditionEditorDialog);\n        this._editConditionDialog.componentInstance.condition = this._conditionalBranches[cbIdx];\n        this._editConditionDialogSub = this._editConditionDialog.afterClosed()\n          .subscribe((cond: string) => {\n            if (cond !== void 0) {\n              this._conditionalBranches[cbIdx] = cond;\n            }\n            this._editConditionDialogSub.unsubscribe();\n            this._editConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _initVisibilityEdit(): void {\n    this._editVisibilitySub = (<Observable<void>>this._editVisibilityEvt)\n      .pipe(withLatestFrom(this._propertiesForm))\n      .subscribe((r: [void, FormGroup]) => {\n        this._destroyConditionDialog();\n        const fg = r[1];\n        if (fg == null) { return; }\n        const ctrl = fg.controls['visibility'];\n        const condition = ctrl.value;\n        this._editConditionDialog = this._dialog.open(AjfFbConditionEditorDialog);\n        this._editConditionDialog.componentInstance.condition = condition;\n        this._editConditionDialogSub = this._editConditionDialog.afterClosed()\n          .subscribe((cond: string) => {\n            if (cond !== void 0) {\n              ctrl.setValue(cond);\n            }\n            this._editConditionDialogSub.unsubscribe();\n            this._editConditionDialogSub = Subscription.EMPTY;\n          });\n      });\n  }\n\n  private _handleTriggerCondtionsChange(fg: FormGroup): void {\n    this._triggerConditionsSub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) =>\n        JSON.stringify(v1.triggerConditions) === JSON.stringify(v2.triggerConditions)))\n      .subscribe((v: any) => {\n        this._triggerConditions = v.triggerConditions;\n      });\n  }\n\n  private _handleWarningCondtionsChange(fg: FormGroup): void {\n    this._warningConditionsSub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) =>\n        JSON.stringify(v1.warningConditions) === JSON.stringify(v2.warningConditions)))\n      .subscribe((v: any) => {\n        this._warningConditions = v.warningConditions;\n      });\n  }\n\n  private _handleValidationCondtionsChange(fg: FormGroup): void {\n    this._validationConditionsSub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) =>\n        JSON.stringify(v1.validationConditions) === JSON.stringify(v2.validationConditions)))\n      .subscribe((v: any) => {\n        this._validationConditions = v.validationConditions;\n      });\n  }\n\n  private _handleForceValueChange(fg: FormGroup): void {\n    this._forceValueSub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) => v1.forceValue === v2.forceValue))\n      .subscribe((v: any) => {\n        this._curForceValue = v.forceValue;\n      });\n  }\n\n  private _handleNextSlideConditionChange(fg: FormGroup): void {\n    this._formulaSub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) => v1.nextSlideCondition === v2.nextSlideCondition))\n      .subscribe((v: any) => {\n        this._nextSlideCondition = v.nextSlideCondition;\n      });\n  }\n\n  private _handleFormulaChange(fg: FormGroup): void {\n    this._formulaSub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) => v1.formula === v2.formula))\n      .subscribe((v: any) => {\n        this._curFormula = v.formula;\n      });\n  }\n\n  private _handleFormulaRepsChange(fg: FormGroup): void {\n    this._formulaRepsSub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) => v1.formulaReps === v2.formulaReps))\n      .subscribe((v: any) => {\n        this._curFormulaReps = v.formulaReps;\n      });\n  }\n\n  private _handleChoicesFilterChange(fg: FormGroup): void {\n    this._choicesFilterSub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) => v1.choicesFilter === v2.choicesFilter))\n      .subscribe((v: any) => {\n        this._curChoicesFilter = v.choicesFilter;\n      });\n  }\n\n  private _handleConditionalBranchesChange(fg: FormGroup): void {\n    this._conditionalBranchesSub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) =>\n          v1.conditionalBranchesNum === v2.conditionalBranchesNum))\n      .subscribe((v: any) => {\n        const cbNum: number = v.conditionalBranchesNum;\n        const curCbNum = this._conditionalBranches.length;\n        if (curCbNum < cbNum) {\n          let newCbs: string[] = [];\n          for (let i = curCbNum ; i < cbNum ; i++) {\n            newCbs.push(AjfCondition.alwaysCondition().condition);\n          }\n          this._conditionalBranches = this._conditionalBranches.concat(newCbs);\n        } else if (curCbNum > cbNum) {\n          this._conditionalBranches.splice(0, curCbNum - cbNum);\n        }\n      });\n  }\n\n  private _handleVisibilityChange(fg: FormGroup): void {\n    this._visibilitySub = fg.valueChanges\n      .pipe(distinctUntilChanged((v1, v2) => v1.visibilityOpt === v2.visibilityOpt))\n      .subscribe((v) => {\n        const visibilityOpt = v.visibilityOpt;\n        let newCondition: string | null;\n        switch (visibilityOpt) {\n          case 'always':\n          newCondition = AjfCondition.alwaysCondition().condition;\n          break;\n          case 'never':\n          newCondition = AjfCondition.neverCondition().condition;\n          break;\n          default:\n          newCondition = null;\n        }\n        this._curVisibility = newCondition;\n        fg.controls['visibility'].setValue(newCondition);\n      });\n  }\n\n  private _guessVisibilityOpt(condition: AjfCondition): string {\n    if (condition.condition.localeCompare(AjfCondition.alwaysCondition().condition) === 0) {\n      return 'always';\n    }\n    if (condition.condition.localeCompare(AjfCondition.neverCondition().condition) === 0) {\n      return 'never';\n    }\n    return 'condition';\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\n\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nimport {AjfField} from '@ajf/core/forms';\n\nimport {AjfFbConditionEditor} from './condition-editor';\nimport {AjfFormBuilderService} from './form-builder-service';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-fb-warning-condition-editor-dialog',\n  templateUrl: 'warning-condition-editor-dialog.html',\n  styleUrls: ['warning-condition-editor-dialog.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFbWarningConditionEditorDialog {\n  @ViewChild(AjfFbConditionEditor, {static: true}) editor: AjfFbConditionEditor;\n\n  private _fields: Observable<AjfField[]>;\n  get fields(): Observable<AjfField[]> { return this._fields; }\n\n  condition: string;\n  warningMessage: string;\n\n  constructor(\n    service: AjfFormBuilderService,\n    public dialogRef: MatDialogRef<AjfFbWarningConditionEditorDialog>\n  ) {\n    this._fields = service.flatFields.pipe(\n      map((fields: AjfField[]) => fields.sort((f1, f2) => f1.name.localeCompare(f2.name)))\n    );\n  }\n\n  saveCondition(): void {\n    if (this.editor == null) { return; }\n    const newValue = this.editor.editedValue;\n    this.dialogRef.close({condition: newValue, warningMessage: this.warningMessage});\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\n\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nimport {AjfField} from '@ajf/core/forms';\n\nimport {AjfFbConditionEditor} from './condition-editor';\nimport {AjfFormBuilderService} from './form-builder-service';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-fb-validation-condition-editor-dialog',\n  templateUrl: 'validation-condition-editor-dialog.html',\n  styleUrls: ['validation-condition-editor-dialog.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFbValidationConditionEditorDialog {\n  @ViewChild(AjfFbConditionEditor, {static: true}) editor: AjfFbConditionEditor;\n\n  private _fields: Observable<AjfField[]>;\n  get fields(): Observable<AjfField[]> { return this._fields; }\n\n  condition: string;\n  errorMessage: string;\n\n  constructor(\n    service: AjfFormBuilderService,\n    public dialogRef: MatDialogRef<AjfFbValidationConditionEditorDialog>\n  ) {\n    this._fields = service.flatFields.pipe(\n      map((fields: AjfField[]) => fields.sort((f1, f2) => f1.name.localeCompare(f2.name)))\n    );\n  }\n\n  saveCondition(): void {\n    if (this.editor == null) { return; }\n    const newValue = this.editor.editedValue;\n    this.dialogRef.close({condition: newValue, errorMessage: this.errorMessage});\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  AfterViewInit, ChangeDetectionStrategy, Component, ElementRef,\n  Input, OnDestroy, QueryList, ViewChildren, ViewEncapsulation\n} from '@angular/core';\nimport {CdkDrag, CdkDragDrop} from '@angular/cdk/drag-drop';\n\nimport {Observable, Subscription} from 'rxjs';\n\nimport {isContainerNode} from '@ajf/core/forms';\nimport {AjfFbBranchLine} from './branch-line';\nimport {\n  AjfFormBuilderEmptySlot, AjfFormBuilderNode, AjfFormBuilderNodeEntry,\n  AjfFormBuilderNodeTypeEntry, AjfFormBuilderService, isSlideNode\n} from './form-builder-service';\n\n\nconst branchColors: string [] = [\n  '#F44336', // RED\n  '#4CAF50', // GREEN\n  '#3F51B5', // INDIGO\n  '#FFC107', // AMBER\n  '#795548', // BROWN\n];\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-fb-node-entry',\n  templateUrl: 'node-entry.html',\n  styleUrls: ['node-entry.css'],\n  host: {\n    '(window.resize)': 'onResize()'\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFbNodeEntry implements AfterViewInit, OnDestroy {\n  @ViewChildren(AjfFbBranchLine) branchLines: QueryList<AjfFbBranchLine>;\n  @ViewChildren(AjfFbNodeEntry, {read: ElementRef}) childEntries: QueryList<ElementRef>;\n\n  private _hasContent = false;\n  get hasContent(): boolean { return this._hasContent; }\n\n  private _isFirst = false;\n  get isFirst(): boolean { return this._isFirst; }\n  @Input() set isFirst(isFirst: boolean) { this._isFirst = isFirst; }\n\n  private _isNodeEntry = false;\n  get isNodeEntry(): boolean { return this._isNodeEntry; }\n\n  private _nodeEntry: AjfFormBuilderNode;\n  get nodeEntry(): AjfFormBuilderNode { return this._nodeEntry; }\n  @Input() set nodeEntry(nodeEntry: AjfFormBuilderNode) {\n    this._nodeEntry = nodeEntry;\n    if (nodeEntry != null && (<AjfFormBuilderNodeEntry>nodeEntry).node !== void 0) {\n      const ne = <AjfFormBuilderNodeEntry>nodeEntry;\n      this._isNodeEntry = true;\n      const node = ne.node;\n      this._hasContent = node != null && isContainerNode(node);\n      this._isSlide = false;\n    } else {\n      this._isNodeEntry = false;\n      this._hasContent = false;\n      this._isSlide = isSlideNode((<AjfFormBuilderEmptySlot>nodeEntry).parent);\n    }\n  }\n\n  get realNodeEntry(): AjfFormBuilderNodeEntry {\n    return this._nodeEntry as AjfFormBuilderNodeEntry;\n  }\n\n  private _branchColors: string[] = branchColors.slice(0);\n  get branchColors(): string[] { return this._branchColors; }\n\n  private _dropZones: string[] = ['fbdz-node'];\n  get dropZones(): string[] { return this._dropZones; }\n\n  private _slideDropZones: string[] = ['fbdz-slide'];\n  get slideDropZones(): string[] { return this._slideDropZones; }\n\n  private _originOffset = 0;\n  get originOffset(): number { return this._originOffset; }\n  @Input() set originOffset(originOffset: number) {\n    this._originOffset = originOffset;\n    this._originLeftMargin = `${this._originOffset * 4}px`;\n  }\n  private _originLeftMargin = '0';\n  get originLeftMargin(): string { return this._originLeftMargin; }\n\n  private _firstBranchColor = branchColors[0];\n  get firstBranchColor(): string { return this._firstBranchColor; }\n  @Input() set firstBranchColor(firstBranchColor: string) {\n    const idx = branchColors.indexOf(firstBranchColor);\n    if (idx > 0) {\n      this._firstBranchColor = firstBranchColor;\n      this._branchColors = branchColors.slice(idx).concat(branchColors.slice(0, idx));\n    } else {\n      this._firstBranchColor = branchColors[0];\n      this._branchColors = branchColors.slice(0);\n    }\n  }\n\n  private _currentEditedNode: Observable<AjfFormBuilderNodeEntry | null>;\n  get currentEditedNode(): Observable<AjfFormBuilderNodeEntry | null> {\n    return this._currentEditedNode;\n  }\n\n  private _isSlide = false;\n  private _branchLinesSubscription: Subscription = Subscription.EMPTY;\n  private _childEntriesSubscription: Subscription = Subscription.EMPTY;\n\n  constructor(private _service: AjfFormBuilderService) {\n    this._currentEditedNode = this._service.editedNodeEntry;\n  }\n\n  onResize(): void {\n  }\n\n  edit(): void {\n    if (this.nodeEntry == null || !this.isNodeEntry) { return; }\n    this._service.editNodeEntry(<AjfFormBuilderNodeEntry>this.nodeEntry);\n  }\n\n  delete(): void {\n    if (this.nodeEntry == null || !this.isNodeEntry) { return; }\n    this._service.deleteNodeEntry(<AjfFormBuilderNodeEntry>this.nodeEntry);\n  }\n\n  ngAfterViewInit(): void {\n    this._updateBranchHeights();\n    this._childEntriesSubscription = this.childEntries.changes\n      .subscribe(() => {\n        this._updateBranchHeights();\n      });\n  }\n\n  ngOnDestroy(): void {\n    this._branchLinesSubscription.unsubscribe();\n    this._childEntriesSubscription.unsubscribe();\n  }\n\n  onDropSuccess(evt: CdkDragDrop<AjfFormBuilderNodeTypeEntry>, content = false): void {\n    if (this._nodeEntry == null) { return; }\n    const dd = evt.item.data as AjfFormBuilderNodeTypeEntry;\n    if (dd.nodeType !== void 0 && (!this.isNodeEntry || (this.isNodeEntry && content))) {\n      const emptySlot = content ?\n        {parent: (<AjfFormBuilderNodeEntry>this.nodeEntry).node, parentNode: 0} :\n        <AjfFormBuilderEmptySlot>this._nodeEntry;\n      this._service.insertNode(\n        <AjfFormBuilderNodeTypeEntry>dd,\n        emptySlot.parent,\n        emptySlot.parentNode,\n        content\n      );\n    }\n  }\n\n  disableSlideDropPredicate(item: CdkDrag<AjfFormBuilderNodeTypeEntry>): boolean {\n    return !item.data.isSlide;\n  }\n\n  emptyAreaDropPredicate(item: CdkDrag<AjfFormBuilderNodeTypeEntry>): boolean {\n    if (this._isSlide) {\n      return item.data.isSlide || false;\n    }\n    return !item.data.isSlide;\n  }\n\n  private _updateBranchHeights(): void {\n    if (this.nodeEntry == null || !this.isNodeEntry) { return; }\n    const nodeEntry = <AjfFormBuilderNodeEntry>this.nodeEntry;\n    const branchLines: AjfFbBranchLine[] = this.branchLines.toArray();\n    const sliceIdx = nodeEntry.content != null ? nodeEntry.content.length : 0;\n    const childEntries: ElementRef[] = this.childEntries.toArray().slice(sliceIdx);\n\n    if (branchLines.length != childEntries.length) { return; }\n\n    branchLines.forEach((bl: AjfFbBranchLine, idx: number) => {\n      const ce: ElementRef  = childEntries[idx];\n      bl.height = ce.nativeElement.offsetTop;\n    });\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  AfterViewChecked, AfterContentInit, ChangeDetectionStrategy,\n  Component, ElementRef, EventEmitter, Input, OnDestroy,\n  ViewChild, ViewEncapsulation\n} from '@angular/core';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\n\nimport {Observable, Subscription} from 'rxjs';\nimport {sample} from 'rxjs/operators';\n\nimport {AjfCondition} from '@ajf/core/models';\nimport {AjfForm, IAjfChoicesOrigin} from '@ajf/core/forms';\nimport {\n  AjfFormBuilderNodeEntry, AjfFormBuilderNodeTypeEntry, AjfFormBuilderService\n} from './form-builder-service';\n\nimport {AjfFbConditionEditorDialog} from './condition-editor-dialog';\nimport {AjfFbChoicesOriginEditorDialog} from './choices-origin-editor-dialog';\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-form-builder',\n  templateUrl: 'form-builder.html',\n  styleUrls: ['form-builder.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class AjfFormBuilder implements AfterViewChecked, AfterContentInit, OnDestroy {\n  @ViewChild('designer', {static: true}) designerCont: ElementRef;\n\n  private _form: AjfForm;\n  get form(): AjfForm { return this._form; }\n  @Input() set form(form: AjfForm) {\n    if (this._form !== form) {\n      this._form = form;\n      if (this._init) {\n        this._setCurrentForm();\n      }\n    }\n  }\n\n  private _nodeTypes: AjfFormBuilderNodeTypeEntry[];\n  get nodeTypes(): AjfFormBuilderNodeTypeEntry[] { return this._nodeTypes; }\n\n  private _nodeEntriesTree: Observable<AjfFormBuilderNodeEntry[]>;\n  get nodeEntriesTree(): Observable<AjfFormBuilderNodeEntry[]> { return this._nodeEntriesTree; }\n\n  private _choicesOrigins: Observable<IAjfChoicesOrigin[]>;\n  get choicesOrigins(): Observable<IAjfChoicesOrigin[]> { return this._choicesOrigins; }\n\n  private _vc: EventEmitter<void> = new EventEmitter<void>();\n\n  private _init = false;\n  private _editConditionSub: Subscription = Subscription.EMPTY;\n  private _editConditionDialog: MatDialogRef<AjfFbConditionEditorDialog> | null;\n  private _beforeNodesUpdateSub: Subscription = Subscription.EMPTY;\n  private _editChoicesOriginSub: Subscription = Subscription.EMPTY;\n  private _editChoicesOriginDialog: MatDialogRef<AjfFbChoicesOriginEditorDialog> | null;\n\n  private _lastScrollTop: number;\n\n  constructor(\n    private _service: AjfFormBuilderService,\n    private _dialog: MatDialog\n  ) {\n    this._nodeTypes = _service.availableNodeTypes;\n    this._nodeEntriesTree = _service.nodeEntriesTree;\n    this._choicesOrigins = _service.choicesOrigins;\n    this._editConditionSub = this._service.editedCondition\n      .subscribe((condition: AjfCondition | null) => {\n        if (this._editConditionDialog != null) {\n          this._editConditionDialog.close();\n          this._editConditionDialog = null;\n        }\n        if (condition != null) {\n          this._editConditionDialog = this._dialog.open(\n            AjfFbConditionEditorDialog, {disableClose: true}\n          );\n        }\n      });\n    this._editChoicesOriginSub = this._service.editedChoicesOrigin\n      .subscribe((choicesOrigin: IAjfChoicesOrigin | null) => {\n        if (this._editChoicesOriginDialog != null) {\n          this._editChoicesOriginDialog.close();\n          this._editChoicesOriginDialog = null;\n        }\n        if (choicesOrigin != null) {\n          this._editChoicesOriginDialog = this._dialog.open(\n            AjfFbChoicesOriginEditorDialog, {disableClose: true}\n          );\n        }\n      });\n\n    this._beforeNodesUpdateSub = this._service.beforeNodesUpdate\n      .subscribe(() => {\n        if (this.designerCont == null) { return; }\n        this._lastScrollTop = this.designerCont.nativeElement.scrollTop;\n      });\n\n    this.nodeEntriesTree\n      .pipe(sample((<Observable<void>>this._vc)))\n      .subscribe(() => {\n        if (this.designerCont == null) { return; }\n        this.designerCont.nativeElement.scrollTop = this._lastScrollTop;\n      });\n  }\n\n  ngAfterViewChecked(): void {\n    this._vc.emit();\n  }\n\n  ngAfterContentInit(): void {\n    this._setCurrentForm();\n    this._init = true;\n  }\n\n  ngOnDestroy(): void {\n    this._service.setForm(null);\n    this._editConditionSub.unsubscribe();\n    this._beforeNodesUpdateSub.unsubscribe();\n    this._editChoicesOriginSub.unsubscribe();\n  }\n\n  createChoicesOrigin(): void {\n    this._service.createChoicesOrigin();\n  }\n\n  disableDropPredicate(): boolean {\n    return false;\n  }\n\n  editChoicesOrigin(choicesOrigin: IAjfChoicesOrigin): void {\n    this._service.editChoicesOrigin(choicesOrigin);\n  }\n\n  private _setCurrentForm(): void {\n    this._service.setForm(this._form);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\n\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nimport {AjfField} from '@ajf/core/forms';\n\nimport {AjfFbConditionEditor} from './condition-editor';\nimport {AjfFormBuilderService} from './form-builder-service';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-condition-editor-dialog',\n  templateUrl: 'condition-editor-dialog.html',\n  styleUrls: ['condition-editor-dialog.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFbConditionEditorDialog {\n  @ViewChild(AjfFbConditionEditor, {static: true}) editor: AjfFbConditionEditor;\n\n  private _fields: Observable<AjfField[]>;\n  get fields(): Observable<AjfField[]> { return this._fields; }\n\n  condition: string;\n\n  constructor(\n    service: AjfFormBuilderService,\n    public dialogRef: MatDialogRef<AjfFbConditionEditorDialog>\n  ) {\n    this._fields = service.flatFields.pipe(\n      map((fields: AjfField[]) => fields.sort((f1, f2) => f1.name.localeCompare(f2.name)))\n    );\n  }\n\n  saveCondition(): void {\n    if (this.editor == null) { return; }\n    const newValue = this.editor.editedValue;\n    this.dialogRef.close(newValue);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  Component, ChangeDetectionStrategy, Input, ViewChild, ViewEncapsulation\n} from '@angular/core';\n\nimport {AjfValidatedProperty} from '@ajf/core/models';\nimport {AjfField, AjfFieldType, AjfValidationService} from '@ajf/core/forms';\nimport {AjfMonacoEditor} from '@ajf/material/monaco-editor';\n\n\ndeclare var monaco: any;\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-condition-editor',\n  templateUrl: 'fb-condition-editor.html',\n  styleUrls: ['fb-condition-editor.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class AjfFbConditionEditor {\n  @ViewChild(AjfMonacoEditor, {static: true}) monacoEditor: AjfMonacoEditor;\n\n  private _fields: AjfField[];\n  get fields(): AjfField[] { return this._fields; }\n  @Input() set fields(fields: AjfField[]) {\n    this._fields = fields;\n    this._updateVariables();\n  }\n  @Input() condition: string;\n\n  editedValue: string;\n\n  constructor(_: AjfValidationService) { }\n\n  insertVariable(variable: string): void {\n    if (this.monacoEditor != null && this.monacoEditor.editor != null) {\n      const editor = this.monacoEditor.editor;\n      let value: string[] = editor.getValue().split('\\n');\n      let position: {column: number, lineNumber: number} = editor.getPosition();\n      const ln = position.lineNumber - 1;\n      let line = value[ln];\n      let col = position.column - 1;\n      line = line.substring(0, col) + variable + line.substring(col);\n      value[ln] = line;\n      position.column += variable.length;\n      this.monacoEditor.value = value.join('\\n');\n      editor.setPosition(position);\n      editor.focus();\n      this.editedValue = editor.getValue();\n    }\n  }\n\n  onEditorInit(): void {\n    monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions({\n      noSemanticValidation: false,\n      noSyntaxValidation: false\n    });\n\n    monaco.languages.typescript.javascriptDefaults.setCompilerOptions({\n      target: monaco.languages.typescript.ScriptTarget.ES2015,\n      allowNonTsExtensions: true,\n      allowJs: true,\n      module: monaco.languages.typescript.ModuleKind.None\n    });\n\n    try {\n      monaco.languages.typescript.javascriptDefaults.addExtraLib(\n        '', 'condition-editor-variables.d.ts'\n      );\n    } catch (e) {\n      monaco.languages.typescript.javascriptDefaults\n          ._extraLibs['condition-editor-variables.d.ts'] = '';\n    }\n\n    try {\n      monaco.languages.typescript.javascriptDefaults.addExtraLib(\n        '', 'condition-editor-functions.d.ts'\n      );\n    } catch (e) {\n      monaco.languages.typescript.javascriptDefaults\n          ._extraLibs['condition-editor-functions.d.ts'] = '';\n    }\n\n    this._updateVariables();\n    this._updateFunctions();\n  }\n\n  private _updateVariables(): void {\n    if (this._fields == null) { return; }\n    try {\n      monaco.languages.typescript.javascriptDefaults\n        ._extraLibs['condition-editor-variables.d.ts'] =\n          this._fields\n            .map((field: AjfField) => {\n              return `declare const ${field.name}: ${this._fieldVarType(field.fieldType)};`;\n            })\n            .join('\\n');\n    } catch (e) { }\n  }\n\n  private _updateFunctions(): void {\n    try {\n      monaco.languages.typescript.javascriptDefaults\n        ._extraLibs['condition-editor-functions.d.ts'] = AjfValidatedProperty.UTIL_FUNCTIONS;\n    } catch (e) { }\n  }\n\n  private _fieldVarType(fieldType: AjfFieldType): string | null {\n    switch (fieldType) {\n      case AjfFieldType.Boolean:\n      return 'boolean';\n      case AjfFieldType.Date:\n      case AjfFieldType.DateInput:\n      case AjfFieldType.Time:\n      return 'Date';\n      case AjfFieldType.Empty:\n      return 'void';\n      case AjfFieldType.Formula:\n      return 'number';\n      case AjfFieldType.MultipleChoice:\n      case AjfFieldType.SingleChoice:\n      return 'any';\n      case AjfFieldType.Number:\n      return 'number';\n      case AjfFieldType.Table:\n      return 'Array';\n      case AjfFieldType.String:\n      case AjfFieldType.Text:\n      return 'string';\n    }\n    return null;\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, ViewChild, ViewEncapsulation} from '@angular/core';\n\nimport {Observable} from 'rxjs';\nimport {filter, map} from 'rxjs/operators';\n\nimport {IAjfChoicesOrigin} from '@ajf/core/forms';\n\nimport {AjfFbChoicesOriginEditor} from './choices-origin-editor';\nimport {AjfFormBuilderService} from './form-builder-service';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-fb-choices-origin-editor-dialog',\n  templateUrl: 'choices-origin-editor-dialog.html',\n  styleUrls: ['choices-origin-editor-dialog.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFbChoicesOriginEditorDialog {\n  @ViewChild(AjfFbChoicesOriginEditor, {static: true}) editor: AjfFbChoicesOriginEditor;\n\n  private _choicesOrigin: Observable<IAjfChoicesOrigin>;\n  get choicesOrigin(): Observable<IAjfChoicesOrigin> { return this._choicesOrigin; }\n\n  constructor(private _service: AjfFormBuilderService) {\n    this._choicesOrigin = this._service.editedChoicesOrigin.pipe(\n      filter(c => c != null),\n      map(c => c!)\n    );\n  }\n\n  saveChoicesOrigin(): void {\n    this._service.saveChoicesOrigin({\n      label: this.editor.label,\n      name: this.editor.name,\n      choices: this.editor.choicesArr\n    });\n  }\n\n  cancelChoicesOriginEdit(): void {\n    this._service.cancelChoicesOriginEdit();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Injectable, EventEmitter} from '@angular/core';\n\nimport {BehaviorSubject, Observable, Subject} from 'rxjs';\nimport {\n  filter, map, publishReplay, refCount, scan, withLatestFrom\n} from 'rxjs/operators';\n\nimport {\n  AjfCondition,\n  AjfFormula,\n} from '@ajf/core/models';\nimport {\n  AjfAttachmentsOrigin,\n  AjfBooleanField,\n  AjfChoicesFixedOrigin,\n  AjfDateField,\n  AjfDateInputField,\n  AjfField,\n  AjfFieldWithChoices,\n  AjfForm,\n  AjfFormulaField,\n  AjfMultipleChoiceField,\n  AjfNode,\n  AjfNodeGroup,\n  AjfNumberField,\n  AjfRepeatingSlide,\n  AjfSingleChoiceField,\n  AjfSlide,\n  AjfStringField,\n  AjfTableField,\n  AjfTextField,\n  AjfTimeField,\n  AjfValidation,\n  AjfValidationGroup,\n  AjfWarning,\n  AjfWarningGroup,\n  IAjfChoicesOrigin,\n  IAjfNodesOperation,\n} from '@ajf/core/forms';\nimport {\n  IAjfAttachmentsOriginsOperation, IAjfChoicesOriginsOperation\n} from './operations';\n\n\nexport interface AjfFormBuilderNodeTypeEntry {\n  label: string;\n  icon: {\n    fontSet: string;\n    fontIcon: string;\n  };\n  nodeType: typeof AjfNode;\n  isSlide?: boolean;\n}\n\n\nexport interface AjfFormBuilderNodeEntry {\n  node: AjfNode;\n  container: AjfContainerNode | null;\n  children: AjfFormBuilderNodeEntry[];\n  content: AjfFormBuilderNodeEntry[];\n}\n\n\nexport interface AjfFormBuilderEmptySlot {\n  parent: AjfNode;\n  parentNode: number;\n}\n\n\nexport type AjfFormBuilderNode = AjfFormBuilderNodeEntry | AjfFormBuilderEmptySlot;\n\n\nexport function isContainerNode(node: AjfNode): boolean {\n  return node != null && (\n    node instanceof AjfSlide ||\n    node instanceof AjfRepeatingSlide ||\n    node instanceof AjfNodeGroup\n  );\n}\nexport type AjfContainerNode = AjfSlide | AjfRepeatingSlide | AjfNodeGroup;\n\nexport function isRepeatingContainerNode(node: AjfNode): boolean {\n  return node != null && (\n    node instanceof AjfRepeatingSlide ||\n    node instanceof AjfNodeGroup\n  );\n}\nexport type AjfRepeatingContainerNode = AjfRepeatingSlide | AjfNodeGroup;\n\nexport function isSlideNode(node: AjfNode): boolean {\n  return node != null && (\n    node instanceof AjfSlide ||\n    node instanceof AjfRepeatingSlide\n  );\n}\n\n\nfunction getNodeContainer(c: {nodes: AjfNode[]}, node: AjfNode): {nodes: AjfNode[]} | null {\n  if (c.nodes.indexOf(node) > -1) {\n    return c;\n  }\n  const cns = c.nodes.filter(n => isContainerNode(n));\n  const len = cns.length;\n  for (let i = 0 ; i < len ; i++) {\n    const cn = getNodeContainer(<AjfContainerNode>cns[i], node);\n    if (cn != null) { return cn; }\n  }\n  return null;\n}\n\n\nfunction buildFormBuilderNodesSubtree(\n  nodes: AjfNode[], parent: AjfNode, ignoreConditionalBranches = false\n): AjfFormBuilderNode[] {\n  const entries: AjfFormBuilderNode[] = nodes\n    .filter(n => n.parent === parent.id)\n    .sort((n1, n2) => n1.parentNode - n2.parentNode)\n    .map(n => <AjfFormBuilderNodeEntry>{\n      node: n,\n      children: buildFormBuilderNodesSubtree(nodes, n),\n      content: buildFormBuilderNodesContent(nodes, n)\n    });\n  if (!ignoreConditionalBranches) {\n    const entriesNum = entries.length;\n    const cbs = parent.conditionalBranches.length;\n    for (let i = entriesNum ; i < cbs ; i++) {\n      entries.push({\n        parent: parent,\n        parentNode: i\n      });\n    }\n  }\n  return entries;\n}\n\nfunction buildFormBuilderNodesContent(_nodes: AjfNode[], node: AjfNode): AjfFormBuilderNode[] {\n  if (isContainerNode(node)) {\n    return buildFormBuilderNodesSubtree((<AjfContainerNode>node).nodes, node, true);\n  }\n  return [];\n}\n\n\nfunction buildFormBuilderNodesTree(nodes: AjfNode[]): (AjfFormBuilderNode | null)[] {\n  const rootNodes = nodes.filter(n => n.parent == null);\n  if (rootNodes.length === 1) {\n    const rootNode = rootNodes[0];\n    if (rootNode instanceof AjfRepeatingSlide || rootNode instanceof AjfSlide) {\n      const tree: AjfFormBuilderNode[] = [];\n      tree.push(<AjfFormBuilderNodeEntry>{\n        node: rootNode,\n        container: null,\n        children: buildFormBuilderNodesSubtree(nodes, rootNode),\n        content: buildFormBuilderNodesContent(nodes, rootNode)\n      });\n      return tree;\n    }\n  } else if (rootNodes.length === 0) {\n    return [null];\n  }\n  throw new Error('Invalid form definition');\n}\n\nexport function flattenNodes(nodes: AjfNode[]): AjfNode[] {\n  let flatNodes: AjfNode[] = [];\n\n  nodes.forEach((node: AjfNode) => {\n    if (isContainerNode(node)) {\n      flatNodes = flatNodes.concat(flattenNodes((<AjfContainerNode>node).nodes));\n    }\n    flatNodes.push(node);\n  });\n\n  return flatNodes;\n}\n\nfunction getDescendants(\n  flatNodes: AjfNode[], parentNode: AjfNode, branch: number | null = null\n): AjfNode[] {\n  return branch != null ?\n    flatNodes.filter(n => n.parent === parentNode.id && n.parentNode === branch) :\n    flatNodes.filter(n => n.parent === parentNode.id);\n}\n\nfunction removeNodes(nodes: AjfNode[], ids: number[]): AjfNode[] {\n  const len = nodes.length;\n  for (let i = 0 ; i < len ; i++) {\n    const node = nodes[i];\n    if (isContainerNode(node)) {\n      const container = (<AjfContainerNode>node);\n      container.nodes = removeNodes(container.nodes, ids);\n    }\n  }\n  return nodes.filter(n => ids.indexOf(n.id) === -1);\n}\n\nfunction deleteNodeSubtree(\n  nodes: AjfNode[], parentNode: AjfNode, branch: number | null = null\n): AjfNode[] {\n  const flatNodes = flattenNodes(nodes);\n  let delNodes: AjfNode[] = [];\n  let descendants = getDescendants(flatNodes, parentNode, branch);\n  const len = descendants.length;\n  for (let i = 0 ; i < len ; i++) {\n    delNodes = delNodes.concat(getDescendants(flatNodes, descendants[i]));\n  }\n  delNodes = delNodes.concat(descendants);\n  return removeNodes(nodes, delNodes.map(n => n.id));\n}\n\nlet nodeUniqueId = 0;\n\n\n@Injectable()\nexport class AjfFormBuilderService {\n  private _availableNodeTypes: AjfFormBuilderNodeTypeEntry[] = [\n    { label: 'Slide', icon: {fontSet: 'ajf-icon', fontIcon: 'field-slide' }, nodeType: AjfSlide,\n      isSlide: true },\n    { label: 'Repeating slide', icon: { fontSet: 'ajf-icon', fontIcon: 'field-repeatingslide' },\n      nodeType: AjfRepeatingSlide, isSlide: true },\n    { label: 'String', icon: { fontSet: 'ajf-icon', fontIcon: 'field-string' },\n      nodeType: AjfStringField },\n    { label: 'Text', icon: { fontSet: 'ajf-icon', fontIcon: 'field-text' },\n      nodeType: AjfTextField },\n    { label: 'Number', icon: { fontSet: 'ajf-icon', fontIcon: 'field-number' },\n      nodeType: AjfNumberField },\n    { label: 'Boolean', icon: { fontSet: 'ajf-icon', fontIcon: 'field-boolean' },\n      nodeType: AjfBooleanField },\n    { label: 'Single choice', icon: { fontSet: 'ajf-icon', fontIcon: 'field-singlechoice' },\n      nodeType: AjfSingleChoiceField },\n    { label: 'Multiple choice', icon: { fontSet: 'ajf-icon', fontIcon: 'field-multiplechoice' },\n      nodeType: AjfMultipleChoiceField },\n    { label: 'Formula', icon: { fontSet: 'ajf-icon', fontIcon: 'field-formula' },\n      nodeType: AjfFormulaField },\n    { label: 'Date', icon: { fontSet: 'ajf-icon', fontIcon: 'field-date' },\n      nodeType: AjfDateField },\n    { label: 'Date input', icon: { fontSet: 'ajf-icon', fontIcon: 'field-dateinput' },\n      nodeType: AjfDateInputField },\n    { label: 'Time', icon: { fontSet: 'ajf-icon', fontIcon: 'field-time' },\n      nodeType: AjfTimeField },\n    { label: 'Table', icon: { fontSet: 'ajf-icon', fontIcon: 'field-table' },\n      nodeType: AjfTableField }\n  ];\n  /**\n   * Available node types\n   *\n   * @readonly\n   * @memberOf AjfFormBuilderService\n   */\n  get availableNodeTypes(): AjfFormBuilderNodeTypeEntry[] { return this._availableNodeTypes; }\n\n  private _form: BehaviorSubject<AjfForm | null> = new BehaviorSubject<AjfForm | null>(null);\n  private _formObs: Observable<AjfForm | null> = this._form.asObservable();\n  /**\n   * Current edited form stream\n   *\n   * @readonly\n   * @memberOf AjfFormBuilderService\n   */\n  get form(): Observable<AjfForm | null> { return this._formObs; }\n\n  private _attachmentsOrigins: Observable<AjfAttachmentsOrigin[]>;\n  get attachmentsOrigins(): Observable<AjfAttachmentsOrigin[]> { return this._attachmentsOrigins; }\n\n  private _choicesOrigins: Observable<IAjfChoicesOrigin[]>;\n  get choicesOrigins(): Observable<IAjfChoicesOrigin[]> { return this._choicesOrigins; }\n\n  private _nodes: Observable<AjfNode[]>;\n  get nodes(): Observable<AjfNode[]> { return this._nodes; }\n\n  private _flatNodes: Observable<AjfNode[]>;\n  get flatNodes(): Observable<AjfNode[]> {\n    return this._flatNodes;\n  }\n\n  private _flatFields: Observable<AjfField[]>;\n  get flatFields(): Observable<AjfField[]> { return this._flatFields; }\n\n  private _nodeEntriesTree: Observable<AjfFormBuilderNodeEntry[]>;\n  get nodeEntriesTree(): Observable<AjfFormBuilderNodeEntry[]> { return this._nodeEntriesTree; }\n\n  private _editedNodeEntry: BehaviorSubject<AjfFormBuilderNodeEntry | null> =\n    new BehaviorSubject<AjfFormBuilderNodeEntry | null>(null);\n  private _editedNodeEntryObs: Observable<AjfFormBuilderNodeEntry | null> =\n    this._editedNodeEntry.asObservable();\n  get editedNodeEntry(): Observable<AjfFormBuilderNodeEntry | null> {\n    return this._editedNodeEntryObs;\n  }\n\n  private _editedCondition: BehaviorSubject<AjfCondition | null> =\n    new BehaviorSubject<AjfCondition | null>(null);\n  private _editedConditionObs: Observable<AjfCondition | null> =\n    this._editedCondition.asObservable();\n  get editedCondition(): Observable<AjfCondition | null> { return this._editedConditionObs; }\n\n  private _editedChoicesOrigin: BehaviorSubject<IAjfChoicesOrigin | null> =\n    new BehaviorSubject<IAjfChoicesOrigin | null>(null);\n  private _editedChoicesOriginObs: Observable<IAjfChoicesOrigin | null> =\n    this._editedChoicesOrigin.asObservable();\n  get editedChoicesOrigin(): Observable<IAjfChoicesOrigin | null> {\n    return this._editedChoicesOriginObs;\n  }\n\n  private _beforeNodesUpdate: EventEmitter<void> = new EventEmitter<void>();\n  private _beforeNodesUpdateObs: Observable<void> = this._beforeNodesUpdate.asObservable();\n  get beforeNodesUpdate(): Observable<void> { return this._beforeNodesUpdateObs; }\n  private _afterNodeUpdate: EventEmitter<void> = new EventEmitter<void>();\n  private _afterNodeUpdateObs: Observable<void> = this._afterNodeUpdate.asObservable();\n  get afterNodeUpdate(): Observable<void> { return this._afterNodeUpdateObs; }\n\n  private _nodesUpdates: Subject<IAjfNodesOperation> = new Subject<IAjfNodesOperation>();\n  private _attachmentsOriginsUpdates: Subject<IAjfAttachmentsOriginsOperation> =\n    new Subject<IAjfAttachmentsOriginsOperation>();\n  private _choicesOriginsUpdates: Subject<IAjfChoicesOriginsOperation> =\n    new Subject<IAjfChoicesOriginsOperation>();\n\n  private _saveNodeEntryEvent: EventEmitter<any> = new EventEmitter<any>();\n  private _deleteNodeEntryEvent: EventEmitter<AjfFormBuilderNodeEntry> =\n    new EventEmitter<AjfFormBuilderNodeEntry>();\n\n  constructor() {\n    this._initChoicesOriginsStreams();\n    this._initAttachmentsOriginsStreams();\n    this._initNodesStreams();\n    this._initFormStreams();\n    this._initSaveNode();\n    this._initDeleteNode();\n  }\n\n  /**\n   * Sets the current edited form\n   *\n   * @param form\n   *\n   * @memberOf AjfFormBuilderService\n   */\n  setForm(form: AjfForm | null): void {\n    if (form !== this._form.getValue()) {\n      this._form.next(form);\n    }\n  }\n\n  editNodeEntry(nodeEntry: AjfFormBuilderNodeEntry): void {\n    this._editedNodeEntry.next(nodeEntry);\n  }\n\n  editCondition(condition: AjfCondition): void {\n    this._editedCondition.next(condition);\n  }\n\n  saveCurrentCondition(condition: string): void {\n    let c = this._editedCondition.getValue();\n    if (c == null) { return; }\n    c.condition = condition;\n    this._editedCondition.next(null);\n  }\n\n  cancelConditionEdit(): void {\n    this._editedChoicesOrigin.next(null);\n  }\n\n  insertNode(\n    nodeType: AjfFormBuilderNodeTypeEntry,\n    parent: AjfNode,\n    parentNode: number,\n    inContent = false\n  ): void {\n    let node = new nodeType.nodeType({\n      id: ++nodeUniqueId,\n      parent: parent.id,\n      parentNode\n    });\n    this._beforeNodesUpdate.emit();\n    this._nodesUpdates.next((nodes: AjfNode[]): AjfNode[] => {\n      const cn = isContainerNode(parent) && inContent ?\n        (<AjfContainerNode>parent) :\n        getNodeContainer({nodes}, parent);\n      if (cn != null) {\n        if (cn instanceof AjfNode) {\n          const newNodes = cn.nodes.slice(0);\n          newNodes.push(node);\n          cn.nodes = newNodes;\n        } else {\n          cn.nodes.push(node);\n        }\n      }\n      return nodes;\n    });\n  }\n\n  saveNodeEntry(properties: any): void {\n    this._saveNodeEntryEvent.emit(properties);\n  }\n\n  cancelNodeEntryEdit(): void {\n    this._editedNodeEntry.next(null);\n  }\n\n  deleteNodeEntry(nodeEntry: AjfFormBuilderNodeEntry): void {\n    this._deleteNodeEntryEvent.next(nodeEntry);\n  }\n\n  getCurrentForm(): Observable<AjfForm> {\n    return this._form.pipe(\n      withLatestFrom(this._nodes),\n      filter((r) => r[0] != null),\n      map((r: [AjfForm | null, AjfNode[]]) => {\n        const form = r[0]!;\n        const nodes = r[1];\n        return new AjfForm({\n          choicesOrigins: form.choicesOrigins.slice(0),\n          attachmentsOrigins: form.attachmentsOrigins.slice(0),\n          stringIdentifier: form.stringIdentifier.slice(0),\n          nodes: nodes.slice(0)\n        });\n      })\n    );\n  }\n\n  editChoicesOrigin(choicesOrigin: IAjfChoicesOrigin): void {\n    this._editedChoicesOrigin.next(choicesOrigin);\n  }\n\n  createChoicesOrigin(): void {\n    this._editedChoicesOrigin.next(new AjfChoicesFixedOrigin<any>());\n  }\n\n  cancelChoicesOriginEdit(): void {\n    this._editedChoicesOrigin.next(null);\n  }\n\n  saveChoicesOrigin(params: {label: string, name: string, choices: any[]}): void {\n    const choicesOrigin = this._editedChoicesOrigin.getValue();\n    if (choicesOrigin != null) {\n      choicesOrigin.setLabel(params.label);\n      choicesOrigin.setName(params.name);\n      if (choicesOrigin instanceof AjfChoicesFixedOrigin) {\n        choicesOrigin.setChoices(params.choices);\n      }\n    }\n    this._editedChoicesOrigin.next(null);\n  }\n\n  private _findMaxNodeId(nodes: AjfNode[], _curMaxId = 0): number {\n    let maxId = 0;\n    nodes.forEach((n) => {\n      maxId = Math.max(maxId, n.id);\n      if (isContainerNode(n)) {\n        maxId = Math.max(maxId, this._findMaxNodeId((<AjfContainerNode>n).nodes));\n      }\n    });\n    return maxId;\n  }\n\n  private _initFormStreams(): void {\n    this._form\n      .subscribe((form: AjfForm | null) => {\n        nodeUniqueId = 0;\n        if (form != null && form.nodes != null && form.nodes.length > 0) {\n          nodeUniqueId = this._findMaxNodeId(form.nodes);\n        }\n        this._nodesUpdates.next(\n          (_nodes: AjfNode[]): AjfNode[] => {\n            return form != null && form.nodes != null ? form.nodes.slice(0) : [];\n          }\n        );\n        this._attachmentsOriginsUpdates.next(\n          (_attachmentsOrigins: AjfAttachmentsOrigin[]): AjfAttachmentsOrigin[] => {\n            return form != null && form.attachmentsOrigins != null ?\n              form.attachmentsOrigins.slice(0) : [];\n          }\n        );\n        this._choicesOriginsUpdates.next(\n          (_choicesOrigins: IAjfChoicesOrigin[]): IAjfChoicesOrigin[] => {\n            return form != null && form.choicesOrigins != null ? form.choicesOrigins.slice(0) : [];\n          }\n        );\n      });\n  }\n\n  private _initChoicesOriginsStreams(): void {\n    this._choicesOrigins = (<Observable<IAjfChoicesOriginsOperation>>this._choicesOriginsUpdates)\n      .pipe(\n        scan((choicesOrigins: IAjfChoicesOrigin[], op: IAjfChoicesOriginsOperation) => {\n          return op(choicesOrigins);\n        }, []),\n        publishReplay(1),\n        refCount()\n      );\n  }\n\n  private _initAttachmentsOriginsStreams(): void {\n    this._attachmentsOrigins =\n      (<Observable<IAjfAttachmentsOriginsOperation>>this._attachmentsOriginsUpdates).pipe(\n        scan((attachmentsOrigins: AjfAttachmentsOrigin[], op: IAjfAttachmentsOriginsOperation) => {\n          return op(attachmentsOrigins);\n        }, []),\n        publishReplay(1),\n        refCount()\n      );\n  }\n\n  private _initNodesStreams(): void {\n    this._nodes = (<Observable<IAjfNodesOperation>>this._nodesUpdates).pipe(\n      scan((nodes: AjfNode[], op: IAjfNodesOperation) => {\n        return op(nodes);\n      }, []),\n      publishReplay(1),\n      refCount()\n    );\n\n    this._flatNodes = this._nodes.pipe(\n      map((nodes: AjfNode[]) => flattenNodes(nodes)),\n      publishReplay(1),\n      refCount()\n    );\n\n    this._flatFields = this._flatNodes.pipe(\n      map((nodes: AjfNode[]) => <AjfField[]>nodes.filter(n => !isContainerNode(n))),\n      publishReplay(1),\n      refCount()\n    );\n\n    this._nodeEntriesTree = this._nodes.pipe(\n      map(nodes => <AjfFormBuilderNodeEntry[]>buildFormBuilderNodesTree(nodes)),\n      publishReplay(1),\n      refCount()\n    );\n  }\n\n  private _initSaveNode(): void {\n    this._saveNodeEntryEvent.pipe(\n      withLatestFrom(this.editedNodeEntry, this.choicesOrigins, this.attachmentsOrigins),\n      filter((r) => r[1] != null),\n      map((r: [\n        any, AjfFormBuilderNodeEntry | null, IAjfChoicesOrigin[], AjfAttachmentsOrigin[]\n      ]) => {\n        this._beforeNodesUpdate.emit();\n        const properties = r[0];\n        const nodeEntry = r[1]!;\n        const choicesOrigins = r[2];\n        const attachmentsOrigins = r[3];\n        const origNode = nodeEntry.node;\n        const node = AjfNode.fromJson(origNode.toJson(), choicesOrigins, attachmentsOrigins);\n        node.id = nodeEntry.node.id;\n        node.name = properties['name'];\n        node.label = properties['label'];\n        node.visibility = properties['visibility'] != null ?\n          new AjfCondition({ condition: properties['visibility'] }) : null;\n\n        const oldConditionalBranches = node.conditionalBranches.length;\n        node.conditionalBranches = properties['conditionalBranches'] != null\n          ? properties['conditionalBranches']\n            .map((condition: string) => new AjfCondition({condition}))\n          : [AjfCondition.alwaysCondition()];\n        const newConditionalBranches = node.conditionalBranches.length;\n\n        if (isRepeatingContainerNode(node)) {\n          const repNode = <AjfRepeatingContainerNode>node;\n          repNode.formulaReps = properties['formulaReps'] != null ?\n            new AjfFormula({formula: properties['formulaReps']}) : null;\n          repNode.minReps = properties['minReps'];\n          repNode.maxReps = properties['maxReps'];\n        }\n\n        if (nodeEntry.node instanceof AjfField) {\n          const field = <AjfField>nodeEntry.node;\n          field.description = properties['description'];\n          field.defaultValue = properties['defaultValue'];\n          field.formula = properties['formula'] != null ?\n            new AjfFormula({formula: properties['formula']}) : null;\n          const forceValue = properties['value'];\n          const notEmpty = properties['notEmpty'];\n          const validationConditions = properties['validationConditions'];\n          let minValue: number | null = parseInt(properties['minValue'], 10);\n          let maxValue: number | null = parseInt(properties['maxValue'], 10);\n          let minDigits: number | null = parseInt(properties['minDigits'], 10);\n          let maxDigits: number | null = parseInt(properties['maxDigits'], 10);\n          if (isNaN(minValue)) { minValue = null; }\n          if (isNaN(maxValue)) { maxValue = null; }\n          if (isNaN(minDigits)) { minDigits = null; }\n          if (isNaN(maxDigits)) { maxDigits = null; }\n          if (\n            forceValue != null || notEmpty != null ||\n            (validationConditions != null && validationConditions.length > 0) ||\n            minValue != null || maxValue != null || minDigits != null || maxDigits != null\n          ) {\n            const validation = field.validation || new AjfValidationGroup();\n            validation.forceValue = forceValue;\n            validation.notEmpty = notEmpty ? AjfValidation.getNotEmptyCondition() : null;\n            validation.minValue = minValue != null ? AjfValidation.getMinCondition(minValue) : null;\n            validation.maxValue = maxValue != null ? AjfValidation.getMaxCondition(maxValue) : null;\n            validation.minDigits = minDigits != null ?\n              AjfValidation.getMinDigitsCondition(minDigits) : null;\n            validation.maxDigits = maxDigits != null ?\n              AjfValidation.getMaxDigitsCondition(maxDigits) : null;\n            validation.conditions = (validationConditions || [])\n              .map((c: {condition: string, errorMessage: string}) => new AjfValidation({\n                condition: c.condition,\n                errorMessage: c.errorMessage\n              }));\n            field.validation = validation;\n          } else {\n            field.validation = null;\n          }\n          const notEmptyWarning = properties['notEmptyWarning'];\n          const warningConditions = properties['warningConditions'];\n          if (\n            notEmptyWarning != null ||\n            (warningConditions != null && warningConditions.length > 0)\n          ) {\n            const warning = field.warning || new AjfWarningGroup();\n            warning.notEmpty = notEmptyWarning ? AjfWarning.getNotEmptyWarning() : null;\n            warning.conditions = (warningConditions || [])\n              .map((w: {condition: string, warningMessage: string}) => new AjfWarning({\n                condition: w.condition, warningMessage: w.warningMessage\n              }));\n            field.warning = warning;\n          } else {\n            field.warning = null;\n          }\n          field.nextSlideCondition = properties['nextSlideCondition'] != null ?\n            new AjfCondition({ condition: properties['nextSlideCondition'] }) : null;\n\n          if (field instanceof AjfFieldWithChoices) {\n            const fwc = <AjfFieldWithChoices>field;\n            let choicesOrigin: IAjfChoicesOrigin | null = null;\n            let coIdx = 0;\n            const coNum: number = choicesOrigins.length;\n            while (choicesOrigin == null && coIdx < coNum) {\n              if (choicesOrigins[coIdx].getName() === properties['choicesOrigin']) {\n                choicesOrigin = choicesOrigins[coIdx];\n              }\n              coIdx++;\n            }\n            if (choicesOrigin != null) {\n              fwc.choicesOrigin = choicesOrigin;\n            }\n            fwc.forceExpanded = properties['forceExpanded'];\n            fwc.forceNarrow = properties['forceNarrow'];\n            fwc.triggerConditions = (properties['triggerConditions'] || [])\n              .map((t: string) => new AjfCondition({condition: t}));\n          }\n        }\n\n        this._editedNodeEntry.next(null);\n\n        return (nodes: AjfNode[]): AjfNode[] => {\n          let cn = getNodeContainer({nodes}, origNode);\n          if (cn != null) {\n            if (cn instanceof AjfNode) {\n              const idx = cn.nodes.indexOf(origNode);\n              let newNodes = cn.nodes.slice(0, idx);\n              newNodes.push(node);\n              newNodes = newNodes.concat(cn.nodes.slice(idx + 1));\n              cn.nodes = newNodes;\n              nodes = nodes.slice(0);\n            } else {\n              const idx = nodes.indexOf(origNode);\n              nodes = nodes.slice(0, idx).concat([node]).concat(nodes.slice(idx + 1));\n            }\n            if (newConditionalBranches < oldConditionalBranches) {\n              for (let i = newConditionalBranches ; i < oldConditionalBranches ; i++) {\n                nodes = deleteNodeSubtree(nodes, node, i);\n              }\n            }\n          }\n          return nodes;\n        };\n      })\n    ).subscribe(this._nodesUpdates);\n  }\n\n  private _initDeleteNode(): void {\n    (<Observable<AjfFormBuilderNodeEntry>>this._deleteNodeEntryEvent).pipe(\n      map((nodeEntry: AjfFormBuilderNodeEntry) => {\n        this._beforeNodesUpdate.emit();\n        return (nodes: AjfNode[]): AjfNode[] => {\n          const node = nodeEntry.node;\n          let cn = getNodeContainer({nodes}, node);\n          if (cn != null) {\n            if (cn instanceof AjfNode) {\n              const idx = cn.nodes.indexOf(node);\n              let newNodes = cn.nodes.slice(0, idx);\n              newNodes = newNodes.concat(cn.nodes.slice(idx + 1));\n              cn.nodes = newNodes;\n              nodes = nodes.slice(0);\n            } else {\n              const idx = nodes.indexOf(node);\n              nodes = nodes.slice(0, idx).concat(nodes.slice(idx + 1));\n            }\n            nodes = deleteNodeSubtree(nodes, node);\n          }\n          return nodes;\n        };\n      })\n    ).subscribe(this._nodesUpdates);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, Input, ViewEncapsulation} from '@angular/core';\n\nimport {IAjfChoicesOrigin, AjfChoicesFixedOrigin} from '@ajf/core/forms';\n\nimport {ChoicesOriginChoiceEntry, ChoicesOriginDataSource} from './choices-origin-data-source';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-fb-choices-origin-editor',\n  templateUrl: 'choices-origin-editor.html',\n  styleUrls: ['choices-origin-editor.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFbChoicesOriginEditor {\n  private _displayedColumns: string[] = ['label', 'value', 'delete'];\n  get displayedColumns(): string[] { return this._displayedColumns; }\n\n  private _choicesOrigin: IAjfChoicesOrigin;\n  get choicesOrigin(): IAjfChoicesOrigin { return this._choicesOrigin; }\n  @Input()\n  set choicesOrigin(choicesOrigin: IAjfChoicesOrigin) {\n    this._choicesOrigin = choicesOrigin;\n    this.name = choicesOrigin.getName();\n    this.label = choicesOrigin.getLabel();\n\n    this.canEditChoices = choicesOrigin instanceof AjfChoicesFixedOrigin;\n    this._choicesArr = choicesOrigin.getChoices();\n    this._choices.updateChoices(this._choicesArr);\n  }\n\n  editing: {[key: string]: boolean} = {};\n  name: string;\n  label: string;\n  canEditChoices: boolean;\n\n  private _choices: ChoicesOriginDataSource = new ChoicesOriginDataSource();\n  get choices(): ChoicesOriginDataSource { return this._choices; }\n\n  private _choicesArr: ChoicesOriginChoiceEntry[] = [];\n  get choicesArr(): ChoicesOriginChoiceEntry[] { return this._choicesArr; }\n\n  updateValue(evt: any, cell: string, _value: any, rowIdx: number): void {\n    this.editing[rowIdx + '-' + cell] = false;\n    (this._choicesArr[rowIdx] as any)[cell] = evt.target.value;\n    this._choices.updateChoices(this._choicesArr);\n  }\n\n  deleteRow(rowIdx: number): void {\n    this._choicesArr.splice(rowIdx, 1);\n    this._choices.updateChoices(this._choicesArr);\n  }\n\n  addRow(): void {\n    this._choicesArr.push({label: '', value: ''});\n    this._choices.updateChoices(this._choicesArr);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {DataSource} from '@angular/cdk/collections';\n\nimport {BehaviorSubject, Observable} from 'rxjs';\n\n\nexport type ChoicesOriginChoiceEntry = {label: string, value: string};\n\nexport class ChoicesOriginDataSource\n    extends DataSource<ChoicesOriginChoiceEntry> {\n  private _choices: BehaviorSubject<ChoicesOriginChoiceEntry[]> =\n      new BehaviorSubject<ChoicesOriginChoiceEntry[]>([]);\n  private _choicesObs: Observable<ChoicesOriginChoiceEntry[]>;\n\n  constructor() {\n    super();\n    this._choicesObs = this._choices.asObservable();\n  }\n\n  connect(): Observable<ChoicesOriginChoiceEntry[]> {\n    return this._choicesObs;\n  }\n\n  disconnect() {}\n\n  updateChoices(choices: ChoicesOriginChoiceEntry[]) {\n    this._choices.next(choices);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  ChangeDetectionStrategy, Component, ElementRef, Input, Renderer2, ViewEncapsulation\n} from '@angular/core';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-fb-branch-line',\n  templateUrl: 'branch-line.html',\n  styleUrls: ['branch-line.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFbBranchLine {\n  private _offset = 0;\n  @Input() set offset(offset: number) {\n    this._offset = offset;\n    this._updateOffset();\n  }\n\n  private _color: string;\n  @Input() set color(color: string) {\n    this._color = color;\n    this._updateColor();\n  }\n\n  private _height = 0;\n  @Input() set height(height: number) {\n    this._height = height;\n    this._updateHeight();\n  }\n\n  constructor(private _el: ElementRef, private _renderer: Renderer2) { }\n\n  private _updateHeight(): void {\n    const height = `${Math.max(0, this._height - 25)}px`;\n    this._renderer.setStyle(this._el.nativeElement, 'height', height);\n  }\n\n  private _updateOffset(): void {\n    const margin = `${this._offset * 4}px`;\n    this._renderer.setStyle(this._el.nativeElement, 'margin-top', margin);\n    this._renderer.setStyle(this._el.nativeElement, 'margin-left', margin);\n  }\n\n  private _updateColor(): void {\n    this._renderer.setStyle(this._el.nativeElement, 'border-color', this._color);\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n"],"names":["AjfNodeIconModule","AjfMonacoEditorModule","TranslateModule","MatTooltipModule","MatToolbarModule","MatTableModule","MatSliderModule","MatSidenavModule","MatSelectModule","MatMenuModule","MatListModule","MatInputModule","MatIconModule","MatFormFieldModule","MatDialogModule","MatCheckboxModule","MatCardModule","MatButtonModule","DragDropModule","ReactiveFormsModule","FormsModule","CommonModule","NgModule","ChangeDetectionStrategy","ViewEncapsulation","Component","FormBuilder","AjfCondition","distinctUntilChanged","Subscription","withLatestFrom","publishReplay","refCount","Validators","map","filter","tslib_1.__assign","AjfFieldWithChoices","AjfNumberField","AjfField","EventEmitter","Input","isContainerNode","sample","AjfFieldType","AjfValidatedProperty","Injectable","AjfNode","AjfWarning","AjfWarningGroup","AjfValidation","AjfValidationGroup","AjfFormula","scan","AjfChoicesFixedOrigin","AjfForm","Subject","BehaviorSubject","AjfTableField","AjfTimeField","AjfDateInputField","AjfDateField","AjfFormulaField","AjfMultipleChoiceField","AjfSingleChoiceField","AjfBooleanField","AjfTextField","AjfStringField","AjfRepeatingSlide","AjfSlide","AjfNodeGroup","DataSource","tslib_1.__extends"],"mappings":"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"}