{"version":3,"file":"material-report-builder.umd.js","sources":["../../src/material/report-builder/report-builder-module.ts","../../src/material/report-builder/report-builder.ts","../../src/material/report-builder/widgets-toolbar.ts","../../src/material/report-builder/widgets-row-buttons.ts","../../src/material/report-builder/widget-toolbar-button.ts","../../src/material/report-builder/toolbar.ts","../../src/material/report-builder/toolbar-dialog.ts","../../src/material/report-builder/theme-color.ts","../../src/material/report-builder/theme-color-dialog.ts","../../src/material/report-builder/renderer-widget.ts","../../src/material/report-builder/quill-editor.ts","../../src/material/report-builder/properties.ts","../../src/material/report-builder/image-group.ts","../../src/material/report-builder/image-filter.ts","../../src/material/report-builder/forms-analyzer.ts","../../src/material/report-builder/forms-analyzer-dialog.ts","../../src/material/report-builder/custom-widgets-toolbar.ts","../../src/material/report-builder/custom-widget-toolbar-button.ts","../../src/material/report-builder/custom-widget-dialog.ts","../../src/material/report-builder/content.ts","../../src/material/report-builder/condition-editor.ts","../../src/material/report-builder/utils.ts","../../src/material/report-builder/column.ts","../../src/material/report-builder/report-builder-service.ts","../../src/material/report-builder/tokens.ts","../../node_modules/tslib/tslib.es6.js"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {DragDropModule} from '@angular/cdk/drag-drop';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatGridListModule} from '@angular/material/grid-list';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatListModule} from '@angular/material/list';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatSidenavModule} from '@angular/material/sidenav';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport {MatSliderModule} from '@angular/material/slider';\nimport {MatTabsModule} from '@angular/material/tabs';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {MatTooltipModule} from '@angular/material/tooltip';\n\nimport {TranslateModule} from '@ngx-translate/core';\n\nimport {ColorPickerModule} from 'ngx-color-picker';\n\nimport {AjfCommonModule} from '@ajf/core/common';\nimport {AjfMapModule} from '@ajf/core/map';\nimport {AjfTableModule} from '@ajf/core/table';\nimport {AjfTextModule} from '@ajf/core/text';\nimport {AjfImageModule} from '@ajf/material/image';\nimport {AjfMonacoEditorModule} from '@ajf/material/monaco-editor';\n\nimport {AjfReportBuilderColumn} from './column';\nimport {AjfReportBuilderConditionEditor} from './condition-editor';\nimport {AjfReportBuilderContent} from './content';\nimport {AjfReportBuilderCustomWidgetDialog} from './custom-widget-dialog';\nimport {AjfReportBuilderCustomWidgetToolbarButton} from './custom-widget-toolbar-button';\nimport {AjfReportBuilderCustomWidgetsToolbar} from './custom-widgets-toolbar';\nimport {AjfReportBuilderFormsAnalyzerDialog} from './forms-analyzer-dialog';\nimport {AjfReportBuilderFormsAnalyzer} from './forms-analyzer';\nimport {AjfImageFilterPipe} from './image-filter';\nimport {AjfReportBuilderImageGroup} from './image-group';\nimport {AjfReportBuilderProperties} from './properties';\nimport {AjfQuillEditor} from './quill-editor';\nimport {AjfReportBuilderRendererWidget} from './renderer-widget';\nimport {AjfReportBuilderThemeColorDialog} from './theme-color-dialog';\nimport {AjfReportBuilderThemeColor} from './theme-color';\nimport {AjfReportBuilderToolbarDialog} from './toolbar-dialog';\nimport {AjfReportBuilderToolbar} from './toolbar';\nimport {AjfReportBuilderWidgetToolbarButton} from './widget-toolbar-button';\nimport {AjfReportBuilderWidgetsRowButtons} from './widgets-row-buttons';\nimport {AjfReportBuilderWidgetsToolbar} from './widgets-toolbar';\nimport {AjfReportBuilderService} from './report-builder-service';\nimport {AjfReportBuilder} from './report-builder';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DragDropModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatCardModule,\n    MatDialogModule,\n    MatGridListModule,\n    MatIconModule,\n    MatListModule,\n    MatSelectModule,\n    MatSidenavModule,\n    MatSlideToggleModule,\n    MatSliderModule,\n    MatTabsModule,\n    MatToolbarModule,\n    MatTooltipModule,\n    TranslateModule,\n    ColorPickerModule,\n    AjfCommonModule,\n    AjfImageModule,\n    AjfMapModule,\n    AjfMonacoEditorModule,\n    AjfTableModule,\n    AjfTextModule,\n  ],\n  declarations: [\n    AjfQuillEditor,\n    AjfReportBuilderColumn,\n    AjfReportBuilderConditionEditor,\n    AjfReportBuilderContent,\n    AjfReportBuilderCustomWidgetDialog,\n    AjfReportBuilderCustomWidgetToolbarButton,\n    AjfReportBuilderCustomWidgetsToolbar,\n    AjfReportBuilderFormsAnalyzerDialog,\n    AjfReportBuilderFormsAnalyzer,\n    AjfReportBuilderImageGroup,\n    AjfReportBuilderProperties,\n    AjfReportBuilderRendererWidget,\n    AjfReportBuilderThemeColorDialog,\n    AjfReportBuilderThemeColor,\n    AjfReportBuilderToolbarDialog,\n    AjfReportBuilderToolbar,\n    AjfReportBuilderWidgetToolbarButton,\n    AjfReportBuilderWidgetsRowButtons,\n    AjfReportBuilderWidgetsToolbar,\n    AjfReportBuilder,\n    AjfImageFilterPipe,\n  ],\n  exports: [\n    AjfReportBuilder,\n  ],\n  entryComponents: [\n    AjfReportBuilderFormsAnalyzerDialog,\n    AjfReportBuilderThemeColorDialog,\n    AjfReportBuilderToolbarDialog,\n  ],\n  providers: [\n    AjfReportBuilderService,\n  ]\n})\nexport class AjfReportBuilderModule { }\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  AfterContentInit, ChangeDetectionStrategy, Component, Input, ViewChild, ViewEncapsulation\n} from '@angular/core';\nimport {MatSidenav} from '@angular/material/sidenav';\n\nimport {AjfReport} from '@ajf/core/reports';\nimport {AjfReportBuilderService} from './report-builder-service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder',\n  templateUrl: 'report-builder.html',\n  styleUrls: ['report-builder.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n/**\n * This class will define an ajf form builderx\n */\nexport class AjfReportBuilder implements AfterContentInit {\n  @ViewChild(MatSidenav, {static: true}) startSidenav: MatSidenav;\n\n  private _init: boolean = false;\n\n  private _report: AjfReport;\n  get report(): AjfReport { return this._report; }\n  @Input() set report(report: AjfReport) {\n    if (report != null) {\n      this._report = report;\n      if (this._init) {\n        this._setCurrentReport();\n      }\n    }\n  }\n\n  constructor(private _service: AjfReportBuilderService) { }\n\n  ngAfterContentInit(): void {\n    this._setCurrentReport();\n    this._init = true;\n  }\n\n  private _setCurrentReport(): void {\n    this._service.setReportForms(this.report != null ? this.report.forms || [] : []);\n    this._service.setReport(this.report);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfChartType, AjfWidgetType} from '@ajf/core/reports';\nimport {sizedEnumToStringArray} from '@ajf/core/utils';\nimport {ChangeDetectionStrategy, Component, ViewEncapsulation} from '@angular/core';\nimport {timer} from 'rxjs';\n\nimport {AjfReportBuilderService} from './report-builder-service';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-widgets-toolbar',\n  templateUrl: 'widgets-toolbar.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n/**\n * This class will define an Ajf builder fields toolbar\n */\nexport class AjfReportBuilderWidgetsToolbar {\n  // fieldTypes is an array string that contains the field options\n  chartTypes: string[] = sizedEnumToStringArray(AjfChartType);\n  widgetTypes: string[] = sizedEnumToStringArray(AjfWidgetType);\n\n\n  /**\n   *\n   * @param private _afjBuilderService: AjfBuilderService\n   */\n  constructor(private _service: AjfReportBuilderService) {\n    // delete Column widget\n    let pos = this.widgetTypes.indexOf('Column');\n    if (pos !== -1) {\n      this.widgetTypes.splice(pos, 1);\n    }\n  }\n  /**\n   *  sign the start of mouse drag with 200 ms of delay\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragStartHandler(): void {\n    let s = timer(200)\n      .subscribe(() => {\n        if (s != null) { s.unsubscribe(); }\n        this._service.dragStarted();\n      });\n  }\n\n  /**\n   * sign the end of mouse drag\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragEndHandler(): void {\n    this._service.dragEnded();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfLayoutWidget, AjfWidget, AjfWidgetType} from '@ajf/core/reports';\nimport {\n  ChangeDetectionStrategy, Component, OnDestroy, OnInit, ViewEncapsulation\n} from '@angular/core';\nimport {Subscription} from 'rxjs';\n\nimport {AjfReportBuilderService} from './report-builder-service';\nimport {ajfWidgetTypeToLabel, widgetReportBuilderIconName} from './utils';\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-widgets-row-buttons',\n  inputs: ['from', 'fromWidget', 'position', 'widget', 'child', 'isOver'],\n  templateUrl: 'widgets-row-buttons.html',\n  styleUrls: ['widgets-row-buttons.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderWidgetsRowButtons implements OnDestroy, OnInit {\n  from: string;\n  fromWidget: AjfWidget;\n  position: number;\n  widget: AjfWidget;\n  child: boolean;\n  currentWidget: AjfWidget|null = null;\n  isClicked = false;\n  color: string[] = [];\n  isOver = false;\n\n  widgetIcon: string;\n  widgetLabel: string;\n  label: string;\n\n  // this boolean sign if is dragged a widget\n  onDragged = false;\n\n  // this boolean sign if is on over a widget\n  onOver = false;\n\n  private _currentWidgetSub: Subscription = Subscription.EMPTY;\n  private _onDraggedSub: Subscription = Subscription.EMPTY;\n  private _onOverSub: Subscription = Subscription.EMPTY;\n\n\n  /**\n   *\n   * @param private _afjBuilderService: AjfBuilderService\n   */\n  constructor(private _service: AjfReportBuilderService) {\n\n  }\n\n  selectedWidget() {\n    this.isClicked = !this.isClicked;\n    this._service.setOrigin(this.from);\n    this._service.updateCurrentWidget(this.widget);\n  }\n\n  remove() {\n    if (this.fromWidget != null) {\n      this._service.updateCurrentWidget(this.fromWidget);\n    }\n    this._service.remove(this.from, this.position);\n  }\n\n  onFocus(): boolean {\n    if (this.widget === this.currentWidget) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  changeColumn(direction: string) {\n\n    if (direction == 'back') {\n      this._service.changeColumn(\n          this.position, this.position - 1, <AjfLayoutWidget>this.fromWidget);\n    } else {\n      this._service.changeColumn(\n          this.position, this.position + 1, <AjfLayoutWidget>this.fromWidget);\n    }\n  }\n  isColumn(): boolean {\n    if (this.label === 'Column') {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  isOneColumn(): boolean {\n    let rootObj = <AjfLayoutWidget>this.fromWidget;\n    if (rootObj.columns.length > 1) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  ngOnInit() {\n    this.label = AjfWidgetType[this.widget.widgetType];\n    this.widgetIcon = widgetReportBuilderIconName(this.widget.widgetType);\n    this.widgetLabel = ajfWidgetTypeToLabel(this.widget.widgetType);\n\n    this._onDraggedSub = this._service.onDragged\n      .subscribe(x => {\n        this.onDragged = x;\n      });\n\n    this._onOverSub = this._service.onOver\n      .subscribe(x => {\n        this.onOver = x;\n      });\n\n    this._currentWidgetSub = this._service.currentWidget\n      .subscribe(\n      x => {\n        this.currentWidget = x;\n        if (x !== this.widget) {\n          this.isClicked = false;\n        }\n      });\n\n  }\n  ngOnDestroy(): void {\n    this._onDraggedSub.unsubscribe();\n    this._onOverSub.unsubscribe();\n    this._currentWidgetSub.unsubscribe();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, OnInit, ViewEncapsulation} from '@angular/core';\n\nimport {ajfReportBuilderWidgetToString} from './utils';\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-widget-toolbar-button',\n  inputs: ['widgetType'],\n  templateUrl: 'widget-toolbar-button.html',\n  styleUrls: ['widget-toolbar-button.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n/**\n * This class will define an ajf builder field toolbar button\n * @implements : OnInit\n */\nexport class AjfReportBuilderWidgetToolbarButton implements OnInit {\n  widgetType: string;\n  widgetIcon: string;\n\n  constructor() { }\n  ngOnInit(): void {\n    this.widgetIcon = ajfReportBuilderWidgetToString(this.widgetType);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {deepCopy} from '@ajf/core/utils';\nimport {CdkDrag, CdkDragDrop} from '@angular/cdk/drag-drop';\nimport {ChangeDetectionStrategy, Component, EventEmitter, ViewEncapsulation} from '@angular/core';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {Observable} from 'rxjs';\n\nimport {AjfReportBuilderDragData} from './report-builder-drag-data';\nimport {AjfReportBuilderService} from './report-builder-service';\nimport {AjfReportBuilderToolbarDialog} from './toolbar-dialog';\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-toolbar',\n  outputs: ['addClick'],\n  styleUrls: ['toolbar.css'],\n  templateUrl: 'toolbar.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n/**\n * This class will define an ajf builder toolbar\n * @implements : OnDestroy\n */\nexport class AjfReportBuilderToolbar {\n  // this is an any EventEmitter\n  addClick: EventEmitter<any> = new EventEmitter<any>();\n  dialogRef: MatDialogRef<AjfReportBuilderToolbarDialog>;\n  zoom = false;\n\n  lastJson: string;\n\n  emptyContent: Observable<boolean>;\n\n  constructor(\n    private _service: AjfReportBuilderService,\n    public dialog: MatDialog) {\n      this.emptyContent = this._service.emptyContent;\n  }\n\n  canDropPredicate(item: CdkDrag<AjfReportBuilderDragData>): boolean {\n    return item.data.dropZones.indexOf('widget') > -1;\n  }\n\n  JSONRequest() {\n  }\n  /**\n   * this method will pass event to event emitter\n   */\n  onAddClick(event: any): void {\n    this.addClick.emit(event);\n  }\n\n  addToList(event: CdkDragDrop<AjfReportBuilderDragData>) {\n    if (event.item.data.widget != null) {\n      this._service.addCustomWidgets({\n        json: JSON.stringify(event.item.data.widget.toJson()),\n        type: ''\n      });\n    }\n  }\n\n  undoLastOperation() {\n    try {\n      let myObj = JSON.parse(this._service.popJsonStack() || '');\n      this._service.setReport(deepCopy(myObj));\n    } catch (e) { }\n  }\n\n  isZoomed() {\n    this.zoom = !this.zoom;\n    if (this.zoom) {\n      this._service.fixedZoomIn();\n    } else {\n      this._service.fixedZoomOut();\n    }\n  }\n\n  openDialog() {\n    this.dialogRef = this.dialog.open(AjfReportBuilderToolbarDialog);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, ViewEncapsulation} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\n\nimport {AjfReportBuilderService} from './report-builder-service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'toolbar-dialog',\n  templateUrl: 'toolbar-dialog.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderToolbarDialog {\n  constructor(\n    private _service: AjfReportBuilderService,\n    private _dialogRef: MatDialogRef<AjfReportBuilderToolbarDialog>\n  ) { }\n\n  resetReport() {\n    let emptyReport: any = {\n      'header': { 'content': [], 'styles': {} },\n      'content': { 'content': [], 'styles': {} },\n      'footer': { 'content': [], 'styles': {} },\n      'styles': {}\n    };\n    this._service.setReport(emptyReport);\n    this._dialogRef.close();\n  }\n\n  close() {\n    this._dialogRef.close();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfWidget} from '@ajf/core/reports';\nimport {deepCopy} from '@ajf/core/utils';\nimport {\n  ChangeDetectionStrategy, Component, Input, OnDestroy, OnInit, ViewEncapsulation\n} from '@angular/core';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {Observable, Subscription} from 'rxjs';\nimport {distinctUntilChanged, map} from 'rxjs/operators';\n\nimport {AjfReportBuilderService} from './report-builder-service';\nimport {AjfReportBuilderThemeColorDialog} from './theme-color-dialog';\n\n/**\n * this component manages the report text\n *\n * @export\n */\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-theme-color',\n  templateUrl: 'theme-color.html',\n  styleUrls: ['theme-color.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderThemeColor implements OnInit, OnDestroy {\n  currentWidget: AjfWidget|null = null;\n\n  alphaColor: number = 1;\n  colors: string[];\n  currentColor: string;\n\n  getColorWidget: Observable<string>;\n\n  dialogRef: MatDialogRef<AjfReportBuilderThemeColorDialog>;\n\n  styleBackgroundColor = 'rgb(255,255,255,0)';\n  styleColor = 'rgb(0,0,0,0)';\n\n  @Input()\n  section: string;\n\n  @Input()\n  label: string;\n\n  @Input()\n  init: string;\n\n  /**\n   * the name of the section that contains the currentWidget\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  origin: string;\n\n  private _colorsSub: Subscription = Subscription.EMPTY;\n  private _currentWidgetSub: Subscription = Subscription.EMPTY;\n  private _originSub: Subscription = Subscription.EMPTY;\n  private _headerStyleSub: Subscription = Subscription.EMPTY;\n  private _contentStylesSub: Subscription = Subscription.EMPTY;\n  private _footerStylesSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n    private _service: AjfReportBuilderService,\n    public dialog: MatDialog\n  ) {\n  }\n\n  setStyles(value: any) {\n    switch (this.section) {\n      case 'widget':\n        this.setWidgetStyles(value);\n        break;\n      case 'report':\n        this.setReportStyles(value);\n        break;\n      case 'section':\n        this.setSectionStyles(value);\n        break;\n      case 'chart':\n        this.setChartStyle(value);\n        break;\n    }\n  }\n\n  setChartStyle(value: any) {\n    if (this.label === 'backgroundColor') {\n      this.addChartBackgroundColor(value);\n    } else {\n      this.addChartBorderColor(value);\n    }\n  }\n\n  setAlphaColor(value: any) {\n\n    value = value.toFixed(2);\n    for (let i = 0; i < this.colors.length; i++) {\n      let lastComma = this.colors[i].lastIndexOf(',');\n      this.colors[i] = this.colors[i].substring(0, lastComma) + ',' + value + ')';\n    }\n  }\n\n  /**\n   * call to service to add new style to widget\n   *\n   * @param label\n   * @param value\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  setWidgetStyles(value: any) {\n    if (this.section === 'chart') {\n      this.setChartStyle(value);\n    } else {\n      this._service.setWidgetStyles(this.label, value);\n      this.currentColor = value;\n      this.setStyle();\n    }\n  }\n\n  /**\n   * call to service to add new style to section\n   *\n   * @param label\n   * @param value\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  setSectionStyles(value: any) {\n    this._service.setSectionStyles(this.origin, this.label, value);\n    this.styleColor = value;\n  }\n\n  /**\n   * call to service to add new style to report\n   *\n   * @param label\n   * @param value\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  setReportStyles(value: any) {\n    this._service.setReportStyles(this.label, value);\n    this.styleBackgroundColor = value;\n  }\n\n  /**\n   * call to service to add background color to current chart\n   *\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  addChartBackgroundColor(value: any) {\n    this._service.addChartBackgroundColor(value);\n  }\n\n  /**\n   * call to service to add border color to current chart\n   *\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  addChartBorderColor(value: any) {\n    this._service.addChartBorderColor(value);\n  }\n\n  setStyle() {\n    if (this.currentWidget == null) { return; }\n    this.currentWidget.styles = deepCopy(this.currentWidget.styles);\n    this._service.updateCurrentWidget(this.currentWidget);\n  }\n\n  openDialog() {\n    this.dialogRef = this.dialog.open(AjfReportBuilderThemeColorDialog);\n  }\n\n  ngOnInit() {\n\n    this._colorsSub = this._service.colors\n      .subscribe(x => {\n        this.colors = x;\n      }\n      );\n\n    this._currentWidgetSub = this._service.currentWidget\n      .subscribe(x => {\n        if (x != null) {\n          if (this.currentWidget !== x) {\n            this.currentWidget = x;\n          }\n        } else {\n          this.currentWidget = null;\n        }\n      });\n\n    this.getColorWidget = this._service.currentWidget.pipe(\n        map((myObj: AjfWidget|null) => {\n          if (myObj != null) {\n            return myObj.styles['color'] || '';\n          }\n        }),\n        distinctUntilChanged());\n\n    this._originSub = this._service.origin.subscribe(s => {\n      this.origin = s;\n    });\n\n    this._headerStyleSub = this._service.headerStyles.subscribe(s => {\n      if (s['background-color'] != null) {\n        this.styleBackgroundColor = s['background-color'];\n      }\n    });\n    this._contentStylesSub = this._service.contentStyles.subscribe(s => {\n      if (s['background-color'] != null) {\n        this.styleBackgroundColor = s['background-color'];\n      }\n    });\n    this._footerStylesSub = this._service.footerStyles.subscribe(s => {\n      if (s['background-color'] != null) {\n        this.styleBackgroundColor = s['background-color'];\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._colorsSub.unsubscribe();\n    this._currentWidgetSub.unsubscribe();\n    this._originSub.unsubscribe();\n    this._headerStyleSub.unsubscribe();\n    this._contentStylesSub.unsubscribe();\n    this._footerStylesSub.unsubscribe();\n  }\n}\n\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfWidget} from '@ajf/core/reports';\nimport {deepCopy} from '@ajf/core/utils';\nimport {\n  AfterViewInit, ChangeDetectionStrategy, Component, OnDestroy, OnInit, ViewChild, ViewEncapsulation\n} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\nimport {Subscription} from 'rxjs';\n\nimport {AjfReportBuilderService} from './report-builder-service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'theme-color-dialog',\n  templateUrl: 'theme-color-dialog.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderThemeColorDialog implements OnInit , AfterViewInit, OnDestroy {\n  @ViewChild('colorpic', {static: true})\n  elem: any;\n\n  currentWidget: AjfWidget|null = null;\n\n  currentColor = 'rgb(255,255,255,0)';\n  section: string = 'color';\n\n  private _currentWidgetSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n    private _service: AjfReportBuilderService,\n    private _dialogRef: MatDialogRef<AjfReportBuilderThemeColorDialog>\n  ) { }\n\n  setWidgetStyles(value: any) {\n    this._service.setWidgetStyles(this.section, value);\n    this.currentColor = value;\n    this.setStyle();\n  }\n\n  setStyle() {\n    if (this.currentWidget == null) { return; }\n    this.currentWidget.styles = deepCopy(this.currentWidget.styles);\n    this._service.updateCurrentWidget(this.currentWidget);\n  }\n\n  addCustomColor() {\n    this._service.addCustomColor(this.currentColor);\n    this._service.updateCurrentWidget(this.currentWidget);\n    this._dialogRef.close();\n  }\n\n  close() {\n    this._dialogRef.close();\n  }\n  ngOnInit() {\n    this._currentWidgetSub = this._service.currentWidget\n      .subscribe(x => {\n        if (x !== null) {\n          if (this.currentWidget !== x) {\n            this.currentWidget = x;\n          }\n        } else {\n          this.currentWidget = null;\n        }\n      });\n  }\n\n  ngAfterViewInit() {\n    this.elem.nativeElement.children[1].firstElementChild['style']['position'] = 'initial';\n  }\n\n  ngOnDestroy() {\n    this._currentWidgetSub.unsubscribe();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfImageType} from '@ajf/core/image';\nimport {evaluateExpression} from '@ajf/core/models';\nimport {\n  AjfChartWidget, AjfColumnWidget, AjfDataset, AjfImageWidget, AjfLayoutWidget, AjfMapWidget,\n  AjfTableWidget, AjfTextWidget, AjfWidget, AjfWidgetType\n} from '@ajf/core/reports';\nimport {CdkDrag, CdkDragDrop} from '@angular/cdk/drag-drop';\nimport {\n  ChangeDetectionStrategy, Component, Input, OnChanges, OnDestroy, OnInit, ViewEncapsulation\n} from '@angular/core';\nimport {Observable, Subscription, timer} from 'rxjs';\nimport {distinctUntilChanged, map, startWith} from 'rxjs/operators';\n\nimport {AjfReportBuilderDragData} from './report-builder-drag-data';\nimport {AjfReportBuilderService} from './report-builder-service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-renderer-widget',\n  templateUrl: 'renderer-widget.html',\n  styleUrls: ['renderer-widget.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderRendererWidget implements OnInit, OnDestroy, OnChanges {\n  get widgetTypes() {\n    return AjfWidgetType;\n  }\n\n  @Input() widget: AjfWidget;\n\n  get layoutWidget(): AjfLayoutWidget {\n    return this.widget as AjfLayoutWidget;\n  }\n\n  @Input()\n  position: number;\n\n  @Input()\n  section: string;\n\n  // this boolean sign if is dragged a widget\n  onDragged = false;\n\n  currentContentWidget: AjfWidget|null = null;\n  obj: any;\n  fixedZoom: any;\n\n  getTableTitles: Observable<string[]>;\n  getTableContent: Observable<string[][] | undefined>;\n\n  getChartType: Observable<number>;\n  getDataset: Observable<AjfDataset[][]>;\n  getChartBackgroundColor: Observable<string[]>;\n  getChartBorderColor: Observable<string[]>;\n  getChartBorderWidth: Observable<number>;\n\n  layoutShow: boolean;\n\n  private _onDraggedSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n    private _service: AjfReportBuilderService\n  ) { }\n\n  canDropPredicate(item: CdkDrag<AjfReportBuilderDragData>): boolean {\n    item.data.dropZones.forEach(d => {\n      if (['header', 'widget'].indexOf(d) > -1) {\n        return true;\n      }\n    });\n    return false;\n  }\n\n  /**\n   *  sign the start of mouse drag with 200 ms of delay\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragStartHandler(): void {\n    let s = timer(200)\n      .subscribe(() => {\n        s.unsubscribe();\n        this._service.dragStarted();\n      });\n  }\n\n  /**\n   * sign the end of mouse drag\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragEndHandler(): void {\n    this._service.dragEnded();\n  }\n\n  getColumnContent(): AjfColumnWidget[] {\n    const myObj: AjfLayoutWidget = <AjfLayoutWidget>this.widget;\n\n    return <AjfColumnWidget[]>myObj.content;\n  }\n\n  getIcon(): {fontSet: string, fontIcon: string} | null {\n    const defVal = {fontSet: '', fontIcon: ''};\n    const myObj: AjfImageWidget = <AjfImageWidget>this.widget;\n    if (myObj.icon == null) { return null; }\n    return evaluateExpression(myObj.icon.formula) || defVal;\n  }\n\n  getFlag(): string | null {\n    const defVal = 'ch';\n    const myObj: AjfImageWidget = <AjfImageWidget>this.widget;\n    if (myObj.flag == null) { return null; }\n    return evaluateExpression(myObj.flag.formula) || defVal;\n  }\n\n  getPercent(index: number): string {\n    const myObj: AjfLayoutWidget = <AjfLayoutWidget>this.widget;\n    const percent = myObj.columns[index] * 100;\n\n    return `${percent.toString()}%`;\n  }\n\n  getImageUrl(): string | null {\n    const defVal = '';\n    const myObj: AjfImageWidget = <AjfImageWidget>this.widget;\n    if (myObj.url == null) { return null; }\n    return evaluateExpression(myObj.url.formula) || defVal;\n  }\n\n  getImageType() {\n    return this.widget != null ? (<AjfImageWidget>this.widget).imageType : AjfImageType.Image;\n  }\n\n  getHtmlText(): string {\n    const myObj: AjfTextWidget = this.widget as AjfTextWidget;\n    if (myObj.htmlText === '') {\n      return '...';\n    } else {\n      return myObj.htmlText;\n    }\n  }\n\n  getCoordinate(): number[] {\n    const myObj: AjfMapWidget = this.widget as AjfMapWidget;\n    if (myObj.coordinate == null) {\n      return [51.505, -0.09, 13];\n    } else {\n      return myObj.coordinate as any;\n    }\n  }\n\n  getTileLayer(): string {\n    const myObj: AjfMapWidget = this.widget as AjfMapWidget;\n    if (myObj.tileLayer === '') {\n      return 'http://{s}.tile.osm.org/{z}/{x}/{y}.png';\n    } else {\n      return myObj.tileLayer;\n    }\n  }\n\n  getAttribution(): string {\n    let myObj: AjfMapWidget;\n    myObj = <AjfMapWidget>this.widget;\n    if (myObj.attribution === '') {\n      return \"&copy; <a href='http://osm.org/copyright'>O</a> contributors\";\n    } else {\n      return myObj.attribution;\n    }\n  }\n\n  addToList(event: CdkDragDrop<AjfReportBuilderDragData>, toColumn: AjfColumnWidget): void {\n    this.onDragEndHandler();\n    this._service.addToColumn(event, toColumn);\n  }\n\n  ngOnInit(): void {\n    this._onDraggedSub = this._service.onDragged\n      .subscribe(x => {\n        this.onDragged = x;\n      });\n\n    this.getChartType = this._service.currentWidget.pipe(\n        map((widget: AjfWidget|null) => {\n          if (widget == null) {\n            return 0;\n          }\n          const myObj = <AjfChartWidget>this.widget;\n          return <number>(myObj.chartType);\n        }),\n        distinctUntilChanged(), startWith(0));\n\n    this.getDataset = this._service.currentWidget.pipe(\n        map((widget: AjfWidget|null) => {\n          if (widget != null && (widget as AjfChartWidget).dataset != null) {\n            const myObj = <AjfChartWidget>this.widget;\n            return <any>myObj.dataset;\n          } else {\n            return [];\n          }\n        }),\n        distinctUntilChanged());\n\n    this.getTableTitles = this._service.currentWidget.pipe(map((widget: AjfWidget|null) => {\n      if (widget == null) {\n        return [];\n      }\n\n      const myObj = this.widget as AjfTableWidget;\n\n      if (myObj.dataset != null) {\n        let tableTitle: string[] = [];\n\n        for (let i = 0; i < myObj.dataset.length; i++) {\n          if (myObj.dataset[i][0] != null) {\n            tableTitle.push(myObj.dataset[i][0].label || '');\n          }\n        }\n        return tableTitle;\n      } else {\n        return [];\n      }\n    }));\n\n    this.getTableContent = this._service.currentWidget.pipe(map((widget: AjfWidget|null) => {\n      if (widget == null) {\n        return [];\n      }\n\n      const myObj = <AjfTableWidget>this.widget;\n\n      if (myObj.dataset != null) {\n        let tableContent: string[][] = [];\n\n        for (let i = 0; i < myObj.dataset.length; i++) {\n          for (let j = 0; j < myObj.dataset[i].length; j++) {\n            if ((myObj.dataset[i] != null) && (myObj.dataset[i][j + 1] != null)) {\n              if (tableContent[j] == null) {\n                tableContent[j] = [];\n              }\n              if (tableContent[j][i] == null) {\n                tableContent[j][i] = ' ';\n              }\n              tableContent[j].splice(i, 1, myObj.dataset[i][j + 1].label || '');\n            }\n          }\n        }\n        return tableContent;\n      }\n    }));\n\n    this._service.updateCurrentWidget(this.widget);\n  }\n\n  ngOnChanges(changes: any) {\n    if (changes.widget && changes.widget.currentValue != null) {\n      this.widget = changes.widget.currentValue;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._onDraggedSub.unsubscribe();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Renderer2,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Output,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport {\n  NG_VALUE_ACCESSOR,\n  NG_VALIDATORS,\n  ControlValueAccessor,\n  FormControl,\n  Validator\n} from '@angular/forms';\n\nimport {Subscription} from 'rxjs';\n\nimport {AjfReportBuilderService} from './report-builder-service';\n\nimport {default as Quill} from 'quill';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-quill-editor',\n  template: `\n    <ng-content select=\"[ajf-quill-editor-toolbar]\"></ng-content>\n  `,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => AjfQuillEditor),\n    multi: true\n  }, {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef(() => AjfQuillEditor),\n    multi: true\n  }],\n  styleUrls: ['quill-editor.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfQuillEditor\n  implements AfterViewInit, ControlValueAccessor, OnChanges, OnDestroy, Validator {\n\n  quillEditor: any;\n  editorElem: HTMLElement;\n  emptyArray: any[] = [];\n  content: any;\n\n  listenFunc: Function;\n\n  previewElemFormula: any;\n  private _init: boolean = false;\n\n  dateFormats = [\n    {\n      'label': 'June 23rd 2017, 12:39:12 pm',\n      'value': 'MMMM Do YYYY, h:mm:ss a',\n      'validator': 'MMMMDoYYYYhmmssa'\n    }, {\n      'label': 'Friday',\n      'value': 'dddd',\n      'validator': 'dddd'\n    }, {\n      'label': 'Jun 23rd 17',\n      'value': 'MMM Do YY',\n      'validator': 'MMMDoYY'\n    }];\n\n\n  fonts = [\n    false,\n    'blackr',\n    'black-italic',\n    'bold',\n    'bold-condensed',\n    'bold-condensed-italic',\n    'bold-italic',\n    'condensed',\n    'condensed-italic',\n    'italic',\n    'light',\n    'light-italic',\n    'medium',\n    'medium-italic',\n    'thinr',\n    'thin-italic'\n  ];\n\n  defaultModules = {\n    formula: true,\n    toolbar: [\n      ['formula'],\n      ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n      // ['blockquote', 'code-block'],\n\n      [{ 'header': 1 }, { 'header': 2 }],               // custom button values\n      [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n      [{ 'script': 'sub' }, { 'script': 'super' }],      // superscript/subscript\n      // [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n      // [{ 'direction': 'rtl' }],                         // text direction\n\n      [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n      [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n\n      [{ 'color': this.emptyArray.slice() },\n      { 'background': this.emptyArray.slice() }],          // dropdown with defaults from theme\n      [{ 'font': this.fonts }],\n      [{ 'align': this.emptyArray.slice() }],\n\n      ['clean'],                                         // remove formatting button\n\n      // ['link', 'image', 'video']                         // link and image, video\n    ]\n  };\n\n  font = Quill.import('formats/font');\n\n\n  @Input() theme: string;\n  @Input() modules: Object;\n  @Input() readOnly: boolean;\n  @Input() placeholder: string;\n  @Input() maxLength: number;\n  @Input() minLength: number;\n  @Input() formats: string[];\n  @Input() initHTML: string;\n\n  @Output() editorCreated: EventEmitter<any> = new EventEmitter();\n  @Output() contentChanged: EventEmitter<any> = new EventEmitter();\n  @Output() selectionChanged: EventEmitter<any> = new EventEmitter();\n\n\n  /**\n   * this event is fired when the user click on formula button on quill editor rool barƒ\n   *\n   * @memberof QuillEditorComponent\n   */\n  @Output() formulaClick: EventEmitter<any> = new EventEmitter<any>();\n\n\n  onModelChange: Function = () => { };\n  onModelTouched: Function = () => { };\n\n  private _formulas: { formula: any, unlisten: Function | null }[] = [];\n  private _formulaTextSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n    private _elementRef: ElementRef,\n    private _renderer: Renderer2,\n    private _service: AjfReportBuilderService) {\n    this.font.whitelist = this.fonts;\n    this.font.whitelist.push('regular');\n\n    this._formulaTextSub =\n      this._service.getFormulaToHtmlEvent()\n        .subscribe((event: any) => {\n\n          // reference is defined only when the user want to edit the formula\n          if (event.reference !== undefined) {\n            event.reference.innerHTML = event.formula;\n            this._renderer.setAttribute(event.reference, 'formula', event.formula);\n            const efs = this._formulas.filter(f => f.formula === event.reference);\n            let formulaEntry;\n            let unlisten;\n            if (efs.length > 0) {\n              formulaEntry = efs[0];\n              unlisten = formulaEntry.unlisten;\n              if (unlisten != null) {\n                unlisten();\n              }\n            } else {\n              formulaEntry = { formula: event.reference, unlisten: null };\n              this._formulas.push(formulaEntry);\n            }\n            formulaEntry.unlisten = this._renderer.listen(\n              event.reference, 'click', () => {\n                let obj = {\n                  'formula': event.formula,\n                  'reference': event.reference\n                };\n                this.formulaClick.emit(obj);\n              }\n            );\n          } else {\n            const quillEditor = this._elementRef.nativeElement.querySelector('.ajf-ql-editor');\n            const link = this._renderer.createElement('a');\n            this._renderer.setAttribute(link, 'href', 'javascript:void(0)');\n            this._renderer.setStyle(link, 'cursor', 'pointer');\n            this._renderer.setAttribute(link, 'formula', this.check(event.formula));\n            const linkLabel = this._renderer.createText(event.formula);\n            this._renderer.appendChild(link, linkLabel);\n            // add listener related on the click event of the new formula\n            const unlisten = this._renderer.listen(\n              link, 'click', (_) => {\n                let obj = {\n                  'formula': this.check(event.formula),\n                  'reference': link\n                };\n                this.formulaClick.emit(obj);\n              }\n            );\n            this._renderer.appendChild(quillEditor, link);\n            this._formulas.push({ unlisten, formula: link });\n          }\n        });\n  }\n\n  check(value: string): string {\n    this.dateFormats.forEach((elem: any) => {\n      if (elem.value == value) {\n        return <string>elem.validator;\n      }\n    });\n    return <string>value;\n  }\n  /**\n   * this function search fomulas inside the init text\n   * and allocate the related listener on click event\n   *\n   * @memberof QuillEditorComponent\n   */\n  setHTML() {\n    this.writeValue(this.initHTML);\n  }\n\n  ngAfterViewInit() {\n    const toolbarElem = this._elementRef.nativeElement.querySelector('[ajf-quill-editor-toolbar]');\n    let modules: any = this.modules || this.defaultModules;\n\n    Quill.register(this.font, true);\n\n    if (toolbarElem) {\n      modules['toolbar'] = toolbarElem;\n      modules['formula'] = true;\n    }\n    this._elementRef.nativeElement.insertAdjacentHTML(\n      'beforeend', '<div quill-editor-element></div>'\n    );\n\n    this.editorElem = this._elementRef.nativeElement.querySelector('[quill-editor-element]');\n\n    this.quillEditor = new Quill(this.editorElem, {\n      modules: modules,\n      placeholder: this.placeholder || 'Insert text here ...',\n      readOnly: this.readOnly || false,\n      theme: this.theme || 'snow',\n      formats: this.formats\n    });\n\n\n    this.editorCreated.emit(this.quillEditor);\n    this.setHTML();\n\n    // mark model as touched if editor lost focus\n    this.quillEditor.on('selection-change', (range: any, oldRange: any, source: string) => {\n      this.selectionChanged.emit({\n        editor: this.quillEditor,\n        range: range,\n        oldRange: oldRange,\n        source: source\n      });\n\n      if (!range) {\n        this.onModelTouched();\n      }\n    });\n\n    // update model if text changes\n    this.quillEditor.on('text-change', (delta: any, oldDelta: any, source: string) => {\n      let html: any = this.editorElem.children[0].innerHTML;\n      const text = this.quillEditor.getText();\n\n      if (html === '<p><br></p>') {\n        html = null;\n      }\n\n      this.onModelChange(html);\n\n      this.contentChanged.emit({\n        editor: this.quillEditor,\n        html: html,\n        text: text,\n        delta: delta,\n        oldDelta: oldDelta,\n        source: source\n      });\n    });\n\n    let elem = this._elementRef.nativeElement.querySelector('.ajf-ql-formula');\n    this.listenFunc = this._renderer.listen(elem, 'click', (_) => {\n      this.formulaClick.emit();\n\n    });\n\n  }\n\n  writeValue(currentValue: any) {\n    this.content = currentValue;\n\n    if (this.quillEditor) {\n      if (currentValue) {\n        if (currentValue == this.initHTML && !this._init) {\n          let editor = this._elementRef.nativeElement.querySelector('.ajf-ql-editor');\n          editor.innerHTML = this.initHTML;\n          let allFormulas = this._elementRef.nativeElement.querySelectorAll('[formula]');\n          allFormulas.forEach((elem: any) => {\n            const unlisten = this._renderer.listen(\n              elem, 'click', (_) => {\n                let obj = {\n                  'formula': this.check(elem.innerText),\n                  'reference': elem\n                };\n                this.formulaClick.emit(obj);\n              }\n            );\n            this._renderer.setStyle(elem, 'cursor', 'pointer');\n            this._formulas.push({ unlisten, formula: elem });\n            this._init = true;\n          });\n        } else if (currentValue != this.initHTML) {\n          this.quillEditor.pasteHTML(currentValue);\n        }\n        return;\n      }\n      this.quillEditor.setText('');\n    }\n  }\n\n  registerOnChange(fn: Function): void {\n    this.onModelChange = fn;\n  }\n\n  registerOnTouched(fn: Function): void {\n    this.onModelTouched = fn;\n  }\n\n  validate(_c: FormControl) {\n    if (!this.quillEditor) {\n      return null;\n    }\n\n    let err: {\n      minLengthError?: { given: number, minLength: number };\n      maxLengthError?: { given: number, maxLength: number };\n    } = {},\n      valid = true;\n\n    const textLength = this.quillEditor.getText().trim().length;\n\n    if (this.minLength) {\n      err.minLengthError = {\n        given: textLength,\n        minLength: this.minLength\n      };\n\n      valid = textLength >= this.minLength || !textLength;\n    }\n\n    if (this.maxLength) {\n      err.maxLengthError = {\n        given: textLength,\n        maxLength: this.maxLength\n      };\n\n      valid = textLength <= this.maxLength && valid;\n    }\n\n    return valid ? null : err;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if (changes['readOnly'] && this.quillEditor) {\n      this.quillEditor.enable(!changes['readOnly'].currentValue);\n    }\n    if (changes['modules'] && this.quillEditor) {\n\n      Quill.register(this.font, true);\n      this.quillEditor = new Quill(this.editorElem, {\n        modules: changes['modules']['currentValue'],\n        placeholder: this.placeholder || 'Insert text here ...',\n        readOnly: this.readOnly || false,\n        theme: this.theme || 'snow',\n        formats: this.formats\n      });\n      this._elementRef.nativeElement.children[0].remove();\n    }\n  }\n  ngOnDestroy() {\n    for (let i = 0; i < this._formulas.length; i++) {\n      let unlisten = this._formulas[i].unlisten;\n      if (unlisten != null) {\n        unlisten();\n      }\n    }\n    this._formulaTextSub.unsubscribe();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfForm} from '@ajf/core/forms';\nimport {AjfCondition} from '@ajf/core/models';\nimport {\n  AjfAggregationType, AjfChartWidget, AjfLayoutWidget, AjfTextWidget, AjfWidget, AjfWidgetType\n} from '@ajf/core/reports';\nimport {deepCopy} from '@ajf/core/utils';\nimport {\n  ChangeDetectionStrategy, Component, EventEmitter, OnChanges, OnDestroy, OnInit, ViewEncapsulation\n} from '@angular/core';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {Observable, Subscription} from 'rxjs';\nimport {distinctUntilChanged, filter, map, startWith, withLatestFrom} from 'rxjs/operators';\n\nimport {AjfReportBuilderFormsAnalyzerDialog} from './forms-analyzer-dialog';\nimport {AjfFormVariables} from './models';\nimport {AjfReportBuilderService} from './report-builder-service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-properties',\n  templateUrl: 'properties.html',\n  styleUrls: ['properties.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderProperties implements OnInit, OnChanges, OnDestroy {\n  /**\n   *  true when the first time chart type is setted\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  initChartType = false;\n\n  /**\n   * the current widget\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  currentWidget: AjfWidget|null = null;\n  get currentLayoutWidget(): AjfLayoutWidget {\n    return this.currentWidget as AjfLayoutWidget;\n  }\n  get currentTextWidget(): AjfTextWidget {\n    return this.currentWidget as AjfTextWidget;\n  }\n\n  /**\n   * this array contains the forms exploited for generate data labels\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  forms: AjfForm[] = [];\n\n\n  colors: string[] = [];\n\n  /**\n   * the name of the section that contains the currentWidget\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  origin: string;\n\n  /**\n   * FAKE DATA\n   */\n\n  formsJson: any = {forms: []};\n\n  /**\n   * WIDGET\n   */\n\n  widgetName = '';\n  getHTML: Observable<string | undefined>;\n  getHeightWidget: Observable<number | undefined>;\n  getFontSizeWidget: Observable<number | undefined>;\n  getFontAlignWidget: Observable<number | undefined>;\n  getBackgroundColorWidget: Observable<string>;\n  getColorWidget: Observable<string>;\n  getStyle: Observable<any>;\n  getChartBackgroundColor: Observable<string[]>;\n  getChartBorderColor: Observable<string[]>;\n  getVisibility: Observable<AjfCondition>;\n  getColor: Observable<String[]>;\n\n  marginExpanded: boolean = false;\n  getMarginWidget: Observable<number[] | undefined>;\n  getMarginWidgetTop: Observable<number>;\n  getMarginWidgetRight: Observable<number>;\n  getMarginWidgetBottom: Observable<number>;\n  getMarginWidgetLeft: Observable<number>;\n\n  paddingExpanded: boolean = false;\n  getPaddingWidget: Observable<number[] | undefined>;\n  getPaddingWidgetTop: Observable<number>;\n  getPaddingWidgetRight: Observable<number>;\n  getPaddingWidgetBottom: Observable<number>;\n  getPaddingWidgetLeft: Observable<number>;\n\n  borderWidthExpanded: boolean = false;\n  getBorderWidthWidget: Observable<number[] | undefined>;\n  getBorderWidthWidgetTop: Observable<number>;\n  getBorderWidthWidgetRight: Observable<number>;\n  getBorderWidthWidgetBottom: Observable<number>;\n  getBorderWidthWidgetLeft: Observable<number>;\n\n  borderRadiusExpanded: boolean = false;\n  getBorderRadiusWidget: Observable<number[] | undefined>;\n  getBorderRadiusWidgetTopLeft: Observable<number>;\n  getBorderRadiusWidgetTopRight: Observable<number>;\n  getBorderRadiusWidgetBottomRight: Observable<number>;\n  getBorderRadiusWidgetBottomLeft: Observable<number>;\n\n  backgroundColor = '#127bdc';\n  styleBackgroundColor = 'rgb(255,255,255,0)';\n  borderColor = '#127bdc';\n  styleColor = 'rgb(0,0,0,0)';\n  wbackgroundColor: string;\n  fontSize: string;\n  bubble: string;\n\n  dialogRef: MatDialogRef<AjfReportBuilderFormsAnalyzerDialog>;\n  container: AjfFormVariables;\n\n\n\n  align = [false, 'center', 'right', 'justify'];\n\n  fonts = [\n    false,\n    'blackr',\n    'black-italic',\n    'bold',\n    'bold-condensed',\n    'bold-condensed-italic',\n    'bold-italic',\n    'condensed',\n    'condensed-italic',\n    'italic',\n    'light',\n    'light-italic',\n    'medium',\n    'medium-italic',\n    'thinr',\n    'thin-italic'\n  ];\n  currentModule: any = {};\n  quillModules = {\n    toolbar: [\n      ['formula'],\n      ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n      // ['blockquote', 'code-block'],\n\n      [{ 'header': 1 }, { 'header': 2 }],               // custom button values\n      [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n      [{ 'script': 'sub' }, { 'script': 'super' }],      // superscript/subscript\n      // [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n      // [{ 'direction': 'rtl' }],                         // text direction\n\n      [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n      [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n\n      [{ 'color': this.colors },\n      { 'background': this.colors }],          // dropdown with defaults from theme\n      [{ 'font': this.fonts }],\n      [{ 'align': this.align }],\n\n      ['clean'],                                         // remove formatting button\n\n      // ['link', 'class', 'video']                         // link and image, video\n    ]\n  };\n\n  /**\n   * CHART\n   */\n\n\n  getChartYLabels: Observable<string[]>;\n\n  chartBorderColor: string[] = [];\n  chartBorderWidth = 3;\n\n  /**\n   *\n   * IMAGE\n   */\n\n  imageUrl = 'https://angular.io/resources/images/logos/angular2/angular.png';\n\n  /**\n   *\n   * TEXT\n   */\n\n  htmlText = '';\n\n\n  /**\n   * these variables indicate that the user want to change section\n   */\n  reportStyles = false;\n  sectionStyles = false;\n  widgetStyles = true;\n  sectionColor = false;\n  widgetColor = false;\n  visibilitySection = false;\n  currentColor = '';\n\n  private _icon: { fontSet: string, fontIcon: string } | null = null;\n  get icon(): { fontSet: string, fontIcon: string } | null { return this._icon; }\n\n  iconSet: any = {\n    'icon': 'true',\n    'title': 'report',\n    'data': null\n  };\n\n  flagSet: any = {\n    'icon': 'false',\n    'class': ['flag-icon'],\n    'prefixClass': 'flag-icon-',\n    'title': 'flags',\n    'data': [\n      {\n        'class': 'dz',\n        'info': 'Algeria'\n      },\n      {\n        'class': 'ao',\n        'info': 'Angola'\n      },\n      {\n        'class': 'bj',\n        'info': 'Benin'\n      },\n      {\n        'class': 'bw',\n        'info': 'Botswana'\n      },\n      {\n        'class': 'bf',\n        'info': 'Burkina Faso'\n      },\n      {\n        'class': 'bi',\n        'info': 'Burundi'\n      },\n      {\n        'class': 'cm',\n        'info': 'Cameroon'\n      },\n      {\n        'class': 'cv',\n        'info': 'Cabo Verde'\n      },\n      {\n        'class': 'cf',\n        'info': 'The Central African Republic'\n      },\n      {\n        'class': 'td',\n        'info': 'Chad'\n      },\n      {\n        'class': 'km',\n        'info': 'The Comoros'\n      },\n      {\n        'class': 'ci',\n        'info': 'Cote D\\'avoire'\n      },\n      {\n        'class': 'cd',\n        'info': 'The Democratic Republic of Congo'\n      },\n      {\n        'class': 'dj',\n        'info': 'Dijibouti'\n      },\n      {\n        'class': 'eg',\n        'info': 'Egypt'\n      },\n      {\n        'class': 'gq',\n        'info': 'Equatorial Guinea'\n      },\n      {\n        'class': 'er',\n        'info': 'Eritrea'\n      },\n      {\n        'class': 'et',\n        'info': 'Ethiopia'\n      },\n      {\n        'class': 'tf',\n        'info': 'French Southern Territories'\n      },\n      {\n        'class': 'ga',\n        'info': 'Gabon'\n      },\n      {\n        'class': 'gm',\n        'info': 'The Gambia'\n      },\n      {\n        'class': 'gh',\n        'info': 'Ghana'\n      },\n      {\n        'class': 'gn',\n        'info': 'Guinea'\n      },\n      {\n        'class': 'gw',\n        'info': 'Guinea-Bissau'\n      },\n      {\n        'class': 'ke',\n        'info': 'Kenya'\n      },\n      {\n        'class': 'ls',\n        'info': 'Leshotho'\n      },\n      {\n        'class': 'lr',\n        'info': 'Liberia'\n      },\n      {\n        'class': 'ly',\n        'info': 'Libya'\n      },\n      {\n        'class': 'mg',\n        'info': 'Madagascar'\n      },\n      {\n        'class': 'mw',\n        'info': 'Malawy'\n      },\n      {\n        'class': 'ml',\n        'info': 'Mali'\n      },\n      {\n        'class': 'mr',\n        'info': 'Mauritania'\n      },\n      {\n        'class': 'mu',\n        'info': 'Mauritius'\n      },\n      {\n        'class': 'yt',\n        'info': 'Mayotte'\n      },\n      {\n        'class': 'ma',\n        'info': 'Marocco'\n      },\n      {\n        'class': 'mz',\n        'info': 'Mozambique'\n      },\n      {\n        'class': 'na',\n        'info': 'Namibia'\n      },\n      {\n        'class': 'ne',\n        'info': 'Niger'\n      },\n      {\n        'class': 'ng',\n        'info': 'Nigeria'\n      },\n      {\n        'class': 'cg',\n        'info': 'Republic of the Congo'\n      },\n      {\n        'class': 'rw',\n        'info': 'Rwnda'\n      },\n      {\n        'class': 're',\n        'info': 'rèunion'\n      },\n      {\n        'class': 'sh',\n        'info': 'Saint Helena, Ascension and Tristan da Cunha'\n      },\n      {\n        'class': 'st',\n        'info': 'Sao Tome and Principe'\n      },\n      {\n        'class': 'sn',\n        'info': 'Senegal'\n      },\n      {\n        'class': 'sc',\n        'info': 'Seychelles'\n      },\n      {\n        'class': 'sl',\n        'info': 'Sierra Leone'\n      },\n      {\n        'class': 'so',\n        'info': 'Somalia'\n      },\n      {\n        'class': 'za',\n        'info': 'South Africa'\n      },\n      {\n        'class': 'ss',\n        'info': 'South Sudan'\n      },\n      {\n        'class': 'sd',\n        'info': 'Sudan'\n      },\n      {\n        'class': 'sz',\n        'info': 'Swaziland'\n      },\n      {\n        'class': 'tz',\n        'info': 'Tanzania'\n      },\n      {\n        'class': 'tg',\n        'info': 'Togo'\n      },\n      {\n        'class': 'tn',\n        'info': 'Tunisia'\n      },\n      {\n        'class': 'ug',\n        'info': 'Uganda'\n      },\n      {\n        'class': 'eh',\n        'info': 'Western Sahara'\n      },\n      {\n        'class': 'zm',\n        'info': 'Zambia'\n      },\n      {\n        'class': 'zw',\n        'info': 'Zimbawe'\n      },\n      {\n        'class': 'iq',\n        'info': 'Iraq'\n      },\n      {\n        'class': 'lb',\n        'info': 'Lebanon'\n      },\n      {\n        'class': 'bd',\n        'info': 'Bangladesh'\n      },\n      {\n        'class': 'ir',\n        'info': 'Iran (Islamic Republic of)'\n      },\n      {\n        'class': 'my',\n        'info': 'Malaysia'\n      },\n      {\n        'class': 'np',\n        'info': 'Nepal'\n      },\n      {\n        'class': 'pk',\n        'info': 'Pakistan'\n      },\n      {\n        'class': 'th',\n        'info': 'Thailand'\n      },\n      {\n        'class': 'jo',\n        'info': 'Jordan'\n      },\n      {\n        'class': 'ye',\n        'info': 'Yemen'\n      }\n    ]\n  };\n\n  private _currentWidgetSub: Subscription = Subscription.EMPTY;\n  private _formsSub: Subscription = Subscription.EMPTY;\n  private _colorSub: Subscription = Subscription.EMPTY;\n  private _headerStyleSub: Subscription = Subscription.EMPTY;\n  private _contentStylesSub: Subscription = Subscription.EMPTY;\n  private _footerStylesSub: Subscription = Subscription.EMPTY;\n  private _originSub: Subscription = Subscription.EMPTY;\n  private _stylesUpdatesSubs: Subscription = Subscription.EMPTY;\n\n  private _updateWidgetMarginEvt: EventEmitter<{ idx: number, value: any }> =\n  new EventEmitter<{ idx: number, value: any }>();\n  private _updateWidgetPaddingEvt: EventEmitter<{ idx: number, value: any }> =\n  new EventEmitter<{ idx: number, value: any }>();\n  private _updateWidgetBorderWidthEvt: EventEmitter<{ idx: number, value: any }> =\n  new EventEmitter<{ idx: number, value: any }>();\n  private _updateWidgetBorderRadiusEvt: EventEmitter<{ idx: number, value: any }> =\n  new EventEmitter<{ idx: number, value: any }>();\n\n  constructor(\n    private _dialog: MatDialog,\n    private _service: AjfReportBuilderService\n  ) {\n    this.setForms();\n\n    this.iconSet.data = Object.keys(_service.iconSets).filter(x => x != 'ajf-icon').map(i => {\n      return { name: i, icons: _service.iconSets[i] };\n    });\n\n    this._headerStyleSub = this._service.headerStyles.subscribe(s => {\n      if (s['background-color'] != null) {\n        this.styleBackgroundColor = s['background-color'];\n      }\n    });\n    this._contentStylesSub = this._service.contentStyles.subscribe(s => {\n      if (s['background-color'] != null) {\n        this.styleBackgroundColor = s['background-color'];\n      }\n    });\n    this._footerStylesSub = this._service.footerStyles.subscribe(s => {\n      if (s['background-color'] != null) {\n        this.styleBackgroundColor = s['background-color'];\n      }\n    });\n    this._originSub = this._service.origin.subscribe(s => {\n      this.origin = s;\n    });\n  }\n\n\n  /**\n   *\n   * UTILS\n   */\n\n\n  /**\n   * return a number value\n   *\n   * @param value\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  toNumber(value: string): number {\n    let numberPattern = /^(-)?\\d+/g;\n\n    if (value == null) {\n      return 0;\n    } else {\n      const matches = value.match(numberPattern);\n      if (matches == null || matches.length == 0) { return 0; }\n      return Number(matches[0]);\n    }\n  }\n\n  toNumberArray(value: string): number[] {\n    if (value == null) {\n      return [];\n    } else {\n      return (value || '').replace('px', '').split(' ')\n        .filter(v => v !== '' && v != null)\n        .map(v => this.toNumber(v));\n    }\n  }\n\n  fillPxNumberArray(value: number[]) {\n    const vl = value.length;\n    switch (vl) {\n      case 0:\n        return [0, 0, 0, 0];\n      case 1:\n        const v = value[0];\n        return [v, v, v, v];\n      case 2:\n        const v21 = value[0];\n        const v22 = value[1];\n        return [v21, v22, v21, v22];\n      case 3:\n        const v31 = value[0];\n        const v32 = value[1];\n        const v33 = value[2];\n        return [v31, v32, v33, v32];\n      default:\n        return value;\n    }\n  }\n\n  percent(value: number) {\n    let temp = this.roundTo(value * 100, 3);\n    return temp;\n  }\n\n  roundTo(value: number, decimalPositions: number) {\n    let i = value * Math.pow(10, decimalPositions);\n\n    i = Math.floor(i);\n\n    return i / Math.pow(10, decimalPositions);\n  }\n  /**\n   * call to service to set the forms\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n\n  setForms(): void {\n    let forms: AjfForm[] = [];\n    try {\n      for (let i = 0; i < this.formsJson.forms.length; i++) {\n        forms.push(deepCopy(this.formsJson.forms[i]));\n      }\n      this._service.setReportForms(forms);\n    } catch (e) { }\n  }\n\n  /**\n   * call to service to set the width of the idx column of layout widget\n   *\n   * @param col\n   * @param idx\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  instantColumnValue(col: number, idx: number) {\n    this._service.instantColumnValue(col, idx);\n  }\n\n  /**\n   *  force copy of style\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  // TODO delete this\n  setStyle() {\n    if (this.currentWidget == null) { return; }\n    this.currentWidget.styles = deepCopy(this.currentWidget.styles);\n    this._service.updateCurrentWidget(this.currentWidget);\n  }\n\n  /**\n   * call to service to add new style to widget\n   *\n   * @param label\n   * @param value\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  setWidgetStyles(label: string, value: any) {\n    this._service.setWidgetStyles(label, value);\n    this.currentColor = value;\n    this.setStyle();\n  }\n\n  setWidgetMargin(idx: number, value: any): void {\n    this._updateWidgetMarginEvt.emit({ idx, value });\n  }\n\n  setWidgetPadding(idx: number, value: any): void {\n    this._updateWidgetPaddingEvt.emit({ idx, value });\n  }\n\n  setWidgetBorderWidth(idx: number, value: any): void {\n    this._updateWidgetBorderWidthEvt.emit({ idx, value });\n  }\n\n  setWidgetBorderRadius(idx: number, value: any): void {\n    this._updateWidgetBorderRadiusEvt.emit({ idx, value });\n  }\n\n  /**\n   * call to service to add new style to section\n   *\n   * @param label\n   * @param value\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  setSectionStyles(label: string, value: any) {\n    this._service.setSectionStyles(this.origin, label, value);\n    this.styleColor = value;\n  }\n\n\n  /**\n   * call to service to add new style to report\n   *\n   * @param label\n   * @param value\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  setReportStyles(label: string, value: any) {\n    this._service.setReportStyles(label, value);\n    this.styleBackgroundColor = value;\n  }\n\n  /**\n   * add custom color\n   *\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  addCustomColor() {\n    this._service.addCustomColor(this.currentColor);\n    this._service.updateCurrentWidget(this.currentWidget);\n  }\n\n  /**\n   * get the module exploit to quill text editor\n   *\n   * @returns\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  getModule() {\n    return this.quillModules;\n  }\n\n  /**\n   * true is the input type value is equal to current widget type\n   *\n   * @param value\n   * @returns\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  isChartTypeSelected(value: number) {\n    if (this.initChartType == false) {\n      return false;\n    }\n    const myObj = <AjfChartWidget>this.currentWidget;\n    if (value === myObj.chartType) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n\n  /* layout functions */\n\n  /**\n   * call to service to add a column to current layout widget\n   *\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  addColumn() {\n    this._service.addColumn();\n  }\n\n  /**\n   * call to service to add a obj to current layout widget\n   *\n   * @param idx\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  fixedColumn(idx: number) {\n    this._service.fixedColumn(idx);\n  }\n\n  /**\n   * call to service to remove obj of current layout widget\n   *\n   * @param idx\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  unfixedColumn(idx: number) {\n    this._service.remove('unfixedColumn', idx);\n  }\n\n  /* image functions */\n\n  /**\n   * call to service to set image url\n   *\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  setImageUrl() {\n    this._service.setImageUrl(this.imageUrl);\n  }\n\n  setIcon(icon: { fontSet: string, fontIcon: string }) {\n    this._icon = icon;\n    this._service.setIcon(icon);\n  }\n\n  /* chart functions */\n\n  /**\n   * call to service to set the type of chart\n   *\n   * @param type\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  setChartType(type: number) {\n    this.initChartType = true;\n    this._service.setChartType(type);\n  }\n\n  setChartBorderColor(value: number) {\n    this._service.setChartBorderWidth(value);\n  }\n\n  tabValue: string = 'backgroundColor';\n  setTab(event: any) {\n    if (event.index === 0) {\n      this.tabValue = 'backgroundColor';\n    } else {\n      this.tabValue = 'borderColor';\n    }\n  }\n\n  /**\n   * call to service to remove background color to current chart\n   *\n   * @param index\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  removeChartBackgroundColor(index: number) {\n    this._service.removeChartBackgroundColor(index);\n  }\n\n  /**\n   * call to service to remove border color to current chart\n   *\n   * @param index\n   *\n   * @memberOf AjfReportBuilderProperties\n   */\n  removeChartBorderColor(index: number) {\n    this._service.removeChartBorderColor(index);\n  }\n\n  hideMenu() {\n    this._service.updateCurrentWidget(null);\n  }\n\n  openFormulaDialog(event: any) {\n    this.dialogRef = this._dialog.open(AjfReportBuilderFormsAnalyzerDialog);\n    this.dialogRef.componentInstance.aggregation = AjfAggregationType.None;\n    this.dialogRef.componentInstance.isFormula = true;\n    if (event != null && event.reference != null) {\n      this.dialogRef.componentInstance.formula = event.formula;\n      this.dialogRef.componentInstance.reference = event.reference;\n    }\n\n  }\n\n  ngOnInit(): void {\n    this._formsSub = this._service.reportForms\n      .subscribe(x => {\n        this.forms = x || [];\n      });\n\n    this._currentWidgetSub = this._service.currentWidget\n      .subscribe(x => {\n        if (x != null) {\n          if (this.currentWidget !== x) {\n            this.currentWidget = x;\n            this.widgetName = AjfWidgetType[x.widgetType];\n            this.reportStyles = false;\n            this.sectionStyles = false;\n            this.widgetStyles = false;\n            this.sectionColor = false;\n            this.widgetColor = false;\n            this.visibilitySection = false;\n          }\n        } else {\n          this.currentWidget = null;\n          this.widgetName = '';\n        }\n      });\n    this._colorSub = this._service.colors\n      .subscribe(x => {\n        if (x && x.length > 0) {\n          this.colors = x;\n\n          this.quillModules = {\n            toolbar: [\n              ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n              // ['blockquote', 'code-block'],\n              [{ 'header': 1 }, { 'header': 2 }],               // custom button values\n              [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n              [{ 'script': 'sub' }, { 'script': 'super' }],      // superscript/subscript\n              // [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n              // [{ 'direction': 'rtl' }],                         // text direction\n\n              [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n              [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n\n              [{ 'color': this.colors },\n              { 'background': this.colors }],          // dropdown with defaults from theme\n              [{ 'font': this.fonts }],\n              [{ 'align': this.align }],\n              ['formula'],\n              ['clean'],                                         // remove formatting button\n\n              // ['link', 'class', 'video']                         // link and image, video\n            ]\n          };\n        }\n      });\n\n\n    this.getHTML = this._service.currentWidget.pipe(\n        map((widget: AjfWidget|null) => {\n          if (widget != null) {\n            const myObj = <AjfTextWidget>this.currentWidget;\n            return myObj.htmlText;\n          }\n          return '';\n        }),\n        distinctUntilChanged(), startWith('<p><br></p>'));\n\n\n    this.getHeightWidget = this._service.currentWidget.pipe(\n        filter(x => x != null), map((myObj: AjfWidget|null) => {\n          if (myObj != null) {\n            let value = this.toNumber(myObj.styles['height']);\n            if (value != null || value != null) {\n              return value;\n            }\n          }\n        }),\n        distinctUntilChanged());\n\n    this.getFontSizeWidget = this._service.currentWidget.pipe(\n        map((myObj: AjfWidget|null) => {\n          if (myObj != null) {\n            return (this.toNumber(myObj.styles['font-size']) || 12);\n          }\n        }),\n        distinctUntilChanged());\n\n    this.getFontAlignWidget = this._service.currentWidget.pipe(\n        map((myObj: AjfWidget|null) => {\n          if (myObj != null) {\n            return ((myObj.styles['text-align']) || 'center');\n          }\n        }),\n        distinctUntilChanged());\n\n    this.getBorderWidthWidget = this._service.currentWidget.pipe(\n        map((myObj: AjfWidget|null) => {\n          if (myObj != null) {\n            return this.fillPxNumberArray(this.toNumberArray(myObj.styles['border-width']));\n          }\n        }),\n        distinctUntilChanged(), startWith([0, 0, 0, 0]));\n    this.getBorderWidthWidgetTop = this.getBorderWidthWidget.pipe(\n      filter(m => m != null),\n      map(m => m![0])\n    );\n    this.getBorderWidthWidgetRight = this.getBorderWidthWidget.pipe(\n      filter(m => m != null),\n      map(m => m![1])\n    );\n    this.getBorderWidthWidgetBottom = this.getBorderWidthWidget.pipe(\n      filter(m => m != null),\n      map(m => m![2])\n    );\n    this.getBorderWidthWidgetLeft = this.getBorderWidthWidget.pipe(\n      filter(m => m != null),\n      map(m => m![3])\n    );\n\n    this.getBorderRadiusWidget = this._service.currentWidget.pipe(\n        map((myObj: AjfWidget|null) => {\n          if (myObj != null) {\n            return this.fillPxNumberArray(this.toNumberArray(myObj.styles['border-radius']));\n          }\n        }),\n        distinctUntilChanged(), startWith([0, 0, 0, 0]));\n    this.getBorderRadiusWidgetTopLeft = this.getBorderRadiusWidget.pipe(\n      filter(m => m != null),\n      map(m => m![0])\n    );\n    this.getBorderRadiusWidgetTopRight = this.getBorderRadiusWidget.pipe(\n      filter(m => m != null),\n      map(m => m![1])\n    );\n    this.getBorderRadiusWidgetBottomRight = this.getBorderRadiusWidget.pipe(\n      filter(m => m != null),\n      map(m => m![2])\n    );\n    this.getBorderRadiusWidgetBottomLeft = this.getBorderRadiusWidget.pipe(\n      filter(m => m != null),\n      map(m => m![3])\n    );\n\n    this.getMarginWidget = this._service.currentWidget.pipe(\n        map((myObj: AjfWidget|null) => {\n          if (myObj != null && myObj.styles != null && myObj.styles['margin'] != null) {\n            return this.fillPxNumberArray(this.toNumberArray(myObj.styles['margin']));\n          }\n        }),\n        distinctUntilChanged(), startWith([0, 0, 0, 0]));\n    this.getMarginWidgetTop = this.getMarginWidget.pipe(\n      filter(m => m != null),\n      map(m => m![0])\n    );\n    this.getMarginWidgetRight = this.getMarginWidget.pipe(\n      filter(m => m != null),\n      map(m => m![1])\n    );\n    this.getMarginWidgetBottom = this.getMarginWidget.pipe(\n      filter(m => m != null),\n      map(m => m![2])\n    );\n    this.getMarginWidgetLeft = this.getMarginWidget.pipe(\n      filter(m => m != null),\n      map(m => m![3])\n    );\n\n    this.getPaddingWidget = this._service.currentWidget.pipe(\n        map((myObj: AjfWidget|null) => {\n          if (myObj != null && myObj.styles != null && myObj.styles['padding'] != null) {\n            return this.fillPxNumberArray(this.toNumberArray(myObj.styles['padding']));\n          }\n        }),\n        distinctUntilChanged());\n    this.getPaddingWidgetTop = this.getPaddingWidget.pipe(\n      filter(m => m != null),\n      map(m => m![0])\n    );\n    this.getPaddingWidgetRight = this.getPaddingWidget.pipe(\n      filter(m => m != null),\n      map(m => m![1])\n    );\n    this.getPaddingWidgetBottom = this.getPaddingWidget.pipe(\n      filter(m => m != null),\n      map(m => m![2])\n    );\n    this.getPaddingWidgetLeft = this.getPaddingWidget.pipe(\n      filter(m => m != null),\n      map(m => m![3])\n    );\n\n    this.getBackgroundColorWidget = this._service.currentWidget.pipe(\n        map((myObj: AjfWidget|null) => {\n          if (myObj != null && myObj.styles != null) {\n            return myObj.styles['backgroundColor'] || '';\n          }\n        }),\n        distinctUntilChanged());\n\n    this.getColorWidget = this._service.currentWidget.pipe(\n        map((myObj: AjfWidget|null) => {\n          if (myObj != null && myObj.styles != null) {\n            return myObj.styles['color'] || '';\n          }\n        }),\n        distinctUntilChanged());\n\n    this._stylesUpdatesSubs = (<Observable<{idx: any; value: any}>>this._updateWidgetMarginEvt)\n      .pipe(withLatestFrom(this.getMarginWidget))\n      .subscribe((r: [{ idx: number, value: any }, number[] | undefined]) => {\n        if (r == null) { return; }\n        const idx = r[0].idx;\n        const value = r[0].value;\n        const v = r[1] || [0, 0, 0, 0];\n        if (v == null || v.length < idx) { return; }\n        v[idx] = value;\n        this.setWidgetStyles('margin', v);\n      });\n\n    this._stylesUpdatesSubs.add((<Observable<{idx: any; value: any}>>this._updateWidgetPaddingEvt)\n      .pipe(withLatestFrom(this.getPaddingWidget))\n      .subscribe((r: [{ idx: number, value: any }, number[] | undefined]) => {\n        if (r == null) { return; }\n        const idx = r[0].idx;\n        const value = r[0].value;\n        const v = r[1] || [0, 0, 0, 0];\n        if (v == null || v.length < idx) { return; }\n        v[idx] = value;\n        this.setWidgetStyles('padding', v);\n      }));\n\n    this._stylesUpdatesSubs\n      .add((<Observable<{idx: any; value: any}>>this._updateWidgetBorderWidthEvt)\n        .pipe(withLatestFrom(this.getBorderWidthWidget))\n        .subscribe((r: [{ idx: number, value: any }, number[] | undefined]) => {\n          if (r == null) { return; }\n          const idx = r[0].idx;\n          const value = r[0].value;\n          const v = r[1] || [0, 0, 0, 0];\n          if (v == null || v.length < idx) { return; }\n          v[idx] = value;\n          this.setWidgetStyles('border-width', v);\n        })\n      );\n\n    this._stylesUpdatesSubs.add(\n      (<Observable<{idx: any; value: any}>>this._updateWidgetBorderRadiusEvt)\n        .pipe(withLatestFrom(this.getBorderRadiusWidget))\n        .subscribe((r: [{ idx: number, value: any }, number[] | undefined]) => {\n          if (r == null) { return; }\n          const idx = r[0].idx;\n          const value = r[0].value;\n          const v = r[1] || [0, 0, 0, 0];\n          if (v == null || v.length < idx) { return; }\n          v[idx] = value;\n          this.setWidgetStyles('border-radius', v);\n        })\n      );\n  }\n\n  ngOnChanges(changes: any) {\n    this.currentWidget = changes.widget.currentValue;\n    if (this.currentWidget == null) { return; }\n    this.widgetName = AjfWidgetType[this.currentWidget.widgetType];\n  }\n\n  ngOnDestroy(): void {\n    this._currentWidgetSub.unsubscribe();\n    this._formsSub.unsubscribe();\n    this._colorSub.unsubscribe();\n    this._headerStyleSub.unsubscribe();\n    this._contentStylesSub.unsubscribe();\n    this._footerStylesSub.unsubscribe();\n    this._originSub.unsubscribe();\n    this._stylesUpdatesSubs.unsubscribe();\n  }\n\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  ChangeDetectionStrategy, Component, Input, Output, EventEmitter, ViewEncapsulation\n} from '@angular/core';\n\nimport {AjfReportBuilderService} from './report-builder-service';\n\n/**\n * this component handle a group of image object\n * there are 2 types of view\n *  ajf-icon and class\n *\n * take a json in input\n *  'icon': 'false', // if true ajf-icon activated\n *  'class': ['flag-icon'], // add class in object style\n *  'prefixClass': 'flag-icon-', // prefix of class contained on data set\n *  'title': 'flags', title of data set\n *  'data': [\n *    {\n *      'class': 'dz', strind added on prefix\n *      'info': 'Algeria' info related to object (exploit on toolTip)\n *    }\n *  ]\n * };\n *\n * @export\n */\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-image-group',\n  templateUrl: 'image-group.html',\n  styleUrls: ['image-group.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderImageGroup  {\n\n  private _icon: {fontSet: string, fontIcon: string} | null = null;\n  private _classes: string = '';\n\n  get icon(): {fontSet: string, fontIcon: string} | null { return this._icon; }\n  get classes(): string { return this._classes; }\n\n  open: boolean = false;\n  valueToSearch: string = '';\n\n  @Input()\n  data: any;\n\n  /**\n   * this event is fired when the user click on formula button on quill editor rool barƒ\n   *\n   * @memberof QuillEditorComponent\n   */\n  @Output() formulaClick: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(private _service: AjfReportBuilderService) { }\n\n\n  setIcon(fontSet: string, fontIcon: string) {\n    this._icon = {fontSet, fontIcon};\n    this._service.setIcon(this._icon);\n  }\n\n  setFlag(value: string) {\n    this._classes = value;\n    this._service.setFlag(value);\n  }\n\n  setSearch(value: any) {\n    this.valueToSearch = value.currentTarget.value;\n  }\n\n  emitFormula() {\n    this.formulaClick.emit();\n  }\n\n  getFlag(value: string) {\n    let returnValue = '';\n\n    for (let i = 0; i < this.data.class.length; i++) {\n      returnValue += this.data.class[i] + ' ';\n    }\n\n    returnValue += this.data.prefixClass + value;\n    return returnValue;\n  }\n\n  toggle() {\n    this.open = !this.open;\n  }\n\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Injectable, Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'ajfImageFilter'\n})\n@Injectable()\nexport class AjfImageFilterPipe implements PipeTransform {\n  transform(items: any[], args: any): any {\n    return items.filter(item =>\n      (args.length === 0) || item.info.toLowerCase().includes(args.toLowerCase()));\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfForm} from '@ajf/core/forms';\nimport {\n  AjfAggregationType, AjfChartType, AjfChartWidget, AjfDataset, AjfDataWidget, AjfWidget,\n  AjfWidgetType\n} from '@ajf/core/reports';\nimport {ChangeDetectionStrategy, Component, OnDestroy, ViewEncapsulation} from '@angular/core';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {Subscription} from 'rxjs';\n\nimport {AjfReportBuilderFormsAnalyzerDialog} from './forms-analyzer-dialog';\nimport {AjfFormVariables} from './models';\nimport {AjfReportBuilderService} from './report-builder-service';\n\n/**\n * this component provides the support for connect the form fields with the report\n *\n * @export\n */\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-forms-analyzer',\n  templateUrl: 'forms-analyzer.html',\n  styleUrls: ['forms-analyzer.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderFormsAnalyzer implements OnDestroy {\n  currentWidget: AjfWidget|null = null;\n\n  forms: AjfForm[] = [];\n\n  formsVariables: AjfFormVariables[];\n  choicesOrigins: any = {};\n\n  dialogRef: MatDialogRef<AjfReportBuilderFormsAnalyzerDialog>;\n\n  currentMainDataIndex: number = -1;\n  private _dataset: AjfDataset[][] = [];\n  private _currentWidgetSub: Subscription = Subscription.EMPTY;\n  private _formAnalyzerSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n    private _service: AjfReportBuilderService,\n    public dialog: MatDialog\n  ) {\n    this._currentWidgetSub = this._service.currentWidget\n      .subscribe(x => {\n        if (x != null) {\n          this.currentWidget = x;\n          // this._dataset = myObj.dataset;\n        } else {\n          this.currentWidget = null;\n        }\n      });\n\n\n    this._formAnalyzerSub = this._service.formsVariables\n      .subscribe((x) => {\n        if (x != null) {\n          this.formsVariables = x;\n        }\n      });\n\n\n  }\n\n  setCurrentIndex(index: number) {\n    this.currentMainDataIndex = index;\n  }\n\n  isSelected(index: number): string {\n    if (index === this.currentMainDataIndex) {\n      return 'primary';\n    } else {\n      return '';\n    }\n  }\n\n  /**\n   *  get the X components label of the chart.\n   *  they are contained in the first row of dataset\n   *\n   *\n   * @memberof AjfReportBuilderFormsAnalyzer\n   */\n  getMainData(): string[] {\n    if (this._dataset[0] != null) {\n      let mainData: string[] = [];\n\n      for (let i = 0; i < this._dataset[0].length; i++) {\n        mainData.push(this._dataset[0][i].label || '');\n      }\n      return mainData;\n    } else {\n      return [];\n    }\n  }\n\n  /**\n   *  get the Y components label of the chart.\n   *  they are contained in the first column of dataset\n   *\n   *\n   * @memberof AjfReportBuilderFormsAnalyzer\n   */\n  getDataset(): string[] {\n    let dataset: string[] = [];\n    if (this._dataset[0] != null) {\n      for (let i = 1; i < this._dataset.length; i++) {\n        dataset.push(this._dataset[i][0].label || '');\n      }\n      return dataset;\n    } else {\n      return [];\n    }\n  }\n\n  /**\n   * get the related data label of the chart.\n   * they are contained in the row of the Y component\n   *\n   *\n   * @memberof AjfReportBuilderFormsAnalyzer\n   */\n  getRelatedData(): string[] {\n    if (this._dataset[this.currentMainDataIndex + 1] != null) {\n      let relatedData: string[] = [];\n\n      for (let i = 1; i < this._dataset[this.currentMainDataIndex + 1].length; i++) {\n        relatedData.push(this._dataset[this.currentMainDataIndex + 1][i].label || '');\n      }\n      return relatedData;\n    } else {\n      return [];\n    }\n  }\n\n  getTableHeader(): string[] {\n    let mainData: string[] = [];\n    if (this._dataset != null) {\n      for (let i = 0; i < this._dataset.length; i++) {\n        if (this._dataset[i][0] != null) {\n          mainData.push(this._dataset[i][0].label || '');\n        }\n      }\n    }\n    return mainData;\n  }\n\n  getTableData(): string[] {\n    if (this._dataset[this.currentMainDataIndex] != null) {\n      let tableData: string[] = [];\n\n      for (let i = 1; i < this._dataset[this.currentMainDataIndex].length; i++) {\n        if (this._dataset[this.currentMainDataIndex][i] != null) {\n          tableData.push(this._dataset[this.currentMainDataIndex][i].label || '');\n        }\n      }\n      return tableData;\n    } else {\n      return [];\n    }\n  }\n\n  needMainData(): boolean {\n    let myObj = <AjfChartWidget>this.currentWidget;\n    if (\n      myObj.chartType === AjfChartType.Scatter ||\n      myObj.chartType === AjfChartType.Bubble\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  removeMainData(index: number) {\n    this._service.removeMainData(index);\n  }\n\n  removeDataset(index: number) {\n    this.currentMainDataIndex = index;\n    this._service.removeRelatedData(this.currentMainDataIndex, -1);\n  }\n  removeTableMainData(index: number) {\n    this._service.removeTableMainData(index);\n  }\n\n  removeRelatedData(index: number) {\n    this._service.removeRelatedData(this.currentMainDataIndex, index);\n  }\n\n  removeData(mainIndex: number, index: number) {\n    this._service.removeData(mainIndex, index);\n  }\n\n  /**\n   *\n   *\n   *\n   * @param index\n   * @param editMode\n   *\n   * @memberof AjfReportBuilderFormsAnalyzer\n   */\n  openDialog(level: number, mainIndex: number, index: number, editMode: boolean) {\n\n    this.dialogRef = this.dialog.open(AjfReportBuilderFormsAnalyzerDialog);\n\n    if (editMode) {\n      if (level === 1 && index === -1) {\n        index = 0;\n      }\n      if (level === 1) {\n        if (this.currentWidget != null && this.currentWidget.widgetType == AjfWidgetType.Chart) {\n          mainIndex++;\n        }\n        index++;\n      }\n\n      this.dialogRef.componentInstance.labelText =\n        this._dataset[mainIndex] &&\n        this._dataset[mainIndex][index].label || '';\n      /* this.dialogRef.componentInstance.formula =\n        this._dataset[mainIndex] &&\n        this._dataset[mainIndex][index].formula.formula || ''; */\n      this.dialogRef.componentInstance.aggregation =\n        this._dataset[mainIndex] &&\n        this._dataset[mainIndex][index].aggregation.aggregation || AjfAggregationType.None;\n    } else {\n      this.dialogRef.componentInstance.labelText = '';\n      this.dialogRef.componentInstance.formula = '';\n      this.dialogRef.componentInstance.aggregation = 0;\n    }\n\n    // this.dialogRef.componentInstance.formsVariables = this.formsVariables;\n    this.dialogRef.componentInstance.currentWidget = <AjfDataWidget>this.currentWidget;\n    this.dialogRef.componentInstance.level = level;\n    this.dialogRef.componentInstance.mainIndex = mainIndex;\n    this.dialogRef.componentInstance.index = index;\n    this.dialogRef.componentInstance.init = false;\n  }\n\n  openDialogAddMainData() {\n    this.openDialog(0, -1, -1, false);\n  }\n\n  openDialogChartEditMainData() {\n    this.openDialog(0, 0, this.currentMainDataIndex, true);\n  }\n\n  openDialogTableEditMainData() {\n    this.openDialog(0, this.currentMainDataIndex, 0, true);\n  }\n\n  openDialogChartAddDataset() {\n    this.openDialog(1, -1, -1, false);\n  }\n  openDialogTableAddDataset() {\n    this.openDialog(1, this.currentMainDataIndex, -1, false);\n  }\n  openDialogChartAddDataOfDataset() {\n    this.openDialog(1, this.currentMainDataIndex, -1, false);\n  }\n  openDialogChartEditDataset() {\n    this.openDialog(1, this.currentMainDataIndex, -1, true);\n  }\n  openDialogTableEditDataset(index: number) {\n    this.openDialog(1, this.currentMainDataIndex, index, true);\n  }\n  openDialogChartEditDataOfDataset(index: number) {\n    this.openDialog(1, this.currentMainDataIndex, index, true);\n  }\n\n  ngOnDestroy(): void {\n    this._currentWidgetSub.unsubscribe();\n    this._formAnalyzerSub.unsubscribe();\n  }\n\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfFieldType, AjfValidationService} from '@ajf/core/forms';\nimport {AjfImageType} from '@ajf/core/image';\nimport {AjfExpressionUtils, createFormula, validateExpression} from '@ajf/core/models';\nimport {\n  AjfAggregationType, AjfDataset, AjfDataWidget, AjfImageWidget, AjfWidget\n} from '@ajf/core/reports';\nimport {sizedEnumToStringArray} from '@ajf/core/utils';\nimport {AjfMonacoEditor} from '@ajf/material/monaco-editor';\nimport {\n  AfterViewChecked, ChangeDetectionStrategy, Component, Input, OnDestroy, OnInit, ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\nimport {Subscription} from 'rxjs';\n\nimport {AjfFormVariables} from './models';\nimport {AjfReportBuilderService} from './report-builder-service';\n\nexport enum AjfDataType {\n  MainData,\n  Dataset,\n  RelatedData,\n  LENGTH\n}\ndeclare var monaco: any;\n\n@Component({\n  moduleId: module.id,\n  selector: 'forms-analyzer-dialog',\n  templateUrl: 'forms-analyzer-dialog.html',\n  styleUrls: ['forms-analyzer-dialog.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderFormsAnalyzerDialog implements OnInit, AfterViewChecked, OnDestroy {\n\n  aggregationTypes: string[] = sizedEnumToStringArray(AjfAggregationType);\n\n  //  operators is an array of any type that contains all allow operators\n  operators: string[] = [\n    'true', 'false', '( )', '\\' \\'',\n    '<', '<=', '>=', '>', '!=', '!',\n    '&&', '||',\n    '+', '-', '*', '/', '%', '=='\n  ];\n\n  formulaText: string = '';\n  formulaDate: string = '';\n  safeFormulaText: string = '';\n  label: string = '';\n  condition: string = '';\n  aggregationType: AjfAggregationType = AjfAggregationType.Sum;\n  dataset: AjfDataset;\n  currentId: number = 0;\n  currentIndex: number = 0;\n  labels: string[] = [];\n  currentWidget: AjfWidget|null = null;\n  formsVariables: AjfFormVariables[];\n  formsVariablesName: string[] = [];\n  formsVariablesType: string[] = [];\n  isValid: boolean;\n\n  @Input()\n  formula: string;\n\n  @Input()\n  isFormula: boolean;\n\n  @Input()\n  labelText: string;\n\n  @Input()\n  aggregation: number;\n\n  @Input()\n  init: boolean;\n\n  @Input()\n  level: number;\n\n  @Input()\n  index: number;\n\n  @Input()\n  mainIndex: number;\n\n  @Input()\n  reference: any;\n\n  @ViewChild('formulaTextArea', {static: true}) formulaTextArea: any;\n  @ViewChild('errorMessage', {static: true}) errorMessage: any;\n  @ViewChild(AjfMonacoEditor, {static: false}) monacoEditor: AjfMonacoEditor;\n\n  private _formAnalyzerSub: Subscription = Subscription.EMPTY;\n  private _currentWidgetSub: Subscription = Subscription.EMPTY;\n  private _first: boolean = true;\n\n  constructor(\n    private _service: AjfReportBuilderService,\n    private _dialogRef: MatDialogRef<AjfReportBuilderFormsAnalyzerDialog>,\n    _: AjfValidationService\n  ) {\n    if (this.init == false) {\n      this.formulaText = '';\n      this.aggregationType = AjfAggregationType.Sum;\n    }\n    this._currentWidgetSub = this._service.currentWidget\n      .subscribe(x => {\n        if (x != null) {\n          this.currentWidget = <AjfDataWidget>x;\n\n          if (this.currentWidget.widgetType == 2) {\n            let myObj: AjfImageWidget = <AjfImageWidget>this.currentWidget;\n            if (myObj.imageType == AjfImageType.Flag) {\n              this.formula = (myObj.flag) ? myObj.flag.formula : '';\n            } else {\n              this.formula = (myObj.icon) ? myObj.icon.formula : '';\n            }\n          }\n\n        }\n      });\n\n    this._formAnalyzerSub = this._service.formsVariables\n      .subscribe((x) => {\n        if (x != null) {\n          this.formsVariables = x;\n        }\n      });\n  }\n\n  onEditorInit(): void {\n    monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions({\n      noSemanticValidation: false,\n      noSyntaxValidation: false\n    });\n\n    monaco.languages.typescript.javascriptDefaults.setCompilerOptions({\n      target: monaco.languages.typescript.ScriptTarget.ES2015,\n      allowNonTsExtensions: true,\n      allowJs: true,\n      module: monaco.languages.typescript.ModuleKind.None\n    });\n\n    try {\n      monaco.languages.typescript.javascriptDefaults.addExtraLib(\n        '', 'condition-editor-variables.d.ts'\n      );\n    } catch (e) {\n      monaco.languages.typescript.javascriptDefaults\n        ._extraLibs['condition-editor-variables.d.ts'] = '';\n    }\n    try {\n      monaco.languages.typescript.javascriptDefaults.addExtraLib(\n        '', 'condition-editor-functions.d.ts'\n      );\n    } catch (e) {\n      monaco.languages.typescript.javascriptDefaults\n        ._extraLibs['condition-editor-functions.d.ts'] = '';\n    }\n\n    this._initFormsVariablesNames();\n    this._updateVariables();\n    this._updateFunctions();\n  }\n\n\n  private _initFormsVariablesNames(): void {\n    this.formsVariables.forEach((formVar) => {\n      formVar.names.forEach((name) => {\n        this.formsVariablesName.push(name);\n      });\n      formVar.types.forEach((type) => {\n        this.formsVariablesType.push(this._fieldVarType(type) || '');\n      });\n    });\n  }\n\n\n  private _updateVariables(): void {\n    if (this.formsVariables == null) { return; }\n    try {\n      let value: string = '';\n\n      for (let i = 0; i < this.formsVariablesName.length; i++) {\n        value += `declare const ${this.formsVariablesName[i]}: ${this.formsVariablesType[i]};`;\n      }\n\n      value += `\\n`;\n      monaco.languages.typescript.javascriptDefaults\n        ._extraLibs['condition-editor-variables.d.ts'] = value;\n    } catch (e) { }\n  }\n\n  private _updateFunctions(): void {\n    try {\n      monaco.languages.typescript.javascriptDefaults._extraLibs['condition-editor-functions.d.ts'] =\n          AjfExpressionUtils.UTIL_FUNCTIONS;\n    } catch (e) { }\n  }\n\n  private _fieldVarType(fieldType: AjfFieldType): string | null {\n    switch (fieldType) {\n      case AjfFieldType.Boolean:\n        return 'boolean';\n      case AjfFieldType.Date:\n      case AjfFieldType.DateInput:\n      case AjfFieldType.Time:\n        return 'Date';\n      case AjfFieldType.Empty:\n        return 'void';\n      case AjfFieldType.Formula:\n        return 'number';\n      case AjfFieldType.MultipleChoice:\n      case AjfFieldType.SingleChoice:\n        return 'any';\n      case AjfFieldType.Number:\n        return 'number';\n      case AjfFieldType.Table:\n        return 'Array';\n      case AjfFieldType.String:\n      case AjfFieldType.Text:\n        return 'string';\n    }\n    return null;\n  }\n\n  setCurrent(id: number, label: string, index: number) {\n    if (!this.init) {\n      this.label = label;\n      this.init = true;\n    }\n    this.insertVariable(this.formsVariables[id].names[index] || '');\n  }\n\n  setCurrentId(id: number) {\n    this.currentId = id;\n    this.labels = this.formsVariables[id].labels;\n    this._updateVariables();\n  }\n\n  setAggregationType(type: AjfAggregationType) {\n    this.aggregationType = type;\n  }\n\n  checkValidation() {\n    if (this.validateFormula()) {\n      this.safeFormulaText = this.formulaText;\n      this.isValid = true;\n    } else {\n      this.isValid = false;\n    }\n    if (this.formulaText == '') {\n      this.isValid = false;\n    }\n  }\n\n  validateFormula(): boolean {\n    if (this.formulaText == '') {\n      this.init = false;\n    }\n    if (this.formsVariables == null) {\n      return false;\n    } else {\n      return validateExpression(this.formulaText, this.formsVariablesName);\n    }\n  }\n\n  saveDataset() {\n    if (this.currentWidget != null) {\n      switch (this.currentWidget.widgetType) {\n        case 2:\n          this.saveImageFormula();\n          break;\n        case 3:\n          this.saveFormulaHtml();\n          break;\n        case 4:\n          this.saveChartFormula();\n          break;\n        case 5:\n          this.saveTableFormula();\n          break;\n      }\n    }\n    this.close();\n  }\n\n  saveImageFormula() {\n    this._service.saveImageFormula(createFormula({formula: this.formulaText}));\n  }\n\n  saveFormulaHtml() {\n    this._service.saveFormulaToHtml(this.formulaText, this.reference);\n  }\n\n  saveChartFormula(): void {\n    this._service.saveChartFormula(\n      this.label,\n      this.level,\n      this.mainIndex,\n      this.index,\n      this.formulaText,\n      this.aggregationType);\n  }\n\n  saveTableFormula(): void {\n    this._service.saveTableFormula(\n      this.label,\n      this.aggregationType,\n      this.formulaText,\n      this.mainIndex,\n      this.index);\n  }\n\n  hideErrorMessage(): void {\n    if (this.errorMessage == null) {\n      return;\n    }\n  }\n\n  insertVariable(variable: string): void {\n    if (this.monacoEditor != null && this.monacoEditor.editor != null) {\n      const editor = this.monacoEditor.editor;\n      let value: string[] = editor.getValue().split('\\n');\n      let position: { column: number, lineNumber: number } = editor.getPosition();\n      const ln = position.lineNumber - 1;\n      let line = value[ln];\n      let col = position.column - 1;\n      line = line.substring(0, col) + variable + line.substring(col);\n      value[ln] = line;\n      position.column += variable.length;\n      this.monacoEditor.value = value.join('\\n');\n      editor.setPosition(position);\n      editor.focus();\n      this.formulaText = editor.getValue();\n      this.checkValidation();\n    }\n  }\n\n  setVariable(variable: string): void {\n    if (this.monacoEditor != null && this.monacoEditor.editor != null) {\n      const editor = this.monacoEditor.editor;\n      editor.setValue(variable);\n    }\n  }\n\n  reset() {\n    this.formulaText = '';\n    this.aggregationType = AjfAggregationType.None;\n  }\n\n  close() {\n    this.reset();\n    this._dialogRef.close();\n  }\n\n  ngOnInit() {\n    this.formulaText = this.formula;\n    this.aggregationType = this.aggregation;\n    this.label = this.labelText;\n\n    if (this.formulaText == '' || this.formulaText == null) {\n      this.isValid = false;\n    } else {\n      this.isValid = true;\n    }\n\n  }\n\n  ngAfterViewChecked() {\n    if (this._first && this.monacoEditor != null && this.monacoEditor.editor != null) {\n      this.insertVariable(this.formulaText || '');\n      this._first = false;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._formAnalyzerSub.unsubscribe();\n    this._currentWidgetSub.unsubscribe();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  ChangeDetectionStrategy, Component, OnDestroy, OnInit, ViewEncapsulation\n} from '@angular/core';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\n\nimport {Subscription, timer} from 'rxjs';\n\nimport {AjfReportBuilderCustomWidgetDialog} from './custom-widget-dialog';\nimport {AjfReportBuilderService} from './report-builder-service';\n\nexport interface AjfStyles {\n  [style: string]: any;\n}\n\nexport interface CustomWidget {\n  json: string;\n  type: string;\n}\n\nexport interface CustomWidgets {\n  widgets: CustomWidget[];\n}\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-custom-widgets-toolbar',\n  styleUrls: ['custom-widgets-toolbar.css'],\n  templateUrl: 'custom-widgets-toolbar.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n/**\n * This class will define an ajf builder toolbar\n * @implements : OnDestroy\n */\nexport class AjfReportBuilderCustomWidgetsToolbar implements OnDestroy, OnInit {\n  customWidgets: CustomWidget[] = [];\n\n  private _customWidgetsSub: Subscription = Subscription.EMPTY;\n\n  private _dialogRef: MatDialogRef<AjfReportBuilderCustomWidgetDialog>;\n\n  private _threeColumnsLayout: string =\n  '{\"widgetType\":0,' +\n  '\"content\":[],\"styles\":{},\"visibility\":{\"condition\":\"true\"},\"columns\":[0.34,0.33,0.33],' +\n  '\"content\":' +\n  '[{\"widgetType\":7,\"content\":[],\"styles\":{},\"visibility\":{\"condition\":\"true\"},\"content\":[]},' +\n  '{\"widgetType\":7,\"content\":[],\"styles\":{},\"visibility\":{\"condition\":\"true\"},\"content\":[]},' +\n  '{\"widgetType\":7,\"content\":[],\"styles\":{},\"visibility\":{\"condition\":\"true\"},\"content\":[]}]}';\n  private _fourColumnsLayout: string =\n  '{\"widgetType\":0,\"content\":[],\"styles\":{},\"visibility\":{\"condition\":\"true\"},' +\n  '\"columns\":[0.25,0.25,0.25,0.25],\"content\":' +\n  '[{\"widgetType\":7,\"content\":[],\"styles\":{},\"visibility\":{\"condition\":\"true\"},\"content\":[]},' +\n  '{\"widgetType\":7,\"content\":[],\"styles\":{},\"visibility\":{\"condition\":\"true\"},\"content\":[]},' +\n  '{\"widgetType\":7,\"content\":[],\"styles\":{},\"visibility\":{\"condition\":\"true\"},\"content\":[]},' +\n  '{\"widgetType\":7,\"content\":[],\"styles\":{},\"visibility\":{\"condition\":\"true\"},\"content\":[]}]}';\n\n  constructor(\n    private _service: AjfReportBuilderService,\n    public dialog: MatDialog) {\n  }\n\n  openDialog(idx: number) {\n    this._dialogRef = this.dialog.open(AjfReportBuilderCustomWidgetDialog);\n    this._dialogRef.componentInstance.label = this.customWidgets[idx].type;\n    this._dialogRef.componentInstance.position = idx;\n  }\n\n\n  /**\n   *  sign the start of mouse drag with 200 ms of delay\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragStartHandler(): void {\n    let s = timer(200)\n      .subscribe(() => {\n        if (s != null) { s.unsubscribe(); }\n        this._service.dragStarted();\n      });\n  }\n\n  /**\n   * sign the end of mouse drag\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragEndHandler(): void {\n    this._service.dragEnded();\n  }\n\n  /**\n   *  sign the enter of mouse drag\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragEnterHandler(array: string, index: number): void {\n    this._service.dragEnter(array, index);\n  }\n\n  /**\n   * sign the leave of mouse drag\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragLeaveHandler(): void {\n    this._service.dragLeave();\n  }\n  ngOnInit(): void {\n    this._customWidgetsSub = this._service.customWidgets\n      .subscribe(x => {\n        this.customWidgets = x;\n        if (\n          this.customWidgets.length > 0 &&\n          this.customWidgets[this.customWidgets.length - 1].type == ''\n        ) {\n          this.openDialog(this.customWidgets.length - 1);\n        }\n      });\n    this._service.addCustomWidgets({\n      json: this._threeColumnsLayout,\n      type: 'LayoutWidgetWith3Columns',\n    });\n    this._service.addCustomWidgets({\n      json: this._fourColumnsLayout,\n      type: 'LayoutWidgetWith4Columns'\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._customWidgetsSub.unsubscribe();\n    this._service.resetCustomWidgets();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, OnInit, ViewEncapsulation} from '@angular/core';\n\nimport {AjfReportBuilderService} from './report-builder-service';\nimport {ajfWidgetTypeStringToIcon, ajfWidgetTypeStringToLabel} from './utils';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-custom-widget-toolbar-button',\n  inputs: ['widgetType', 'position'],\n  templateUrl: 'custom-widget-toolbar-button.html',\n  styleUrls: ['custom-widget-toolbar-button.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n/**\n * This class will define an ajf builder field toolbar button\n * @implements : OnInit\n */\nexport class AjfReportBuilderCustomWidgetToolbarButton implements OnInit {\n  widgetType: string;\n  widgetIcon: string;\n  widgetLabel: string;\n  position: number;\n  customWidgets: any[] = [];\n\n  // {...t, dropZones: ['header','content','footer','column','widget']}\n\n  /**\n   * this constructor will init icon registry\n   */\n  constructor(\n    private _service: AjfReportBuilderService\n  ) {\n  }\n\n  /**\n   * this method call a service method for remove custom widget\n   *\n   * @memberOf AjfReportBuilderCustomWidgetToolbarButton\n   */\n  remove() {\n    this._service.remove('customWidgets', this.position);\n  }\n  /**\n   * this method will init  fieldIcon and fieldLabel\n   */\n  ngOnInit(): void {\n    this.widgetIcon = ajfWidgetTypeStringToIcon(this.widgetType);\n    this.widgetLabel = ajfWidgetTypeStringToLabel(this.widgetType);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, Input, ViewEncapsulation} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\n\nimport {AjfReportBuilderService} from './report-builder-service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'custom-widget-dialog',\n  templateUrl: 'custom-widget-dialog.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderCustomWidgetDialog {\n  @Input()\n  label: string;\n  @Input()\n  position: number;\n\n  constructor(\n    private _service: AjfReportBuilderService,\n    private _dialogRef: MatDialogRef<AjfReportBuilderCustomWidgetDialog>\n  ) { }\n\n  changeLabel() {\n    this._service.changeLabelCustomWidget(this.label, this.position);\n    this._dialogRef.close();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfStyles, AjfWidget, AjfWidgetType} from '@ajf/core/reports';\nimport {deepCopy} from '@ajf/core/utils';\nimport {CdkDrag, CdkDragDrop} from '@angular/cdk/drag-drop';\nimport {\n  AfterViewChecked, ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, OnInit,\n  ViewEncapsulation\n} from '@angular/core';\nimport {Observable, Subscription, timer} from 'rxjs';\n\nimport {AjfReportBuilderDragData} from './report-builder-drag-data';\nimport {AjfReportBuilderService} from './report-builder-service';\n\n/**\n *  manage the content page\n *\n * @export\n */\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-content',\n  templateUrl: 'content.html',\n  styleUrls: ['content.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '(mouseover)': 'onMouseOver()',\n    '(mouseleave)': 'onMouseLeave()'\n  }\n})\nexport class AjfReportBuilderContent implements OnInit, AfterViewChecked, OnDestroy {\n  onMouseOver(): void {\n    this.showActions = true;\n    this._service.overStarted();\n  }\n\n  onMouseLeave(): void {\n    this.showActions = false;\n    this._service.overEnded();\n  }\n\n  canDropPredicate(\n    dropZones: string[]\n  ): (item: CdkDrag<AjfReportBuilderDragData>) => boolean {\n    return item => {\n      item.data.dropZones.forEach(d => {\n        if (dropZones.indexOf(d) > -1) { return true; }\n      });\n      return false;\n    };\n  }\n\n  reportStyles: Observable<AjfStyles>;\n\n  // this boolean sign if is dragged a widget\n  onDragged = false;\n\n\n  /**\n   *  observe the status of the fixed zoom\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  fixedZoom = false;\n\n  // this boolean sign if widget is in drag enter status\n  onDragEnter: any = {};\n\n\n  show = false;\n\n\n  // this array contains all widget locate in header zone\n  headerWidgets: AjfWidget[] = [];\n  /**\n   * observe the css style of header\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  headerStyles: Observable<AjfStyles>;\n\n  // this array contains all widget locate in content zone\n  contentWidgets: AjfWidget[] = [];\n\n  /**\n   * observe the css style of content\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  contentStyles: Observable<AjfStyles>;\n\n  // this array contains all widget locate in footer zone\n  footerWidgets: AjfWidget[] = [];\n\n\n  onOver: boolean = false;\n  /**\n   * observe the css style of footer\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  footerStyles: Observable<AjfStyles>;\n\n\n  // this is the current widget\n  currentWidget: AjfWidget|null = null;\n\n\n  /**\n   * if true mouse event is on dragged status\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  showActions = false;\n\n  private _onDraggedSub: Subscription = Subscription.EMPTY;\n  private _fixedZoomSub: Subscription = Subscription.EMPTY;\n  private _onDragEnterSub: Subscription = Subscription.EMPTY;\n  private _headerWidgetsSub: Subscription = Subscription.EMPTY;\n  private _contentWidgetsSub: Subscription = Subscription.EMPTY;\n  private _footerWidgetsSub: Subscription = Subscription.EMPTY;\n  private _onOverSub: Subscription = Subscription.EMPTY;\n  private _currentWidgetSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n    private _service: AjfReportBuilderService,\n    private _cdRef: ChangeDetectorRef) {\n    this.headerStyles = this._service.headerStyles;\n    this.contentStyles = this._service.contentStyles;\n    this.footerStyles = this._service.footerStyles;\n  }\n\n  isLayout(widget: AjfWidget): boolean {\n    return widget.widgetType === AjfWidgetType.Layout;\n  }\n\n  /**\n   *  sign the start of mouse drag with 200 ms of delay\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragStartHandler(): void {\n    let s = timer(200)\n      .subscribe(() => {\n        if (s != null) { s.unsubscribe(); }\n        this._service.dragStarted();\n      });\n  }\n\n  /**\n   * sign the end of mouse drag\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragEndHandler(): void {\n    this._service.dragEnded();\n  }\n\n  /**\n   *  sign the enter of mouse drag\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragEnterHandler(array: string, index: number): void {\n    this._service.dragEnter(array, index);\n  }\n\n  /**\n   * sign the leave of mouse drag\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragLeaveHandler(): void {\n    this._service.dragLeave();\n  }\n\n\n  /**\n   *  return true if array and index is === with array and index of onDragEnter\n   *\n   * @param array\n   * @param index\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragEnterCheck(array: string, index: number): boolean {\n    if (\n      (array === this.onDragEnter.array) &&\n      ((index === this.onDragEnter.index) || (index === -1))\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * remove widget element from type array in idx position\n   *\n   * @param type can be header content or footer\n   * @param idx\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  remove(type: string, idx: number) {\n    this._service.remove(type, idx);\n  }\n\n  /**\n   * add widget element into type array in idx position\n   *\n   * @param type\n   * @param event\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  addToList(arrayTo: string, event: CdkDragDrop<AjfReportBuilderDragData>, to?: number) {\n    this.onDragEndHandler();\n    this._service.setOrigin(arrayTo);\n    const itemData = event.item.data as AjfReportBuilderDragData;\n    if (itemData.fromColumn != null) {\n        this._service.removeWidgetToColumn(itemData.fromColumn, itemData.fromIndex!);\n        this.currentWidget = itemData.widget!;\n    } else if (itemData.widget != null) {\n      this.remove(itemData.arrayFrom!, itemData.from!);\n      this.currentWidget = itemData.widget;\n    } else if (itemData.json != null && itemData.json !== '') {\n      this.currentWidget = deepCopy(itemData.json);\n    } else {\n      let obj = {'widgetType': (AjfWidgetType as any)[itemData.widgetType!]};\n      this.currentWidget = deepCopy(obj);\n    }\n    this.onDragEndHandler();\n    if (this.currentWidget != null) {\n      switch (arrayTo) {\n        case 'header':\n          this._service.addHeaderWidget(this.currentWidget, to);\n          break;\n        case 'content':\n          this._service.addContentWidget(this.currentWidget, to);\n          break;\n        case 'footer':\n          this._service.addfooterWidget(this.currentWidget, to);\n          break;\n      }\n    }\n    this.onDragLeaveHandler();\n  }\n\n  ngOnInit(): void {\n    this._headerWidgetsSub = this._service.headerWidgets\n      .subscribe(x => {\n        this.headerWidgets = x.widgets;\n      });\n    this._contentWidgetsSub = this._service.contentWidgets\n      .subscribe(x => {\n        this.contentWidgets = x.widgets;\n      });\n    this._footerWidgetsSub = this._service.footerWidgets\n      .subscribe(x => {\n        this.footerWidgets = x.widgets;\n      });\n    this._onDraggedSub = this._service.onDragged\n      .subscribe(x => {\n        this.onDragged = x;\n      });\n    this._fixedZoomSub = this._service.fixedZoom\n      .subscribe(bool => {\n        this.fixedZoom = bool;\n      });\n    this._onDragEnterSub = this._service.onDragEnter\n      .subscribe(x => {\n        this.onDragEnter = x;\n      });\n    this._onOverSub = this._service.onOver\n      .subscribe(x => {\n        this.onOver = x;\n      });\n  }\n\n  ngAfterViewChecked() {\n    this._cdRef.detectChanges();\n  }\n\n  ngOnDestroy(): void {\n    [\n      this._headerWidgetsSub, this._contentWidgetsSub, this._footerWidgetsSub,\n      this._currentWidgetSub, this._onDraggedSub, this._fixedZoomSub,\n      this._onOverSub, this._onDragEnterSub\n    ].forEach(s => { s.unsubscribe(); });\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfCondition, validateExpression} from '@ajf/core/models';\nimport {\n  ChangeDetectionStrategy, Component, Input, OnDestroy, OnInit, ViewChild, ViewEncapsulation\n} from '@angular/core';\nimport {Subscription, timer} from 'rxjs';\n\nimport {AjfFormVariables} from './models';\nimport {AjfReportBuilderService} from './report-builder-service';\nimport {sanitizeConditionString} from './utils';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-report-builder-condition-editor',\n  templateUrl: 'condition-editor.html',\n  styleUrls: ['condition-editor.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n/**\n * This class will define an ajf builder builder condition editor\n * @implements : OnDestroy\n * @implements : AfterViewInit\n */\nexport class AjfReportBuilderConditionEditor implements OnInit, OnDestroy {\n\n  @Input()\n  visibility: AjfCondition;\n\n  formsVariables: AjfFormVariables[];\n  isValid = false;\n  names: string[] = [];\n  currentId: number;\n\n  // conditionText is a string\n  conditionText = 'true';\n\n  a: any;\n  b: any;\n\n\n  @ViewChild('conditionTextArea', {static: false}) conditionTextArea: any;\n  @ViewChild('errorMessage', {static: false}) errorMessage: any;\n\n  //  operators is an array of any type that contains all allow operators\n  operators: string[] = [\n    '( )', '\\' \\'',\n    '<', '<=', '==', '>=', '>', '!=', '!',\n    '&&', '||',\n    '+', '-', '*', '/', '%',\n    'true', 'false'\n  ];\n\n  private _conditionNamesSub: Subscription = Subscription.EMPTY;\n\n  /**\n   * this constructor will init current condition by ajfBuilderservice\n   * and init condition and availableFieldNames subscriptions\n   */\n  constructor(\n    private _service: AjfReportBuilderService\n  ) {\n\n  }\n  extractNames(formsVariables: AjfFormVariables[]) {\n    this.names.length = 0;\n    for (let i = 0; i < formsVariables.length; i++) {\n      this.names = this.names.concat(formsVariables[i].names);\n    }\n  }\n\n  setCurrent(id: number, index: number) {\n    this.currentId = id;\n    this.appendText(this.formsVariables[id].names[index]);\n    this.checkValidation();\n  }\n\n  /**\n   * this method will return success if the current condtion is valid\n   * @return boolean\n   */\n  validateCondition(): boolean {\n    return validateExpression(this.conditionText, this.names);\n  }\n\n  // TODO complete the comment\n  /**\n   * this method will append text to json\n   * @param text      : string -\n   * @param goBackNum : number -\n   */\n  appendText(text: string, _goBackNum?: number): void {\n    if (text == null || this.conditionTextArea == null) {\n      return;\n    }\n\n    let el = this.conditionTextArea.nativeElement;\n    let sStart: number = Math.min(el.selectionStart, el.selectionEnd);\n    let sEnd: number = Math.max(el.selectionStart, el.selectionEnd);\n    let startingString: string = this.conditionText.substr(0, sStart);\n    let endingString: string = this.conditionText.substr(sEnd);\n    let initialLenght: number = startingString.length;\n    let newStr = '';\n\n    startingString = sanitizeConditionString(startingString);\n    endingString = sanitizeConditionString(endingString);\n    sStart += startingString.length - initialLenght +\n      text.length + (startingString.length > 0 ? 2 : 1);\n    newStr = startingString.length > 0 ? `${startingString} ` : '';\n    this.conditionText = `${newStr}${text} ${endingString}`;\n\n    const s = timer(0).subscribe(() => {\n      if (s && !s.closed) { s.unsubscribe(); }\n      if (el.createTextRange) {\n        let range = el.createTextRange();\n        range.move('character', sStart);\n        range.select();\n      } else {\n        if (el.selectionStart) {\n          el.focus();\n          el.setSelectionRange(sStart, sStart);\n        } else {\n          el.focus();\n        }\n      }\n    });\n  }\n\n  checkValidation() {\n    this.isValid = this.validateCondition();\n    if (this.isValid) {\n      this.saveCondition();\n    }\n  }\n\n  /**\n   * this method will save current condition\n   */\n  saveCondition(): void {\n    this._service.saveCondition(this.conditionText);\n  }\n\n  /**\n   * this method will hide the error message\n   */\n  hideErrorMessage(): void {\n    if (this.errorMessage == null) {\n      return;\n    }\n  }\n\n  ngOnInit(): void {\n    this.conditionText = this.visibility.condition;\n    this.isValid = true;\n\n    if (this.conditionText == 'true') {\n      this.conditionText = '';\n    }\n\n    this._conditionNamesSub = this._service.conditionNames\n      .subscribe((x) => {\n        this.formsVariables = x;\n        if (x != null) {\n          this.extractNames(this.formsVariables);\n        }\n      });\n\n  }\n  /**\n   * this method will destroy a conditionSubscriptions\n   */\n  ngOnDestroy(): void {\n    this._conditionNamesSub.unsubscribe();\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfWidgetType} from '@ajf/core/reports';\n\nexport function ajfReportBuilderWidgetToString(widgetType: string): string {\n  return `reportbuilder-${widgetType.toLowerCase()}`;\n}\n\nexport function ajfWidgetTypeStringToIcon(widgetType: string): string {\n  return `widget-${widgetType.toLowerCase()}`;\n}\n\nexport function ajfWidgetTypeToIcon(widgetType: AjfWidgetType): string {\n  return ajfWidgetTypeStringToIcon(AjfWidgetType[widgetType]);\n}\n\nexport function ajfWidgetTypeStringToLabel(widgetType: string): string {\n  return `widgetType.${widgetType}`;\n}\n\nexport function ajfWidgetTypeToLabel(type: AjfWidgetType): string {\n  return ajfWidgetTypeStringToLabel(AjfWidgetType[type]);\n}\n\nexport function widgetReportBuilderIconName(type: AjfWidgetType): string {\n  return `reportbuilder-${AjfWidgetType[type].toLowerCase()}`;\n}\n\nexport function sanitizeConditionString(str: string): string {\n  str = str.trim();\n  while (str.indexOf('  ') > 0) {\n    str = str.replace('  ', ' ');\n  }\n  return str;\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfColumnWidget} from '@ajf/core/reports';\nimport {\n  ChangeDetectionStrategy, Component, Input, OnDestroy, OnInit, ViewEncapsulation\n} from '@angular/core';\nimport {Subscription, timer} from 'rxjs';\n\nimport {AjfReportBuilderService} from './report-builder-service';\n\n/**\n * this component manages the report text\n *\n * @export\n */\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-column',\n  templateUrl: 'column.html',\n  styleUrls: ['column.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfReportBuilderColumn implements OnDestroy, OnInit {\n\n  /**\n   * if true mouse event is on dragged status\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  showActions = false;\n\n  layoutShow = false;\n\n  // this boolean sign if is dragged a widget\n  onDragged = false;\n\n\n  /**\n   * is the array of values\n   *\n   * @memberOf TableComponent\n   */\n  @Input() column: AjfColumnWidget;\n\n  private _onDraggedSub: Subscription = Subscription.EMPTY;\n\n  addToList(event: any, idx: number, toColumn: AjfColumnWidget) {\n    this.onDragEndHandler();\n    if (event.dragData.fromColumn) {\n      this._service.changePositionOnColumn(event, toColumn, idx);\n    } else {\n      this._service.addToColumn(event, toColumn, idx);\n    }\n  }\n\n  /**\n   *  sign the start of mouse drag with 200 ms of delay\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragStartHandler(): void {\n    let s = timer(200)\n      .subscribe(() => {\n        s.unsubscribe();\n        this._service.dragStarted();\n      });\n  }\n\n  /**\n   * sign the end of mouse drag\n   *\n   * @memberOf AjfReportBuilderContent\n   */\n  onDragEndHandler(): void {\n    this._service.dragEnded();\n  }\n  constructor(\n    private _service: AjfReportBuilderService\n  ) {\n  }\n\n  ngOnInit() {\n    // this.widget = changes.widget.currentValue;\n\n    this._onDraggedSub = this._service.onDragged\n      .subscribe(x => {\n        this.onDragged = x;\n      });\n  }\n\n  ngOnDestroy(): void {\n    this._onDraggedSub.unsubscribe();\n  }\n}\n\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfField, AjfFieldType, AjfForm, AjfNode, AjfNodeType, flattenNodes} from '@ajf/core/forms';\nimport {AjfFormula, createFormula} from '@ajf/core/models';\nimport {\n  AjfAggregation, AjfChartWidget, AjfColumnWidget, AjfCustomWidget, AjfDataWidget, AjfImageWidget,\n  AjfLayoutWidget, AjfReport, AjfReportContainer, AjfStyles, AjfTableWidget, AjfTextWidget,\n  AjfWidget, AjfWidgetType, createAggregation, createWidget\n} from '@ajf/core/reports';\nimport {deepCopy} from '@ajf/core/utils';\nimport {EventEmitter, Inject, Injectable, Optional} from '@angular/core';\nimport {BehaviorSubject, Observable, Subject} from 'rxjs';\nimport {\n  combineLatest, filter, map, publishReplay, refCount, scan, share, startWith\n} from 'rxjs/operators';\n\nimport {AjfFormVariables, AjfReportIcons, AjfReportsConfig, AjfWidgetsContainer} from './models';\nimport {\n  AjfColorOperation, AjfCustomWidgetsOperation, AjfFormVariablesOperation, AjfReportFormsOperation,\n  AjfStylesOperation, AjfWidgetOperation, AjfWidgetsOperation\n} from './operations';\nimport {AJF_REPORTS_CONFIG} from './tokens';\n\n/**\n * This service contains all the logic to model the report widget.\n *\n * @export\n */\n@Injectable()\nexport class AjfReportBuilderService {\n\n  /**\n   *  this Observable observe the customWidgets obj\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _customWidgets: Observable<AjfCustomWidget[]>;\n  private _customWidgetsUpdate: Subject<AjfCustomWidgetsOperation> =\n      new Subject<AjfCustomWidgetsOperation>();\n\n  /**\n   * this Observable observe the name of the section that contains the current widget.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _origin: Observable<string>;\n  private _originUpdate: Subject<string> = new Subject<string>();\n\n  /**\n   * this Observable observe the exported json\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _savedReport: Observable<AjfReport>;\n  private _savedReportUpdate: Subject<AjfReport> = new Subject<AjfReport>();\n\n  private _jsonStack: BehaviorSubject<string[]> =\n  new BehaviorSubject<string[]>([]);\n\n  private _lastDeletedJson: string | undefined;\n\n  private _emptyContent: BehaviorSubject<boolean> =\n  new BehaviorSubject<boolean>(true);\n\n  /**\n   *  this Observable observe if is fired drag mouse event.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _onDragged: Observable<boolean>;\n  private _onDraggedUpdate: Subject<boolean> = new Subject<boolean>();\n\n\n  private _onOver: Observable<boolean>;\n  private _onOverUpdate: Subject<boolean> = new Subject<boolean>();\n\n\n  /**\n   * this Observable observe the status of permanent zoom\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _fixedZoom: Observable<boolean>;\n  private _fixedZoomUpdate: Subject<boolean> = new Subject<boolean>();\n\n\n  /**\n   *  this Observable observe if is fired drag mouse event.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _onDragEnter: Observable<any>;\n  private _onDragEnterUpdate: Subject<any> = new Subject<any>();\n\n  /**\n   * Observe the header widget array.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _headerWidgets: Observable<AjfWidgetsContainer>;\n  private _headerWidgetsUpdate: Subject<AjfWidgetsOperation> = new Subject<AjfWidgetsOperation>();\n\n  /**\n   * observe the header styles.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _headerStyles: Observable<AjfStyles>;\n\n  /**\n   * Observe the content widget array\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _contentWidgets: Observable<AjfWidgetsContainer>;\n  private _contentWidgetsUpdate: Subject<AjfWidgetsOperation> = new Subject<AjfWidgetsOperation>();\n\n  /**\n   * this Observable observe the content styles.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _contentStyles: Observable<AjfStyles>;\n\n  /**\n   * this Observable observe the footer widget array.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _footerWidgets: Observable<AjfWidgetsContainer>;\n  private _footerWidgetsUpdate: Subject<AjfWidgetsOperation> = new Subject<AjfWidgetsOperation>();\n\n\n  private _color: Observable<string[]>;\n  private _colorUpdate: Subject<AjfColorOperation> = new Subject<AjfColorOperation>();\n  private _defaultColor: string[] =\n  [\n    'rgba(0, 0, 0, 1)', 'rgba(51, 153, 255, 1)', 'rgba(153, 204, 0, 1)', 'rgba(255, 102, 0, 1)',\n    'rgba(0, 204, 204, 1)', 'rgba(204, 204, 153, 1)', 'rgba(255, 153, 0, 1)', 'rgba(230, 0, 0, 1)',\n    'rgba(255, 153, 0, 1)', 'rgba(255, 255, 0, 1)', 'rgba(0, 138, 0, 1)', 'rgba(0, 102, 204, 1)',\n    'rgba(153, 51, 255, 1)', 'rgba(255, 255, 255, 1)', 'rgba(250, 204, 204, 1)',\n    'rgba(255, 235, 204, 1)', 'rgba(255, 255, 204, 1)', 'rgba(204, 232, 204, 1)',\n    'rgba(204, 224, 245, 1)', 'rgba(235, 214, 255, 1)', 'rgba(187, 187, 187, 1)',\n    'rgba(240, 102, 102, 1)', 'rgba(255, 194, 102, 1)', 'rgba(255, 255, 102, 1)',\n    'rgba(102, 185, 102, 1)', 'rgba(102, 163, 224, 1)', 'rgba(194, 133, 255, 1)',\n    'rgba(136, 136, 136, 1)', 'rgba(161, 0, 0, 1)', 'rgba(178, 107, 0, 1)',\n    'rgba(178, 178, 0, 1)', 'rgba(0, 97, 0, 1)', 'rgba(0, 71, 178, 1)',\n    'rgba(107, 36, 178, 1)', 'rgba(68, 68, 68, 1)', 'rgba(92, 0, 0, 1)', 'rgba(102, 61, 0, 1)',\n    'rgba(102, 102, 0, 1)', 'rgba(0, 55, 0, 1)', 'rgba(0, 41, 102, 1)', 'rgba(61, 20, 102, 1)'\n  ];\n\n\n  /**\n   * this Observable observe the footer styles.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _footerStyles: Observable<AjfStyles>;\n\n  /**\n   *  this Observable observe the current widget which holds the focus.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _currentWidget: Observable<AjfWidget|null>;\n  private _currentWidgetUpdate: BehaviorSubject<AjfWidgetOperation|null> =\n      new BehaviorSubject<AjfWidgetOperation|null>(null);\n\n\n  /**\n   * Observe the AjfFormVariables exploit for field selecting from forms\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _formsVariables: Observable<AjfFormVariables[]>;\n  private _formsVariablesUpdate: BehaviorSubject<AjfFormVariablesOperation|null> =\n      new BehaviorSubject<AjfFormVariablesOperation|null>(null);\n\n  /**\n   * Observe the AjfFormVariables exploit for field selecting from forms\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _conditionNames: Observable<AjfFormVariables[]>;\n  private _conditionNamesUpdate: BehaviorSubject<AjfFormVariablesOperation|null> =\n      new BehaviorSubject<AjfFormVariablesOperation|null>(null);\n\n  /**\n   * this BehaviorSubject update export report.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _saveReport: BehaviorSubject<any> =\n  new BehaviorSubject<any>(null);\n\n  /**\n   * this BehaviorSubject contains the AjfReport.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _report: BehaviorSubject<AjfReport | null> =\n    new BehaviorSubject<AjfReport | null>(null);\n\n  /**\n   *  this Observable observe the styles of report.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _reportStyles: Observable<AjfStyles>;\n  private _reportStylesUpdate: Subject<AjfStylesOperation> = new Subject<AjfStylesOperation>();\n\n  /**\n   * observe the forms fetched\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _reportForms: Observable<AjfForm[]>;\n  private _reportFormsUpdate: Subject<AjfReportFormsOperation> =\n      new Subject<AjfReportFormsOperation>();\n\n  /**\n   * dictionary for  widgetsUpdate\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _updates: any = {\n    header: this._headerWidgetsUpdate,\n    content: this._contentWidgetsUpdate,\n    footer: this._footerWidgetsUpdate,\n    color: this._colorUpdate,\n    customWidgets: this._customWidgetsUpdate\n  };\n\n  /**\n   * event emitter that notify when wont to save report\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  private _saveReportEvent: EventEmitter<void> = new EventEmitter<void>();\n\n  private _saveFormulaTOHtml: EventEmitter<any> = new EventEmitter<any>();\n\n  getFormulaToHtmlEvent(): Observable<string> {\n    return this._saveFormulaTOHtml.asObservable();\n  }\n\n  /**\n   * event emitter that notify when column width changed\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  columnWidthChangedEmitter: EventEmitter<void> = new EventEmitter<void>();\n\n  private _iconSets: AjfReportIcons = {\n    'ajf-icon': []\n  };\n  get iconSets(): AjfReportIcons { return this._iconSets; }\n\n  /**\n   * Creates an instance of AjfReportBuilderService.\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  constructor(\n    @Optional() @Inject(AJF_REPORTS_CONFIG) reportsConfig: AjfReportsConfig\n  ) {\n\n    this._lastDeletedJson = '';\n\n    if (reportsConfig != null) {\n      if (reportsConfig.icons != null) {\n        this._iconSets = {...this._iconSets, ...reportsConfig.icons};\n      }\n    }\n\n    this._origin = (<Observable<string>>this._originUpdate).pipe(\n      startWith('header'),\n      share()\n    );\n\n    this._savedReport = (<Observable<AjfReport>>this._savedReportUpdate).pipe(\n      share()\n    );\n\n    this._onDragged = (<Observable<boolean>>this._onDraggedUpdate).pipe(\n      startWith(false),\n      share()\n    );\n\n    this._onOver = (<Observable<boolean>>this._onOverUpdate).pipe(\n      startWith(false),\n      share()\n    );\n\n    this._fixedZoom = (<Observable<boolean>>this._fixedZoomUpdate).pipe(\n      startWith(false),\n      share()\n    );\n\n    this._onDragEnter = this._onDragEnterUpdate.pipe(share());\n\n    this._reportStyles = (<Observable<AjfStylesOperation>>this._reportStylesUpdate)\n                             .pipe(scan((styles: AjfStyles, op: AjfStylesOperation) => {\n                                     return op(styles);\n                                   }, <AjfStyles>{}), share(), startWith(<AjfStyles>{}));\n\n    this._reportForms = (<Observable<AjfReportFormsOperation>>this._reportFormsUpdate)\n                            .pipe(scan((forms: AjfForm[], op: AjfReportFormsOperation) => {\n                                    return op(forms);\n                                  }, []), share(), startWith([]));\n\n    this._customWidgets =\n        (<Observable<AjfCustomWidgetsOperation>>this._customWidgetsUpdate)\n            .pipe(scan((widgets: AjfCustomWidget[], op: AjfCustomWidgetsOperation) => {\n                    return op(widgets);\n                  }, []), share(), startWith([]));\n\n    this._formsVariables =\n        (<Observable<AjfFormVariablesOperation>>this._formsVariablesUpdate)\n            .pipe(\n                filter(s => s != null),\n                scan((variables: AjfFormVariables[], op: AjfFormVariablesOperation) => {\n                  return op(variables);\n                }, []), publishReplay(1), refCount());\n\n    this._conditionNames =\n        (<Observable<AjfFormVariablesOperation>>this._conditionNamesUpdate)\n            .pipe(\n                filter(s => s != null),\n                scan((variables: AjfFormVariables[], op: AjfFormVariablesOperation) => {\n                  return op(variables);\n                }, []), share(), startWith([]));\n\n    this._headerWidgets = (<Observable<AjfWidgetsOperation>>this._headerWidgetsUpdate)\n                              .pipe(\n                                  scan(\n                                      (widgets: AjfWidgetsContainer, op: AjfWidgetsOperation) => {\n                                        return op(widgets);\n                                      },\n                                      <AjfWidgetsContainer>{widgets: [], styles: {}}),\n                                  startWith(<AjfWidgetsContainer>{widgets: [], styles: {}}),\n                                  publishReplay(1), refCount());\n\n    this._headerStyles = this._headerWidgets.pipe(map((widgets: AjfWidgetsContainer) => {\n      return widgets != null ? widgets.styles : {};\n    }));\n\n    this._contentWidgets = (<Observable<AjfWidgetsOperation>>this._contentWidgetsUpdate)\n                               .pipe(\n                                   scan(\n                                       (widgets: AjfWidgetsContainer, op: AjfWidgetsOperation) => {\n                                         return op(widgets);\n                                       },\n                                       <AjfWidgetsContainer>{widgets: [], styles: {}}),\n                                   startWith(<AjfWidgetsContainer>{widgets: [], styles: {}}),\n                                   publishReplay(1), refCount());\n\n    this._contentStyles = this._contentWidgets.pipe(map((widgets: AjfWidgetsContainer) => {\n      return widgets != null ? widgets.styles : {};\n    }));\n\n    this._footerWidgets = (<Observable<AjfWidgetsOperation>>this._footerWidgetsUpdate)\n                              .pipe(\n                                  scan(\n                                      (widgets: AjfWidgetsContainer, op: AjfWidgetsOperation) => {\n                                        return op(widgets);\n                                      },\n                                      <AjfWidgetsContainer>{widgets: [], styles: {}}),\n                                  startWith(<AjfWidgetsContainer>{widgets: [], styles: {}}),\n                                  publishReplay(1), refCount());\n\n    this._footerStyles = this._footerWidgets.pipe(map((widgets: AjfWidgetsContainer) => {\n      return widgets != null ? widgets.styles : {};\n    }));\n\n    this._color = (<Observable<AjfColorOperation>>this._colorUpdate)\n                      .pipe(scan((color: string[], op: AjfColorOperation) => {\n                              return op(color);\n                            }, this._defaultColor), share(), startWith(this._defaultColor));\n\n    this._currentWidget =\n        (<Observable<AjfWidgetOperation>>this._currentWidgetUpdate)\n            .pipe(filter(s => s != null), scan((widget: AjfWidget|null, op: AjfWidgetOperation) => {\n                    return op(widget);\n                  }, undefined), publishReplay(1), refCount());\n\n    this._reportForms.pipe(\n      filter(f => f.length != 0),\n      map((forms: AjfForm[]) => {\n        return (_c: AjfFormVariables[]): AjfFormVariables[] => {\n          return this.fillFormsVariables(forms);\n        };\n      })\n    ).subscribe(this._formsVariablesUpdate);\n\n    this._reportForms.pipe(\n      filter(f => f.length != 0),\n      map((forms: AjfForm[]) => {\n        return (_c: AjfFormVariables[]): AjfFormVariables[] => {\n          return this.fillFormsVariables(forms);\n        };\n      })\n    ).subscribe(this._conditionNamesUpdate);\n\n    const reportObs = this._report;\n\n    reportObs.pipe(\n      map((r: AjfReport | null) => {\n        return (_colors: string[]): string[] => {\n          let tempColors: string[] = this._defaultColor;\n          if (r == null) {\n            return [];\n          } else {\n            this.parseColor(r.styles, tempColors);\n            if (r.content) {\n              this.parseColor(r.content.styles, tempColors);\n            }\n            if (r.footer) {\n              this.parseColor(r.footer.styles, tempColors);\n            }\n            if (r.header) {\n              this.parseColor(r.header.styles, tempColors);\n              for (let i = 0; i < r.header.content.length; i++) {\n                let obj = r.header.content[i];\n                this.parseColor(obj.styles, tempColors);\n                if (obj.widgetType === AjfWidgetType.Layout) {\n                  let layoutObj = obj as AjfLayoutWidget;\n                  for (let j = 0; j < layoutObj.content.length; j++) {\n                    let columnObj = layoutObj.content[j] as AjfColumnWidget;\n                    this.parseColor(columnObj.styles, tempColors);\n                    for (let z = 0; z < columnObj.content.length; z++) {\n                      let widgetObj = columnObj.content[z];\n                      this.parseColor(widgetObj.styles, tempColors);\n                    }\n                  }\n                }\n              }\n            }\n          }\n          return <string[]>tempColors;\n        };\n      })\n    ).subscribe(this._colorUpdate);\n\n    reportObs\n        .pipe(map((r: AjfReport|null) => {\n          return (_styles: AjfStyles): AjfStyles => {\n            if (r == null || r.styles == null) {\n              return <AjfStyles>{};\n            } else {\n              return <AjfStyles>r.styles;\n            }\n          };\n        }))\n        .subscribe(this._reportStylesUpdate);\n\n    reportObs\n        .pipe(map((r: AjfReport|null) => {\n          return (_widgets: AjfWidgetsContainer): AjfWidgetsContainer => {\n            if (r == null || r.header == null) {\n              return <AjfWidgetsContainer>{widgets: [], styles: {}};\n            } else {\n              return <AjfWidgetsContainer>{\n                widgets: r.header.content || [],\n                styles: r.header.styles || {}\n              };\n            }\n          };\n        }))\n        .subscribe(this._headerWidgetsUpdate);\n\n    reportObs\n        .pipe(map((r: AjfReport|null) => {\n          return (_widgets: AjfWidgetsContainer): AjfWidgetsContainer => {\n            if (r == null || r.content == null) {\n              return <AjfWidgetsContainer>{widgets: [], styles: {}};\n            } else {\n              return <AjfWidgetsContainer>{\n                widgets: r.content.content || [],\n                styles: r.content.styles || {}\n              };\n            }\n          };\n        }))\n        .subscribe(this._contentWidgetsUpdate);\n\n    reportObs\n        .pipe(map((r: AjfReport|null) => {\n          return (_widgets: AjfWidgetsContainer): AjfWidgetsContainer => {\n            if (r == null || r.footer == null) {\n              return <AjfWidgetsContainer>{widgets: [], styles: {}};\n            } else {\n              return <AjfWidgetsContainer>{\n                widgets: r.footer.content || [],\n                styles: r.footer.styles || {}\n              };\n            }\n          };\n        }))\n        .subscribe(this._footerWidgetsUpdate);\n\n    this._saveReport.pipe(\n      map((json: any) => {\n        return (_r: any): any => {\n          if (json = null) {\n            return {};\n          }\n          return json;\n        };\n      })\n    );\n\n    this._saveReportEvent\n        .pipe(\n            combineLatest(this.report, this.reportForms),\n            combineLatest(\n                this._headerWidgets.pipe(filter(w => w != null)),\n                this._contentWidgets.pipe(filter(w => w != null)),\n                this._footerWidgets.pipe(filter(w => w != null)),\n                this._reportStyles.pipe(filter(w => w != null)),\n                ))\n        .subscribe((r: [\n                     [void, AjfReport | null, AjfForm[]], AjfWidgetsContainer, AjfWidgetsContainer,\n                     AjfWidgetsContainer, AjfStyles\n                   ]) => {\n          let obj: any = {};\n          // const curRo = r[0][1];\n          // const forms = r[0][2] != null ? r[0][2] || []\n          //     : (curRo != null ? curRo.forms || [] : []);\n\n          obj.header = {content: r[1].widgets.map(w => deepCopy(w)), styles: r[1].styles} as\n              AjfReportContainer;\n          obj.content = {content: r[2].widgets.map(w => deepCopy(w)), styles: r[2].styles} as\n              AjfReportContainer;\n          obj.footer = {content: r[3].widgets.map(w => deepCopy(w)), styles: r[3].styles} as\n              AjfReportContainer;\n          obj.styles = r[4];\n\n          const ro = {\n            header: {content: r[1].widgets, styles: r[1].styles},\n            content: {content: r[2].widgets, styles: r[2].styles},\n            footer: {content: r[3].widgets, styles: r[3].styles},\n            styles: r[4]\n          } as AjfReport;\n\n          this.setSaveReport(obj);\n          this._savedReportUpdate.next(ro);\n          this.pushJsonStack(JSON.stringify(obj));\n        });\n  }\n\n  /**\n   *\n   *  functions\n   *\n   */\n\n  /**\n   * utils:\n   * remove AjfNodeGroup, AjfSlide, AjfRepeatingSlide, AjfStringField from ajfnode array\n   *\n   * @param nodes\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  filterNodes(nodes: AjfNode[]): AjfNode[] {\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      if (node.nodeType === AjfNodeType.AjfNodeGroup || node.nodeType === AjfNodeType.AjfSlide ||\n          node.nodeType === AjfNodeType.AjfRepeatingSlide ||\n          (node.nodeType === AjfNodeType.AjfField &&\n           (node as AjfField).fieldType === AjfFieldType.String)) {\n        nodes.splice(i, 1);\n        i--;\n      }\n    }\n    return nodes;\n  }\n\n  parseColor(cssStyles: any, colors: string[]): void {\n    const styleKeys = ['background-color', 'backgroundColor', 'color'];\n    styleKeys.forEach((k) => {\n      if (\n        cssStyles[k] &&\n        colors.indexOf(cssStyles[k]) == -1\n      ) {\n        colors.push(cssStyles[k]);\n      }\n    });\n  }\n\n  fillFormsVariables(forms: AjfForm[]) {\n    let variables: AjfFormVariables[] = [];\n    for (let i = 0; i < forms.length; i++) {\n      variables[i] = { nodes: [], labels: [], names: [], types: [] };\n\n      if (forms[i].nodes != null && forms[i].nodes.length > 0) {\n        variables[i].nodes = this.filterNodes(flattenNodes(forms[i].nodes));\n      }\n      variables[i].labels = this.extractLabelsNodes(variables[i].nodes);\n      variables[i].names = this.extractNamesNodes(variables[i].nodes);\n      variables[i].types = this.extractTypesNodes(variables[i].nodes);\n\n    }\n    return variables;\n  }\n  /**\n   * utils:\n   *  the obj returned contains the label field of ajfNode\n   * @param nodes\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  extractLabelsNodes(nodes: AjfNode[]): any {\n    let obj: string[] = [];\n    for (let i = 0; i < nodes.length; i++) {\n      obj.push(nodes[i].label);\n    }\n    return obj;\n  }\n\n  extractNamesNodes(nodes: AjfNode[]): any {\n    let obj: string[] = [];\n    for (let i = 0; i < nodes.length; i++) {\n      obj.push(nodes[i].name);\n    }\n    return obj;\n  }\n  extractTypesNodes(nodes: AjfNode[]): any {\n    let obj: AjfFieldType[] = [];\n    for (let i = 0; i < nodes.length; i++) {\n      let p: AjfField = <AjfField>nodes[i];\n      obj.push(p.fieldType);\n    }\n    return obj;\n  }\n\n  setOrigin(origin: string): void {\n    this._originUpdate.next(origin);\n  }\n\n  /**\n   * utils:\n   * This method round the value to the decimal position\n   *\n   * @param value\n   * @param decimalpositions\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  roundTo(value: number, decimalPositions: number) {\n    let i = value * Math.pow(10, decimalPositions);\n\n    i = Math.floor(i);\n\n    return i / Math.pow(10, decimalPositions);\n  }\n\n  /**\n   * utils:\n   * This validator check if the value is a number.\n   *\n   * @param value\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  isNumber(value: any): boolean {\n    return /^\\d+(\\.\\d+)?/.test(value);\n  }\n\n  isNumberArray(value: any[]): boolean {\n    value.forEach((v) => {\n      if (!this.isNumber(v)) {\n        return false;\n      }\n    });\n    return true;\n  }\n\n  /**\n   * get _onDragged Observable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get onDragged(): Observable<any> {\n    return this._onDragged;\n  }\n\n  /**\n   * get _onOver Observable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get onOver(): Observable<any> {\n    return this._onOver;\n  }\n\n  /**\n   * get _fixedZoom Observable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get fixedZoom(): Observable<boolean> {\n    return this._fixedZoom;\n  }\n\n  /**\n   *  change status of _fixedZoom in true\n   *\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  fixedZoomIn(): void {\n    this._fixedZoomUpdate.next(true);\n  }\n\n  /**\n   *  change status of _fixedZoom in false\n   *\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  fixedZoomOut(): void {\n    this._fixedZoomUpdate.next(false);\n  }\n\n  /**\n   * get _onDragEnter observable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get onDragEnter(): Observable<any> {\n    return this._onDragEnter;\n  }\n\n  /**\n   *  update _onDragEnter with  section(header,content,footer) and index\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  dragEnter(array: string, index: number): void {\n    this._onDragEnterUpdate.next({ array, index });\n  }\n\n  /**\n   *  update _ondragged with true\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  dragStarted(): void {\n    this._onDraggedUpdate.next(true);\n  }\n\n  /**\n   *  update _onDragged with false\n   *\n   * @memberOf AjfReportBuilderService\n   */\n\n  dragEnded(): void {\n    this._onDraggedUpdate.next(false);\n  }\n\n\n  /**\n   *  update _onOver with true\n   *\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  overStarted(): void {\n    this._onOverUpdate.next(true);\n  }\n\n\n  /**\n   * update _onOver with false\n   *\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  overEnded(): void {\n    this._onOverUpdate.next(false);\n  }\n\n  /**\n   *\n   *  update _onDragged with false\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  dragLeave(): void {\n    this._onDragEnterUpdate.next({});\n  }\n\n  /**\n   * Get the report\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get report(): Observable<AjfReport | null> {\n    return this._report.asObservable();\n  }\n\n  /**\n   * emit save report event\n   *\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  saveReport() {\n    if (this._saveReportEvent != null) {\n      this._saveReportEvent.emit();\n    }\n  }\n\n  saveImageFormula(formula: AjfFormula) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return widget;\n      }\n      const w = widget as AjfImageWidget;\n      w.flag = formula;\n      w.icon = formula;\n      return w;\n    });\n  }\n\n  saveFormulaToHtml(htmlFormula: string, reference: any) {\n    if (this._saveFormulaTOHtml != null) {\n      const obj = {\n        'formula': htmlFormula,\n        'reference': reference\n      };\n      this._saveFormulaTOHtml.emit(obj);\n    }\n  }\n\n  setEmptyContent(val: boolean): void {\n    this._emptyContent.next(val);\n  }\n\n\n  pushJsonStack(json: string): void {\n    let currentStack = this._jsonStack.getValue();\n\n    if (currentStack.indexOf(json) === -1 && json !== this._lastDeletedJson) {\n      currentStack.push(json);\n    }\n\n    this._jsonStack.next(currentStack);\n  }\n\n  popJsonStack(): string | undefined {\n    let emptyJson =\n      '{\"header\":{\"content\":[],\"styles\":{}},' +\n      '\"content\":{\"content\":[],\"styles\":{}},\"' +\n      'footer\":{\"content\":[],\"styles\":{}},\"styles\":{}}';\n    let currentStack = this._jsonStack.getValue();\n    currentStack.pop();\n    this._lastDeletedJson = currentStack.pop();\n\n    if (currentStack.length <= 0) {\n      this._lastDeletedJson = '';\n      this._jsonStack.next([]);\n      this.updateCurrentWidget(null);\n      this.setEmptyContent(true);\n      return emptyJson;\n    }\n    this._jsonStack.next(currentStack);\n\n    return this._lastDeletedJson;\n  }\n\n\n  /**\n   * get the emitter\n   *\n   * @readonly\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  get columnWidthChanged() {\n    return this.columnWidthChangedEmitter;\n  }\n\n  /**\n   * get _customWidgets Observable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get customWidgets(): Observable<AjfCustomWidget[]> {\n    return this._customWidgets;\n  }\n\n  /**\n   * Get the header widget\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get headerWidgets(): Observable<AjfWidgetsContainer> {\n    return this._headerWidgets;\n  }\n\n  /**\n   * Get the header styles\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get headerStyles(): Observable<AjfStyles> {\n    return this._headerStyles;\n  }\n\n  /**\n   * Get the Content widget\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get contentWidgets(): Observable<AjfWidgetsContainer> {\n    return this._contentWidgets;\n  }\n\n  /**\n   * Get the content styles\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get contentStyles(): Observable<AjfStyles> {\n    return this._contentStyles;\n  }\n\n  /**\n   * Get the footer widget\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get footerWidgets(): Observable<AjfWidgetsContainer> {\n    return this._footerWidgets;\n  }\n\n  /**\n   * Get the footer styles\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get footerStyles(): Observable<AjfStyles> {\n    return this._footerStyles;\n  }\n\n  /**\n   * Get the colors of report\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get colors(): Observable<string[]> {\n    return this._color;\n  }\n\n  get emptyContent(): Observable<boolean> {\n    return <Observable<boolean>>this._emptyContent;\n  }\n\n  /**\n   *\n   * @param type\n   * @param newWidget\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  updateArrayWidgets(type: string, newWidget: AjfWidgetsContainer) {\n    if ((type !== 'header') && (type !== 'content') && (type !== 'footer')) {\n      throw new Error('Unknown type ' + type);\n    }\n    this._updates[type].next((_widgets: AjfWidgetsContainer): AjfWidgetsContainer => {\n      return newWidget;\n    });\n  }\n\n  /**\n   * get _formsVariables Observable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get formsVariables(): Observable<AjfFormVariables[]> {\n    return this._formsVariables;\n  }\n\n  get conditionNames(): Observable<AjfFormVariables[]> {\n    return this._conditionNames;\n  }\n  /**\n   * Get the current widget\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get currentWidget(): Observable<AjfWidget|null> {\n    return this._currentWidget;\n  }\n\n  /**\n   * This method Update _currentWidgetUpdate with newWidget.\n   *\n   * @param newWidget\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  updateCurrentWidget(newWidget: AjfWidget|null) {\n    this._currentWidgetUpdate.next((_widget: AjfWidget|null): AjfWidget|null => {\n      this._saveReportEvent.emit();\n      return newWidget;\n    });\n  }\n\n  /**\n   * Get the report\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get getSaveReport(): Observable<any> {\n    return this._saveReport.asObservable();\n  }\n\n  /**\n   * get _jsonSavedReport obeservable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get reportSaved(): Observable<AjfReport> {\n    return this._savedReport;\n  }\n\n\n  /**\n   * get _reportStyles observable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get reportStyles(): Observable<AjfStyles> {\n    return this._reportStyles;\n  }\n\n  /**\n   * get _reportForms observable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get reportForms(): Observable<AjfForm[]> {\n    return this._reportForms;\n  }\n\n  /**\n   * get the _origin Observable\n   *\n   * @readonly\n   * @memberOf AjfReportBuilderService\n   */\n  get origin(): Observable<string> {\n    return this._origin;\n  }\n\n  /**\n   * This method assigns the new width to the idx column\n   * and recalculates the width of the remaining columns of the layout.\n   * The range value are from 0,1 to 1.\n   *\n   * RULES:\n   * The min value for column is 0,1.\n   * The sum of all columns width is always 1.\n   * The method round the values.\n   * If is present only one column the width is always 1.\n   *\n   * When the new value `>` old value:\n   * the width of the remaining columns decreases.\n   * When the new value `<` old value:\n   * the width of the remaining columns increases.\n   *\n   * When values ​​are periodic, rounding assigns the gap to the current value.\n   * For example: 3 columns with 0,33 believe 1 column 0,34 and 2 columns 0,33.\n   *\n   * @param newValue\n   * @param idx\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  instantColumnValue(newValue: number, idx: number) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return widget;\n      }\n      let myObj = <AjfLayoutWidget>widget;\n\n      let size = myObj.columns.length;\n\n      let spreadValue = 0;\n      let objNum = 0;\n      let sum = 0;\n      let idxFirstNoObj = -1;\n\n      let add = false;\n      let foundFirstNoObj = false;\n\n      let re1 = new RegExp('(^[0]\\.\\[1-9][0-9]$)');\n      let re2 = new RegExp('(^[0]\\.\\[1-9]$)');\n      let re3 = new RegExp('^[1]$');\n\n      let oldValue = myObj.columns[idx];\n\n      newValue = Number(this.roundTo(newValue, 2).toFixed(2));\n\n      if (myObj.columns[idx] == null) {\n        throw new Error('invalid value');\n      }\n\n      for (let j = 0; j < size; j++) {\n        if (myObj.columns[j] === -1) {\n          objNum++;\n        }\n      }\n\n      if (oldValue == -1) {\n        oldValue = 0.1;\n        objNum--;\n        newValue = Number(this.roundTo(1 / (size - objNum), 2).toFixed(2));\n        myObj.columns[idx] = 0.1;\n      } else if (oldValue < 0.1) {\n        oldValue = 0.1;\n      }\n\n\n      if (newValue !== -1) {\n\n        if (myObj.columns.length === 1) {\n          myObj.columns[0] = 1;\n          return myObj;\n        }\n\n        if (newValue < 0.1) {\n          newValue = 0.1;\n        } else if (newValue + 0.1 * (size - objNum - 1) > 1) {\n          newValue = 1 - (0.1 * (size - objNum - 1));\n        }\n\n        if ((oldValue === newValue) && (oldValue === 0.1)) {\n          myObj.columns[idx] = newValue;\n          return myObj;\n        }\n\n        if (oldValue > newValue) {\n          add = true;\n          spreadValue = (oldValue - newValue) / (size - objNum - 1);\n        } else {\n          add = false;\n          spreadValue = (newValue - oldValue) / (size - objNum - 1);\n        }\n\n        spreadValue = Number(this.roundTo(spreadValue, 2).toFixed(2));\n\n        if (spreadValue < 0.01) {\n          spreadValue = 0.1;\n        }\n\n      } else {\n        myObj.columns[idx] = -1;\n        objNum++;\n        add = true;\n        if (myObj.columns.length == 1) {\n          spreadValue = 1;\n        } else {\n          spreadValue = (oldValue) / (size - objNum);\n        }\n      }\n\n      for (let i = 0; i < size; i++) {\n        if (myObj.columns[i] !== -1) {\n\n          if ((i == idx)) {\n            myObj.columns[idx] = newValue;\n          } else {\n\n            if (add) {\n              myObj.columns[i] += spreadValue;\n              if ((myObj.columns[i] > 0.9) && (myObj.columns.length - objNum != 1)) {\n                myObj.columns[i] = 0.90;\n              }\n\n            } else {\n              myObj.columns[i] -= spreadValue;\n              if (myObj.columns[i] < 0.1) {\n                myObj.columns[i] = 0.10;\n              }\n            }\n\n            myObj.columns[i] = Number(this.roundTo(myObj.columns[i], 2).toFixed(2));\n            sum += myObj.columns[i];\n          }\n\n          sum = Number(this.roundTo(sum, 2).toFixed(2));\n\n          if (foundFirstNoObj == false) {\n            idxFirstNoObj = i;\n            foundFirstNoObj = true;\n          }\n        }\n      }\n\n      if (newValue === -1) {\n        myObj.columns[idx] = -1;\n        if (foundFirstNoObj) {\n          myObj.columns[idxFirstNoObj] += Number(this.roundTo(1 - sum, 2).toFixed(2));\n        }\n      } else {\n        myObj.columns[idx] = Number(this.roundTo(1 - sum, 2).toFixed(2));\n\n      }\n\n      for (let j = 0; j < myObj.columns.length; j++) {\n        if (\n          myObj.columns[j] !== -1 &&\n          !re1.test(String(myObj.columns[j])) &&\n          !re2.test(String(myObj.columns[j])) &&\n          !re3.test(String(myObj.columns[j]))\n        ) {\n          this.instantColumnValue(0.10, j);\n        }\n      }\n      this.columnWidthChangedEmitter.emit();\n      this._saveReportEvent.emit();\n      return myObj;\n    });\n  }\n\n  /**\n   * This method set the imageUrl on the current AjfImageWidget.\n   *\n   * @param imageUrl\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setImageUrl(imageUrl: string) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return null;\n      }\n      const myObj = widget as AjfImageWidget;\n      myObj.url = createFormula({formula: `\"${imageUrl}\"`});\n      return myObj;\n    });\n  }\n\n  setIcon(icon: { fontSet: string, fontIcon: string }) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return null;\n      }\n      const myObj = widget as AjfImageWidget;\n      myObj.icon = createFormula({formula: `\"${icon}\"`});\n      return myObj;\n    });\n  }\n\n  setFlag(value: string) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return null;\n      }\n      const myObj = widget as AjfImageWidget;\n      myObj.flag = createFormula({formula: `\"${value}\"`});\n      return myObj;\n    });\n  }\n\n  saveCondition(conditionText: string) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return null;\n      }\n      if (widget.visibility != null) {\n        widget.visibility.condition = conditionText;\n      }\n      return widget;\n    });\n  }\n\n  saveChartFormula(\n    _label: string,\n    _level: number,\n    _mainIndex: number,\n    _index: number,\n    formulaText: string,\n    aggregationType: number) {\n    this._currentWidgetUpdate.next((w: AjfWidget|null): AjfWidget|null => {\n      if (w == null) {\n        return null;\n      }\n      const widget = w as AjfChartWidget;\n      if (widget != null && widget.dataset != null) {\n        let formula: AjfFormula = createFormula({});\n        let aggregation: AjfAggregation = createAggregation({});\n        // let obj: any;\n\n        formula.formula = formulaText;\n        aggregation.aggregation = aggregationType;\n\n        // obj = {\n        //   'formula': formula.toJson(),\n        //   'aggregation': aggregation.toJson(),\n        //   'label': label\n        // };\n\n        // dataset = AjfDataset.fromJson(obj);\n        // check if the row that contains main data is defined\n        /* if (widget.dataset[0] == null) {\n          widget.dataset[0] = [];\n        }\n\n        if (level == 0 && mainIndex == -1 && index == -1) {\n\n          widget.dataset[0].push(dataset);\n        } else if (level == 1 && mainIndex == -1 && index == -1) {\n\n          widget.dataset[widget.dataset.length] = [];\n          widget.dataset[widget.dataset.length - 1].push(dataset);\n        } else if (index === - 1) {\n          widget.dataset[mainIndex + 1].push(dataset);\n        } else {\n          widget.dataset[mainIndex].splice(index, 1, dataset);\n        } */\n\n      }\n      return widget;\n    });\n  }\n\n  saveTableFormula(\n    _label: string,\n    aggregationType: number,\n    formulaText: string,\n    _mainIndex: number,\n    _index: number) {\n    this._currentWidgetUpdate.next((w: AjfWidget|null): AjfWidget|null => {\n      if (w == null) {\n        return null;\n      }\n      const widget = w as AjfTableWidget;\n      if (widget.dataset != null) {\n        let formula: AjfFormula = createFormula({});\n        let aggregation: AjfAggregation = createAggregation({});\n        // let dataset: AjfDataset = new AjfDataset();\n        // let rowDataset: AjfDataset[] = [];\n        // let obj: any;\n\n        formula.formula = formulaText;\n        aggregation.aggregation = aggregationType;\n\n        // obj = {\n        //   'formula': formula.toJson(),\n        //   'aggregation': aggregation.toJson(),\n        //   'label': label\n        // };\n\n        // dataset = AjfDataset.fromJson(obj);\n        /* if (mainIndex === - 1) {\n          widget.dataset[widget.dataset.length] = [];\n          widget.dataset[widget.dataset.length - 1].push(dataset);\n        } else {\n          if (index === -1) {\n            widget.dataset[mainIndex].push(dataset);\n          } else {\n            widget.dataset[mainIndex].splice(index, 1, dataset);\n          }\n        } */\n      }\n      return widget;\n    });\n  }\n\n  removeTableMainData(index: number) {\n    this._removeFromCurrentWidgetArrayProperty('dataset', index);\n  }\n\n  removeData(_mainIndex: number, _index: number) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      let myObj = <AjfDataWidget>widget;\n\n      /* if (index === -1) {\n        myObj.dataset.splice(mainIndex, 1);\n      } else {\n        myObj.dataset[mainIndex].splice(index, 1);\n      } */\n\n      return myObj;\n    });\n  }\n\n  /**\n   * update type field of AjfChartWidget current widget\n   *\n   * @param type\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setChartType(type: number) {\n    this._setCurrentWidgetProperty('type', type);\n  }\n\n  /**\n   * remove  idx element of xLabels field of AjfChartWidget current widget\n   *\n   * @param idx\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  removeMainData(_idx: number) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      let myObj = <AjfChartWidget>widget;\n      // myObj.dataset[0].splice(idx, 1);\n\n      return myObj;\n    });\n  }\n\n  removeRelatedData(_mainIdx: number, _idx: number) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      let myObj = <AjfChartWidget>widget;\n      /* if (idx == -1) {\n        myObj.dataset.splice(mainIdx + 1, 1);\n      } else {\n        myObj.dataset[mainIdx + 1].splice(idx, 1);\n      } */\n\n      return myObj;\n    });\n  }\n\n\n  /**\n   * update backgroundColor field of AjfChartWidget current widget\n   *\n   * @param colors\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setChartBackgroundColor(colors: string[]) {\n    this._setCurrentWidgetProperty('backgroundColor', colors);\n  }\n\n  addChartBackgroundColor(color: string) {\n    this._addToCurrentWidgetArrayProperty('backgroundColor', color);\n  }\n\n  removeChartBackgroundColor(idx: number) {\n    this._removeFromCurrentWidgetArrayProperty('backgroundColor', idx);\n  }\n\n  /**\n   * update borderColor field of AjfChartWidget current widget\n   *\n   * @param colors\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setChartBorderColor(colors: string[]) {\n    this._setCurrentWidgetProperty('borderColor', colors);\n  }\n\n  setChartBorderWidth(value: number) {\n    this._setCurrentWidgetProperty('borderWidth', value);\n  }\n\n  addChartBorderColor(color: string) {\n    this._addToCurrentWidgetArrayProperty('borderColor', color);\n  }\n\n  removeChartBorderColor(idx: number) {\n    this._removeFromCurrentWidgetArrayProperty('borderColor', idx);\n  }\n\n  /**\n   * This method set the AjfReport.\n   *\n   * @param report\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setReport(report: AjfReport): void {\n    this._report.next(report);\n  }\n\n  /**\n   * This method set the export report.\n   *\n   * @param report\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setSaveReport(json: any): void {\n    this._saveReport.next(json);\n  }\n\n  /**\n   * This method set the font attribute on the current AjfWidget.\n   *\n   * There is a check on font-size attribute,\n   * if is no specificate the type of size font set 'pt' as default.\n   *\n   * @param label\n   * @param value\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setWidgetStyles(label: string, value: string | string[]) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      let myObj = <AjfTextWidget>widget;\n\n      const pxStyles = [\n        'font-size', 'height', 'width', 'border-width', 'border-radius', 'padding', 'margin'\n      ];\n      const isPxStyle = pxStyles.indexOf(label) > -1;\n      if (isPxStyle && !(value instanceof Array) && this.isNumber(value)) {\n        value += 'px';\n      } else if (isPxStyle && value instanceof Array && this.isNumberArray(value)) {\n        value = `${value.join('px ')}px`;\n      }\n\n      myObj.styles[label] = value;\n\n      return myObj;\n    });\n  }\n\n  /**\n   * this method update the styles of origin widget array\n   *\n   * @param origin can be header content or footer\n   * @param label for example background-color\n   * @param value for example rgb(255,255,255,1)\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setSectionStyles(origin: string, label: string, value: string) {\n    if ((origin !== 'header') && (origin !== 'content') && (origin !== 'footer')) {\n      throw new Error('uncknow origin ' + origin);\n    }\n\n    this._updates[origin].next((widget: AjfWidgetsContainer): AjfWidgetsContainer => {\n      widget.styles[label] = value;\n\n      widget.styles = <AjfStyles>{...widget.styles};\n\n      return widget;\n    });\n  }\n\n  /**\n   * this method set the style of the whole report.\n   *\n   * @param label for example background-color\n   * @param value for example rgb(255,255,255,1)\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setReportStyles(label: string, value: string) {\n    this._reportStylesUpdate.next((styles: AjfStyles): AjfStyles => {\n      if (styles == null) {\n        styles = {};\n      } else {\n        styles[label] = value;\n        styles = <AjfStyles>{...styles};\n      }\n      return styles;\n    });\n  }\n\n  /**\n   *  update forms\n   *\n   * @param forms\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  setReportForms(forms: AjfForm[]) {\n    this._reportFormsUpdate.next((_form: AjfForm[]): AjfForm[] => {\n      return forms || [];\n    });\n  }\n\n  /**\n   * update customWidgets\n   *\n   * @param widget\n   * @param [position]\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  addCustomWidgets(widget: AjfCustomWidget, position?: number) {\n    this._customWidgetsUpdate.next((customWidgets: AjfCustomWidget[]): AjfCustomWidget[] => {\n      customWidgets = customWidgets || [];\n      if (position != null && position >= 0) {\n        customWidgets.splice(position, 0, widget);\n      } else {\n        customWidgets.push(widget);\n      }\n      return customWidgets;\n    });\n  }\n\n  /**\n   * reset customWidgets\n   *\n   * @param widget\n   * @param [position]\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  resetCustomWidgets() {\n    this._customWidgetsUpdate.next((customWidgets: AjfCustomWidget[]): AjfCustomWidget[] => {\n      customWidgets.length = 0;\n      return customWidgets;\n    });\n  }\n\n  /**\n   * update label of widget\n   *\n   * @param label\n   * @param position\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  changeLabelCustomWidget(label: string, position: number) {\n    this._customWidgetsUpdate.next((customWidgets: AjfCustomWidget[]): AjfCustomWidget[] => {\n      customWidgets[position].type = label;\n      return customWidgets;\n    });\n  }\n\n  /**\n   * Add an AjfWidget on _headerWidgetsUpdate\n   *\n   * @param widget\n   * @param [position]\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  addHeaderWidget(widget: AjfWidget, position?: number) {\n    this._addWidgetToContainer(this._headerWidgetsUpdate, widget, position);\n  }\n\n  /**\n   * Add an AjfWidget on _contentWidgetsUpdate\n   *\n   * @param widget\n   * @param [position]\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  addContentWidget(widget: AjfWidget, position?: number) {\n    this._addWidgetToContainer(this._contentWidgetsUpdate, widget, position);\n  }\n\n  /**\n   * Add an AjfWidget on _footerWidgetsUpdate\n   *\n   * @param widget\n   * @param [position]\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  addfooterWidget(widget: AjfWidget, position?: number) {\n    this._addWidgetToContainer(this._footerWidgetsUpdate, widget, position);\n  }\n\n  unfixedColumn(idx: number) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return widget;\n      }\n      let myObj = <AjfLayoutWidget>widget;\n      let num = myObj.columns.length;\n      let checkSum = 0;\n      let objNum = 0;\n      let value = 1;\n      let spreadValue: any;\n      myObj.columns[idx] = 0;\n\n      for (let j = 0; j < num; j++) {\n        if (myObj.columns[j] === -1) {\n          objNum++;\n        }\n      }\n\n      value = Number(this.roundTo(1 / (num - objNum), 2).toFixed(2));\n\n      for (let i = 0; i < num; i++) {\n        if (myObj.columns[i] !== - 1) {\n          myObj.columns[i] = value;\n          checkSum = Number(this.roundTo(checkSum + value, 2).toFixed(2));\n        }\n      }\n\n      checkSum = Number(this.roundTo(checkSum, 2).toFixed(2));\n\n      if (checkSum > 1) {\n        spreadValue = parseFloat(this.roundTo(((checkSum - 1) % 1), 2).toFixed(2));\n        myObj.columns[idx] -= spreadValue;\n        myObj.columns[idx] = this.roundTo(myObj.columns[idx], 2);\n      } else if (checkSum < 1) {\n        myObj.columns[idx] += (1 - (checkSum % 1));\n        myObj.columns[idx] = Number(this.roundTo(myObj.columns[idx], 2).toFixed(2));\n      }\n\n      return myObj;\n    });\n  }\n\n  /**\n   * Add column on the current AjfLayoutWidget.\n   *\n   * When adding a column the width of the other columns is recalculated\n   * by dividing it by the number of column\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  addColumn() {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return null;\n      }\n      let myObj = <AjfLayoutWidget>widget;\n      let tempObj: number[] = [];\n      let num = myObj.columns.length + 1;\n      let checkSum = 0;\n      let objNum = 0;\n      let value = 1;\n      let tmpValue: any;\n\n      if (num > 10) {\n        throw new Error('exceed max columns');\n      }\n\n      for (let j = 0; j < num; j++) {\n        if (myObj.columns[j] === -1) {\n          objNum++;\n        }\n      }\n      value = Number(this.roundTo(1 / (num - objNum), 2).toFixed(2));\n\n      for (let i = 0; i < num; i++) {\n        if (myObj.columns[i] === -1) {\n          tempObj.push(-1);\n        } else {\n          tempObj.push(value);\n          checkSum = Number(this.roundTo(checkSum + value, 2).toFixed(2));\n        }\n      }\n      checkSum = Number(this.roundTo(checkSum, 2).toFixed(2));\n\n      if (checkSum > 1) {\n        tmpValue =\n          parseFloat(\n            this.roundTo(\n              ((checkSum - 1) % 1), 2\n            ).toFixed(2));\n        tempObj[0] -= tmpValue;\n        tempObj[0] = this.roundTo(tempObj[0], 2);\n      } else if (checkSum < 1) {\n        tempObj[0] += (1 - (checkSum % 1));\n        tempObj[0] = Number(this.roundTo(tempObj[0], 2).toFixed(2));\n      }\n\n      myObj.columns = tempObj;\n\n      // TODO: @trik what's value?!?\n      const columnObj = createWidget({\n        widgetType: 7,\n        // value: myObj.columns[myObj.columns.length - 1],\n      });\n\n      myObj.content.push(columnObj);\n      this._saveReportEvent.emit();\n      return myObj;\n    });\n  }\n\n  removeWidgetToColumn(column: AjfColumnWidget, index: number) {\n    column.content.splice(index, 1);\n  }\n\n  /**\n   * This method remove a widget on the current AjfReport.\n   *\n   * @param node\n   * the position array:\n   *\n   * header -`>` headerWidgets\n   * content -`>` contentWidgets\n   * footer -`>` footerWidgets\n   * column -`>` column of layout\n   * layoutContent -`>` content of layout\n   * obj -`>` obj of layout\n   * customWidget -`>` custom widget\n   *\n   * @param idx the position array\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  remove(node: string, idx: number) {\n\n    switch (node) {\n      case 'header':\n      case 'content':\n      case 'footer':\n        this._updates[node].next((widgets: AjfWidgetsContainer): AjfWidgetsContainer => {\n          if (widgets.widgets.length === 0) {\n            throw new Error('you can not remove from empty array');\n          }\n          if (widgets.widgets[idx] == null) {\n            throw new Error('invalid index');\n          }\n          widgets.widgets.splice(idx, 1);\n          this.updateCurrentWidget(null);\n          return widgets;\n        });\n        break;\n      case 'layout':\n        this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n          if (widget == null) {\n            return null;\n          }\n          const myObj = widget as AjfLayoutWidget;\n\n          if (myObj.columns.length === 1) {\n            (myObj.content[0] as AjfColumnWidget).content.length = 0;\n            return myObj;\n          }\n\n          if (myObj.columns[idx] == null) {\n            throw new Error('this content is undefined');\n          } else {\n            let spread = myObj.columns[idx] / (myObj.columns.length - 1);\n\n            if (myObj.columns.length > 1) {\n              myObj.columns.splice(idx, 1);\n              myObj.content.splice(idx, 1);\n            }\n\n            for (let i = 0; i < myObj.columns.length; i++) {\n              myObj.columns[i] += spread;\n            }\n            this.instantColumnValue(myObj.columns[0], 0);\n          }\n          return myObj;\n        });\n        break;\n      case 'column':\n      case 'layoutContent':\n      case 'unfixedColumn':\n        this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n          if (widget == null) {\n            return null;\n          }\n          let myObj = <AjfLayoutWidget>widget;\n\n          if (node === 'column') {\n            let clm = <AjfColumnWidget>widget;\n            clm.content.splice(idx, 1);\n          } else if (node === 'layoutContent') {\n            if (myObj.columns.length === 0) {\n              throw new Error('the column length is 0');\n            }\n            if (myObj.content.length === 0) {\n              throw new Error('can not remove any widget from empty content');\n            }\n            if (myObj.columns[idx] != null && myObj.content[idx] == null) {\n              throw new Error('this content is undefined');\n            }\n          } else if (node === 'unfixedColumn') {\n            if (myObj.columns[idx] !== -1) {\n              throw new Error('the column position value  isnt -1');\n            }\n            this.unfixedColumn(idx);\n          }\n          // if (node !== 'obj') {\n          //   let spread = myObj.columns[idx] / (myObj.columns.length - 1);\n          //   myObj.content.splice(idx, 1);\n          //   if (myObj.columns.length > 1) {\n          //     myObj.columns.splice(idx, 1);\n          //   }\n          //   for (let i = 0; i < myObj.columns.length; i++) {\n          //     myObj.columns[i] += spread;\n          //   }\n          //   this.instantColumnValue(myObj.columns[0], 0);\n          // }\n          return myObj;\n        });\n        break;\n      case 'customWidgets':\n        {\n        this._updates[node].next((widgets: AjfCustomWidget[]): AjfCustomWidget[] => {\n          if (widgets.length === 0) {\n            throw new Error('you can not remove from empty array');\n          }\n          if (widgets[idx] == null) {\n            throw new Error('invalid index');\n          }\n          widgets.splice(idx, 1);\n          return widgets;\n        });\n        }\n        break;\n      default: throw new Error('unknown node ' + node);\n    }\n  }\n\n  /**\n   * This method add a AjfWidget on the current AjfLayoutWidget.\n   *\n   * @param newWidget\n   * @param idx\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  addToContent(newWidget: AjfWidget, idx: number) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return null;\n      }\n      let myObj = <AjfLayoutWidget>widget;\n\n      if (myObj.content[idx] != null) {\n        myObj.content.splice(idx, 1);\n      }\n      myObj.content.splice(idx, 0, newWidget);\n      return myObj;\n    });\n  }\n\n  addToColumn(event: any, toColumn: AjfColumnWidget, position?: number) {\n    if (event.dragData && event.dragData.fromColumn != null) {\n      let fromColumn: AjfColumnWidget = event.dragData.fromColumn;\n      let widget: AjfWidget = event.dragData.widget;\n      let fromIndex: number = event.dragData.fromIndex;\n\n      fromColumn.content.splice(fromIndex, 1);\n      toColumn.content.push(widget);\n\n    } else if (event.dragData && event.dragData.arrayFrom) {\n      this.remove(event.dragData.arrayFrom, event.dragData.fromIndex);\n      toColumn.content.push(event.dragData.widget);\n    } else if (event.dragData && event.dragData.json) {\n      let obj = JSON.parse(event.dragData.json);\n      let newWidget = deepCopy(obj);\n\n      if (position != null) {\n        toColumn.content.splice(position, 0, newWidget);\n      } else {\n        toColumn.content.push(newWidget);\n      }\n    } else {\n      let obj = {'widgetType': AjfWidgetType[event.dragData]};\n      let newWidget = deepCopy(obj);\n\n      if (position != null) {\n        toColumn.content.splice(position, 0, newWidget);\n      } else {\n        toColumn.content.push(newWidget);\n      }\n    }\n  }\n  changePositionOnColumn(event: any, toColumn: AjfColumnWidget, toIndex: number) {\n    let fromColumn: AjfColumnWidget = event.dragData.fromColumn;\n    let fromIndex: number = event.dragData.fromIndex;\n    let fromWidget: AjfWidget = fromColumn.content[fromIndex];\n    let toWidget: AjfWidget = fromColumn.content[toIndex];\n\n    if (fromColumn == toColumn) {\n      fromColumn.content[fromIndex] = toWidget;\n      fromColumn.content[toIndex] = fromWidget;\n    } else {\n      fromColumn.content.splice(fromIndex, 1);\n      toColumn.content.splice(toIndex, 0, fromWidget);\n    }\n  }\n\n  /**\n   * This method add the obj on the idx position.\n   * Obj have a no specificate width and is not calculate as columns\n   *\n   * @param idx\n   *\n   * @memberOf AjfReportBuilderService\n   */\n  fixedColumn(idx: number) {\n    this.instantColumnValue(-1, idx);\n  }\n\n  changeColumn(from: number, to: number, layoutWidget: AjfLayoutWidget) {\n    if (to < 0 || to >= layoutWidget.content.length) {\n      return;\n    }\n    if (from > layoutWidget.content.length - 1 && to > from) {\n      return;\n    }\n\n    let fromColumn: AjfColumnWidget = <AjfColumnWidget>layoutWidget.content[from];\n    let fromColumnValue: number = layoutWidget.columns[from];\n    let toColumn: AjfColumnWidget = <AjfColumnWidget>layoutWidget.content[to];\n    let toColumnValue: number = layoutWidget.columns[to];\n\n    layoutWidget.content[from] = toColumn;\n    layoutWidget.columns[from] = toColumnValue;\n    layoutWidget.content[to] = fromColumn;\n    layoutWidget.columns[to] = fromColumnValue;\n\n    this.updateCurrentWidget(layoutWidget);\n  }\n\n  addCustomColor(color: string) {\n\n    this._updates['color'].next((colors: string[]): string[] => {\n\n      if (colors.indexOf(color) < 0) {\n        colors.push(color);\n      }\n      return colors;\n    });\n  }\n\n  private _addWidgetToContainer(\n      subj: Subject<AjfWidgetsOperation>, widget: AjfWidget, position?: number) {\n    subj.next((widgets: AjfWidgetsContainer): AjfWidgetsContainer => {\n      if (position != null && position >= 0) {\n        widgets.widgets.splice(position, 0, widget);\n      } else {\n        widgets.widgets.push(widget);\n      }\n      return widgets;\n    });\n    this.updateCurrentWidget(widget);\n    this.setEmptyContent(false);\n  }\n\n  private _setCurrentWidgetProperty(propName: string, value: any) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return null;\n      }\n      (widget as any)[propName] = value;\n      return widget;\n    });\n  }\n\n  private _addToCurrentWidgetArrayProperty(propName: string, value: any) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      if (widget == null) {\n        return null;\n      }\n      const arr = (<Array<any>>(widget as any)[propName]);\n      arr.push(value);\n      (widget as any)[propName] = arr;\n      return widget;\n    });\n  }\n\n  private _removeFromCurrentWidgetArrayProperty(propName: string, idx: number) {\n    this._currentWidgetUpdate.next((widget: AjfWidget|null): AjfWidget|null => {\n      (<Array<any>>(widget as any)[propName]).splice(idx, 1);\n      return widget;\n    });\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {InjectionToken} from '@angular/core';\n\nimport {AjfReportsConfig} from './models';\n\nexport const AJF_REPORTS_CONFIG = new InjectionToken<AjfReportsConfig>('AJF_REPORTS_CONFIG');\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n"],"names":["AjfTextModule","AjfTableModule","AjfMonacoEditorModule","AjfMapModule","AjfImageModule","AjfCommonModule","ColorPickerModule","TranslateModule","MatTooltipModule","MatToolbarModule","MatTabsModule","MatSliderModule","MatSlideToggleModule","MatSidenavModule","MatSelectModule","MatListModule","MatIconModule","MatGridListModule","MatDialogModule","MatCardModule","MatButtonToggleModule","MatButtonModule","DragDropModule","FormsModule","CommonModule","NgModule","ChangeDetectionStrategy","ViewEncapsulation","Component","timer","sizedEnumToStringArray","AjfWidgetType","AjfChartType","Subscription","deepCopy","EventEmitter","Input","distinctUntilChanged","map","startWith","AjfImageType","evaluateExpression","Output","forwardRef","NG_VALIDATORS","NG_VALUE_ACCESSOR","withLatestFrom","filter","AjfAggregationType","Injectable","Pipe","ViewChild","AjfMonacoEditor","AjfValidationService","createFormula","validateExpression","AjfFieldType","AjfExpressionUtils","Optional","Inject","createWidget","tslib_1.__assign","createAggregation","flattenNodes","AjfNodeType","combineLatest","publishReplay","refCount","scan","share","Subject","BehaviorSubject","InjectionToken"],"mappings":"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"}