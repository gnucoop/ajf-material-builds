{"version":3,"file":"material-time.umd.js","sources":["../../src/material/time/time-module.ts","../../src/material/time/time.ts","../../src/material/time/time-model.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\n\nimport {AjfTime} from './time';\n\n@NgModule({\n  imports: [\n    FormsModule,\n  ],\n  declarations: [\n    AjfTime,\n  ],\n  exports: [\n    AjfTime,\n  ]\n})\nexport class AjfTimeModule { }\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, forwardRef, ViewEncapsulation} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\n\nimport {AjfTimeModel} from './time-model';\n\nexport const AJF_TIME_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => AjfTime),\n  multi: true\n};\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-time',\n  templateUrl: 'time.html',\n  styleUrls: ['time.css'],\n  providers: [AJF_TIME_CONTROL_VALUE_ACCESSOR],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfTime implements ControlValueAccessor {\n\n  private _value: AjfTimeModel = new AjfTimeModel();\n  get time(): AjfTimeModel {\n    return this._value;\n  }\n\n  get value(): string {\n    return this._value.toString();\n  }\n\n  set value(value: string) {\n    if (value !== this._value.toString()) {\n        this._value.fromString(value);\n        this._onChangeCallback(value);\n    }\n  }\n\n  get hours(): number { return this._value.hours; }\n  set hours(hours: number) {\n    this._value.hours = hours;\n    this._onChangeCallback(this._value);\n  }\n\n  get minutes(): number { return this._value.minutes; }\n  set minutes(minutes: number) {\n    this._value.minutes = minutes;\n    this._onChangeCallback(this._value);\n  }\n\n\n  private _onChangeCallback: (_: any) => void = (_: any) => {};\n  // tslint:disable-next-line\n  private _onTouchedCallback: () => void = () => {};\n\n  constructor() {\n    this._value.changed\n      .subscribe((x: string) => {\n        this._onChangeCallback(x);\n      });\n  }\n\n  writeValue(value: string) {\n    this._value.fromString(value);\n  }\n\n  registerOnChange(fn: (value: any) => void) {\n    this._onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this._onTouchedCallback = fn;\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {EventEmitter} from '@angular/core';\n\nexport class AjfTimeModel {\n  private _hours = 0;\n  private _minutes = 0;\n  changed: EventEmitter<string> = new EventEmitter<string>();\n\n  get minutes() {\n    return this._minutes;\n  }\n  set minutes(value: number) {\n    if (value > -1 && value < 61) {\n      this._minutes = value;\n      this.changed.emit(this.toString());\n    }\n  }\n\n  get hours() {\n    return this._hours;\n  }\n  set hours(value: number) {\n    if (value > -1 && value < 24) {\n      this._hours = value;\n      this.changed.emit(this.toString());\n    }\n  }\n\n  toString() {\n    let minutes = this.minutes.toString().length > 1 && this.minutes || `0${this.minutes}`;\n    let hours = this.hours.toString().length > 1 && this.hours || `0${this.hours}`;\n    return `${hours}:${minutes}`;\n  }\n\n  fromString(value: string) {\n    try {\n      let splitted = value.split(':');\n      if (splitted.length == 2) {\n        this.hours = parseInt(splitted[0]);\n        this.minutes = parseInt(splitted[1]);\n      }\n    } catch (e) {\n\n    }\n  }\n}\n"],"names":["FormsModule","NgModule","ChangeDetectionStrategy","ViewEncapsulation","Component","forwardRef","NG_VALUE_ACCESSOR","EventEmitter"],"mappings":"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"}