{"version":3,"file":"forms.es5.js","sources":["../../../src/material/forms/forms-module.ts","../../../src/material/forms/form.ts","../../../src/material/forms/field.ts","../../../src/material/forms/field-warning-dialog.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport {MatToolbarModule} from '@angular/material/toolbar';\n\nimport {TranslateModule} from '@ngx-translate/core';\n\nimport {AjfFormsModule as AjfCoreFormsModule} from '@ajf/core/forms';\nimport {AjfCommonModule} from '@ajf/core/common';\nimport {AjfCalendarModule} from '@ajf/material/calendar';\nimport {AjfCheckboxGroupModule} from '@ajf/material/checkbox-group';\nimport {AjfPageSliderModule} from '@ajf/material/page-slider';\nimport {AjfTimeModule} from '@ajf/material/time';\n\nimport {AjfFormField} from './field';\nimport {AjfFormFieldWarningDialog} from './field-warning-dialog';\nimport {AjfFormRenderer} from './form';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    MatButtonModule,\n    MatCardModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatInputModule,\n    MatRadioModule,\n    MatSelectModule,\n    MatSlideToggleModule,\n    MatToolbarModule,\n    TranslateModule,\n    AjfCoreFormsModule,\n    AjfCalendarModule,\n    AjfCheckboxGroupModule,\n    AjfPageSliderModule,\n    AjfTimeModule,\n    AjfCommonModule\n  ],\n  declarations: [\n    AjfFormField,\n    AjfFormFieldWarningDialog,\n    AjfFormRenderer\n  ],\n  exports: [\n    AjfFormField,\n    AjfFormRenderer\n  ],\n  entryComponents: [\n    AjfFormFieldWarningDialog\n  ]\n})\nexport class AjfFormsModule { }\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  ChangeDetectorRef, ChangeDetectionStrategy, Component, Input,\n  ViewChild, ViewChildren, ViewEncapsulation\n} from '@angular/core';\n\nimport {AjfFormRenderer as AjfCoreFormRenderer, AjfFormRendererService} from '@ajf/core/forms';\n\nimport {AjfFormField} from './field';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-form',\n  templateUrl: 'form.html',\n  styleUrls: ['form.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: [\n    'hasStartMessage',\n    'hasEndMessage',\n    'form',\n    'formSchema',\n    'saveDisabled',\n    'title',\n    'hideTopToolbar',\n    'hideBottomToolbar',\n    'hideNavigationButtons',\n    'orientation',\n    'fixedOrientation',\n  ],\n  outputs: [\n    'formSave',\n    'formAction',\n    'orientationChange',\n  ],\n  queries: {\n    formSlider: new ViewChild('formSlider'),\n    fields: new ViewChildren(AjfFormField)\n  }\n})\n/**\n * This class will define an ajf form renderer\n * @implements : AfterViewInit\n * @implements : AfterViewInit\n */\nexport class AjfFormRenderer extends AjfCoreFormRenderer {\n  @Input() topBar: boolean = false;\n\n  constructor(\n    rendererService: AjfFormRendererService,\n    changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(rendererService, changeDetectorRef);\n  }\n\n  scrollToSlide(slide: any): void {\n    this.formSlider.slide({to: slide.position - 1});\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  ChangeDetectionStrategy, ChangeDetectorRef, Component,\n  OnDestroy, OnInit, ViewChild, ViewEncapsulation\n} from '@angular/core';\nimport {MatDialog} from '@angular/material/dialog';\n\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nimport {\n  AjfFormField as AjfCoreFormField, AjfFormFieldWarningAlertResult, AjfFormRendererService\n} from '@ajf/core/forms';\n\nimport {AjfFormFieldWarningDialog} from './field-warning-dialog';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'ajf-form-field',\n  templateUrl: 'field.html',\n  styleUrls: ['field.css'],\n  encapsulation: ViewEncapsulation.None,\n  inputs: [\n    'fieldInstance'\n  ],\n  outputs: [\n    'valueChanged'\n  ],\n  queries: {\n    singleChoiceSelect: new ViewChild('singleChoiceSelect'),\n    multipleChoiceSelect: new ViewChild('multipleChoiceSelect')\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AjfFormField extends AjfCoreFormField implements OnDestroy, OnInit {\n  constructor(\n    _rendererService: AjfFormRendererService,\n    _changeDetectionRef: ChangeDetectorRef,\n    private _dialog: MatDialog\n  ) {\n    super(_rendererService, _changeDetectionRef);\n  }\n\n  showWarningAlertPrompt(messagesWarning: string[]): Observable<AjfFormFieldWarningAlertResult> {\n    const dialog = this._dialog.open(AjfFormFieldWarningDialog);\n    dialog.componentInstance.message = messagesWarning.join('<br>');\n    return dialog.afterClosed().pipe(\n      map((result: boolean) => ({result}))\n    );\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectionStrategy, Component, ViewEncapsulation} from '@angular/core';\n\n\n@Component({\n  moduleId: module.id,\n  templateUrl: 'field-warning-dialog.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class AjfFormFieldWarningDialog {\n  message: string;\n}\n"],"names":["AjfCoreFormsModule","tslib_1.__extends"],"mappings":"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"}